import{L}from"./Admin.5eba6960.js";import{P as R}from"./Pagination.9deb5c08.js";import{H as P,L as N,q as I,r as T,o as a,c as o,e as h,w as _,a as t,i as S,j as g,v as O,n as y,D as C,F as p,C as A,b as x,d as w,k as f,t as s,f as j}from"./app.ce00f413.js";import{S as b}from"./sweetalert2.all.4b697a2c.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const Y={layout:L,components:{Head:P,Link:N,Pagination:R},props:{errors:Object,posts:Object,publishs:Object,categories:Object,limiteds:Object},data(){return{activeTab:"sub"}},methods:{setActiveTab(m){this.activeTab=m}},setup(){const m=I(new URL(document.location).searchParams.get("q"));return{search:m,handleSearch:()=>{f.Inertia.get("/admin/posts",{q:m.value})},handleReject:i=>{b.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak pengajuan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(l=>{l.isConfirmed&&(f.Inertia.get(`/admin/posts/${i}/reject`),b.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleApprove:i=>{b.fire({title:"Apakah Anda yakin?",text:"Post akan dipublikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(l=>{l.isConfirmed&&(f.Inertia.get(`/admin/posts/${i}/approve`),b.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleReturn:i=>{b.fire({title:"Apakah Anda yakin?",text:"Post akan dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Return it!"}).then(l=>{l.isConfirmed&&(f.Inertia.get(`/admin/posts/${i}/return`),b.fire({title:"Success!",text:"Status Returned!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleCancel:i=>{b.fire({title:"Apakah Anda yakin?",text:"Anda akan membatalkan publikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(l=>{l.isConfirmed&&(f.Inertia.get(`/admin/posts/${i}/cancel`),b.fire({title:"Success!",text:"Status Cancelled!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleLimited:i=>{b.fire({title:"Apakah Anda yakin?",text:"Publikasi akan bersifat terbatas!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Aprrove it!"}).then(l=>{l.isConfirmed&&(f.Inertia.get(`/admin/posts/${i}/limited`),b.fire({title:"Success!",text:"Status Limited!.",icon:"success",timer:2e3,showConfirmButton:!1}))})}}}},H=t("title",null,"Administrator",-1),K={class:"container-fluid padding px-5"},q={class:"row"},D={class:"col-md-12"},F={class:"row"},M={class:"col-md-1 col-12 mb-2"},U=t("i",{class:"fa fa-plus-circle"},null,-1),z=j(" Tambah"),E={class:"col-md-1 col-12 mb-2"},G=t("i",{class:"fa fa-plus-circle"},null,-1),J=j(" Kategori "),Q={class:"col-md-6 col-12 mb-2"},W={class:"input-group"},X=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1),Z={class:"row mt-1"},$={class:"col-md-12"},tt={class:"card border-0 shadow"},et={class:"card-body"},st={class:"nav nav-tabs"},at={class:"nav-item"},nt={class:"nav-item"},it={class:"nav-item"},ot={class:"nav-item"},lt={class:"table-responsive",id:"sub"},dt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},rt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Titleee"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Status"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),ct=t("div",{class:"mt-2"},null,-1),ut={class:"fw-bold text-center"},bt={key:0,class:"badge bg-success",title:"disetujui untuk di publish"},ht={key:1,class:"badge bg-warning",title:"hanya untuk konsumsi pribadi"},_t={key:2,class:"badge bg-warning",title:"silakan dicek kembali"},mt={key:3,class:"badge bg-danger",title:"ditolak untuk publish"},ft={key:4,class:"badge bg-secondary"},kt={key:5,class:"badge bg-danger",title:"ditolak untuk publish"},vt={key:6,class:"badge bg-secondary"},gt={class:"text-center"},pt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),wt=["onClick"],yt=t("i",{class:"fa fa-check-circle fa-lg","aria-hidden":"true"},null,-1),Ct=[yt],At=t("i",{class:"fa fa-pencil fa-lg","aria-hidden":"true"},null,-1),xt=["onClick"],Tt=t("i",{class:"fa fa-user-circle fa-lg","aria-hidden":"true"},null,-1),Bt=[Tt],St=["onClick"],jt=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),Lt=[jt],Rt={class:"table-responsive",id:"approved"},Pt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Nt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),It=t("div",{class:"mt-2"},null,-1),Ot={class:"fw-bold text-center"},Vt={class:"text-center"},Yt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),Ht=["onClick"],Kt=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),qt=[Kt],Dt={class:"table-responsive",id:"limited"},Ft={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Mt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),Ut=t("div",{class:"mt-2"},null,-1),zt={class:"fw-bold text-center"},Et={class:"text-center"},Gt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),Jt=["onClick"],Qt=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),Wt=[Qt],Xt={class:"table-responsive",id:"category"},Zt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},$t=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),te=t("div",{class:"mt-2"},null,-1),ee={class:"fw-bold text-center"},se={class:"text-center"},ae=["onClick"],ne=t("i",{class:"fa fa-trash",title:"hapus"},null,-1),ie=[ne];function oe(m,d,n,u,r,k){const B=T("Head"),i=T("Link"),l=T("Pagination");return a(),o(p,null,[h(B,null,{default:_(()=>[H]),_:1}),t("div",K,[t("div",q,[t("div",D,[t("div",F,[t("div",M,[h(i,{href:"/admin/posts/create",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:_(()=>[U,z]),_:1})]),t("div",E,[h(i,{href:"/admin/category/create",class:"btn btn-md btn-warning border-0 shadow w-100",type:"button"},{default:_(()=>[G,J]),_:1})]),t("div",Q,[t("form",{onSubmit:d[1]||(d[1]=S((...e)=>u.handleSearch&&u.handleSearch(...e),["prevent"]))},[t("div",W,[g(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":d[0]||(d[0]=e=>u.search=e),placeholder:"masukkan kata kunci dan enter..."},null,512),[[O,u.search]]),X])],32)])])])]),t("div",Z,[t("div",$,[t("div",tt,[t("div",et,[t("ul",st,[t("li",at,[t("a",{class:y(["nav-link",{active:r.activeTab==="sub"}]),onClick:d[2]||(d[2]=e=>k.setActiveTab("sub"))},"Submission",2)]),t("li",nt,[t("a",{class:y(["nav-link",{active:r.activeTab==="approved"}]),onClick:d[3]||(d[3]=e=>k.setActiveTab("approved"))},"Publish",2)]),t("li",it,[t("a",{class:y(["nav-link",{active:r.activeTab==="limited"}]),onClick:d[4]||(d[4]=e=>k.setActiveTab("limited"))},"Limited",2)]),t("li",ot,[t("a",{class:y(["nav-link",{active:r.activeTab==="category"}]),onClick:d[5]||(d[5]=e=>k.setActiveTab("category"))},"Category",2)])]),g(t("div",lt,[t("table",dt,[rt,ct,t("tbody",null,[(a(!0),o(p,null,A(n.posts.data,(e,c)=>(a(),o("tr",{key:c},[t("td",ut,s(++c+(n.posts.current_page-1)*n.posts.per_page),1),t("td",null,s(e.title),1),t("td",null,s(e.member_id!==1?e.member.name:"Administrator"),1),t("td",null,s(e.category.title),1),t("td",null,[e.status==="approved"?(a(),o("span",bt,s(e.status),1)):e.status==="private"?(a(),o("span",ht,s(e.status),1)):e.status==="perlu ada perbaikan"?(a(),o("span",_t,s(e.status),1)):e.status==="rejected"?(a(),o("span",mt,s(e.status),1)):e.status==="submission"?(a(),o("span",ft,s(e.status),1)):e.status==="return"?(a(),o("span",kt,s(e.status),1)):e.status==="limited"?(a(),o("span",vt,s(e.status),1)):w("",!0)]),t("td",gt,[h(i,{href:`/admin/posts/${e.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:_(()=>[pt]),_:2},1032,["href"]),t("button",{onClick:v=>u.handleApprove(e.id),title:"setuju untuk publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},Ct,8,wt),h(i,{href:"`/admin/posts/${post.id}/edit`",title:"edit",class:"btn btn-sm btn-warning border-0 shadow me-2"},{default:_(()=>[At]),_:1}),t("button",{onClick:v=>u.handleLimited(e.id),title:"setuju untuk limited publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},Bt,8,xt),t("button",{onClick:v=>u.handleReject(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},Lt,8,St)])]))),128))])])],512),[[C,r.activeTab==="sub"]]),g(t("div",Rt,[t("table",Pt,[Nt,It,t("tbody",null,[(a(!0),o(p,null,A(n.publishs.data,(e,c)=>(a(),o("tr",{key:c},[t("td",Ot,s(++c+(n.publishs.current_page-1)*n.publishs.per_page),1),t("td",null,s(e.post.title),1),t("td",null,s(e.post.category.title),1),t("td",null,s(e.post.member.name!==1?e.post.member.name:"Administrator"),1),t("td",Vt,[h(i,{href:`/admin/posts/${e.post.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:_(()=>[Yt]),_:2},1032,["href"]),t("button",{onClick:v=>u.handleCancel(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},qt,8,Ht)])]))),128))])])],512),[[C,r.activeTab==="approved"]]),g(t("div",Dt,[t("table",Ft,[Mt,Ut,t("tbody",null,[(a(!0),o(p,null,A(n.limiteds.data,(e,c)=>(a(),o("tr",{key:c},[t("td",zt,s(++c+(n.limiteds.current_page-1)*n.limiteds.per_page),1),t("td",null,s(e.title),1),t("td",null,s(e.category.title),1),t("td",null,s(e.member.name!==1?e.member.name:"Administrator"),1),t("td",Et,[h(i,{href:`/admin/posts/${e.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:_(()=>[Gt]),_:2},1032,["href"]),t("button",{onClick:v=>u.handleCancel(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},Wt,8,Jt)])]))),128))])])],512),[[C,r.activeTab==="limited"]]),g(t("div",Xt,[t("table",Zt,[$t,te,t("tbody",null,[(a(!0),o(p,null,A(n.categories.data,(e,c)=>(a(),o("tr",{key:c},[t("td",ee,s(++c+(n.categories.current_page-1)*n.categories.per_page),1),t("td",null,s(e.title),1),t("td",se,[t("button",{onClick:S(v=>m.destroy(e.id),["prevent"]),class:"btn btn-sm btn-danger border-0 me-2"},ie,8,ae)])]))),128))])])],512),[[C,r.activeTab==="category"]]),r.activeTab==="sub"?(a(),x(l,{key:0,links:n.posts.links,align:"end"},null,8,["links"])):w("",!0),r.activeTab==="approved"?(a(),x(l,{key:1,links:n.publishs.links,align:"end"},null,8,["links"])):w("",!0),r.activeTab==="limited"?(a(),x(l,{key:2,links:n.limiteds.links,align:"end"},null,8,["links"])):w("",!0),r.activeTab==="category"?(a(),x(l,{key:3,links:n.categories.links,align:"end"},null,8,["links"])):w("",!0)])])])])])],64)}const be=V(Y,[["render",oe]]);export{be as default};
