import{L as D}from"./Admin.f4fbbf1d.js";import{H as L,L as S,q as x,a as v,o as r,c as i,b as p,w as g,d as o,e as I,f as m,v as c,t as l,g as d,F as y,j as A,h,s as k,k as C,i as M}from"./app.8cf94ea6.js";import{S as V}from"./sweetalert2.all.d0470cdd.js";import{_ as K}from"./_plugin-vue_export-helper.cdc0426e.js";const N={data(){return{searchInstansi:"",showDropdown:!1,form:{term:!1}}},computed:{filteredInstansis(){return this.instansis.filter(a=>a.title.toLowerCase().includes(this.searchInstansi.toLowerCase()))}},methods:{toggleSearch(){this.showDropdown=!this.showDropdown,this.showDropdown?document.body.addEventListener("click",this.closeDropdownOutside):document.body.removeEventListener("click",this.closeDropdownOutside)},closeDropdownOutside(a){this.$refs.dropdownWrapper.contains(a.target)||(this.showDropdown=!1,document.body.removeEventListener("click",this.closeDropdownOutside))},selectInstansi(a){this.form.agency=a.title,this.searchInstansi="",this.showDropdown=!1}},layout:D,components:{Head:L,Link:S},props:{errors:Object,session:Object,instansis:Array,archive:Object},setup(a){const t=x({nip:a.archive.nip,name:a.archive.name,email:a.archive.email,contact:a.archive.contact,agency:a.archive.agency,position:a.archive.position,title:a.archive.title,document:a.archive.document,category:a.archive.category});return{form:t,submit:()=>{C.Inertia.put(`/admin/archives/${a.archive.id}`,{nip:t.nip,name:t.name,email:t.email,contact:t.contact,agency:t.agency,position:t.position,title:t.title,document:t.document,category:t.category},{onSuccess:()=>{V.fire({title:"Success!",text:"Permintaan Berhasil Dikirim, Silakan Cek Email Anda.",icon:"success",showConfirmButton:!1,timer:2e3})}})},updateDocument:u=>{t.document=u.target.files[0]}}}},P={class:"container-fluid padding px-5"},j={class:"row d-flex justify-content-center"},U={class:"col-lg-12 col-md-12 col-sm-10"},E={class:"col-md-2 col-12 mb-2"},O={class:"mt-4"},J={class:"row"},B={class:"col-md-6 col-sm-6"},H={class:"form-group bottom35 mt-1"},T={key:0,class:"alert alert-danger mt-2"},F={class:"col-md-6 col-sm-6"},W={class:"form-group bottom35 mt-1"},q={key:0,class:"alert alert-danger mt-2"},G={class:"col-md-6 col-sm-6"},z={class:"form-group bottom35 mt-1"},Q={key:0,class:"alert alert-danger mt-2"},R={class:"col-md-6 col-sm-6"},X={class:"form-group bottom35 mt-1"},Y={key:0,class:"alert alert-danger mt-2"},Z={class:"col-md-6 col-sm-6"},$={class:"form-group bottom35 mt-1"},tt={class:"position-relative",ref:"dropdownWrapper"},ot={class:"form-group mt-1"},et={key:0,class:"dropdown-menu position-absolute w-100"},st={key:0,class:"dropdown-item-list"},nt=["onClick"],at={key:1,class:"dropdown-item disabled"},rt={key:0,class:"alert alert-danger mt-2"},it={class:"col-md-3 col-sm-3"},lt={class:"form-group bottom35 mt-1"},dt={key:0,class:"alert alert-danger mt-2"},mt={class:"col-md-3 col-sm-3"},ct={class:"form-group bottom35 mt-1"},ut={key:0,class:"alert alert-danger mt-2"},ft={class:"col-md-6 col-sm-6"},vt={class:"form-group bottom35 mt-1"},pt={class:"input-group"},gt={key:0,class:"alert alert-danger mt-2"},yt={key:1,class:"alert alert-danger mt-2"},ht={class:"col-md-6 col-sm-6"},kt={class:"form-group bottom35 mt-1"},bt={key:0,class:"alert alert-danger mt-2"};function _t(a,t,s,n,u,f){const b=v("Head"),_=v("Link");return r(),i(y,null,[p(b,null,{default:g(()=>[...t[12]||(t[12]=[o("title",null,"Hubungi Aspro SDMA",-1)])]),_:1}),o("section",null,[o("div",P,[o("div",j,[o("div",U,[o("div",E,[p(_,{href:"/admin/archives",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:g(()=>[...t[13]||(t[13]=[o("i",{class:"fa fa-arrow-left"},null,-1),M(" Kembali",-1)])]),_:1})]),o("div",O,[o("form",{onSubmit:t[11]||(t[11]=I((...e)=>n.submit&&n.submit(...e),["prevent"])),class:"getin_form border-form",id:"post",enctype:"multipart/form-data"},[o("div",J,[o("div",B,[t[14]||(t[14]=o("span",{class:"ms-4"}," NIP ",-1)),o("div",H,[m(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.form.nip=e),placeholder:"Masukan NIP",maxlength:"18",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[c,n.form.nip]]),s.errors.nip?(r(),i("div",T,l(s.errors.nip),1)):d("",!0)])]),o("div",F,[t[15]||(t[15]=o("span",{class:"ms-4"}," Nama Lengkap ",-1)),o("div",W,[m(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.name=e),placeholder:"Masukan Nama Lengkap Tanpa Gelar"},null,512),[[c,n.form.name]]),s.errors.name?(r(),i("div",q,l(s.errors.name),1)):d("",!0)])]),o("div",G,[t[16]||(t[16]=o("span",{class:"ms-4"}," Email ",-1)),o("div",z,[m(o("input",{type:"email",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>n.form.email=e),placeholder:"Masukan Alamat Email Aktif"},null,512),[[c,n.form.email]]),s.errors.email?(r(),i("div",Q,l(s.errors.email),1)):d("",!0)])]),o("div",R,[t[17]||(t[17]=o("span",{class:"ms-4"}," Nomor Kontak ",-1)),o("div",X,[m(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>n.form.contact=e),placeholder:"Masukan Nomor Kontak Aktif",maxlength:"13",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[c,n.form.contact]]),s.errors.contact?(r(),i("div",Y,l(s.errors.contact),1)):d("",!0)])]),o("div",Z,[t[18]||(t[18]=o("label",{for:"agency",class:"ms-4"},"Instansi",-1)),o("div",$,[o("div",tt,[o("div",ot,[m(o("input",{type:"text",class:"form-control",placeholder:"Pilih Instansi","onUpdate:modelValue":t[4]||(t[4]=e=>n.form.agency=e),onClick:t[5]||(t[5]=(...e)=>f.toggleSearch&&f.toggleSearch(...e)),readonly:""},null,512),[[c,n.form.agency]])]),u.showDropdown?(r(),i("div",et,[m(o("input",{type:"text",class:"form-control mb-2",placeholder:"Cari Instansi","onUpdate:modelValue":t[6]||(t[6]=e=>u.searchInstansi=e)},null,512),[[c,u.searchInstansi]]),f.filteredInstansis.length>0?(r(),i("div",st,[(r(!0),i(y,null,A(f.filteredInstansis,(e,w)=>(r(),i("button",{key:w,class:"dropdown-item",onClick:wt=>f.selectInstansi(e)},l(e.title),9,nt))),128))])):(r(),i("div",at,"Instansi tidak ditemukan"))])):d("",!0)],512),s.errors.agency?(r(),i("div",rt,l(s.errors.agency),1)):d("",!0)])]),o("div",it,[t[20]||(t[20]=o("span",{class:"ms-4"}," Jabatan ",-1)),o("div",lt,[m(o("select",{type:"form-select",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>n.form.position=e)},[...t[19]||(t[19]=[k('<option value="" disabled selected>Pilih Jabatan</option><option value="Jabatan Struktural">Jabatan Struktural K/L</option><option value="Analis SDM Aparatur">Analis SDM Aparatur</option><option value="Pranata SDM Aparatur">Pranata SDM Aparatur</option><option value="Lainnya">Lainnya</option>',5)])],512),[[h,n.form.position]]),s.errors.position?(r(),i("div",dt,l(s.errors.position),1)):d("",!0)])]),o("div",mt,[t[22]||(t[22]=o("span",{class:"ms-4"}," Kategori ",-1)),o("div",ct,[m(o("select",{type:"form-select",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=e=>n.form.category=e)},[...t[21]||(t[21]=[k('<option value="" disabled selected>Pilih Kategori</option><option value="Konsultasi">Konsultasi</option><option value="Laporan">Laporan</option><option value="Pengaduan">Pengaduan</option><option value="Kerjasama">Kerjasama</option><option value="Kerjasama">Lainnya</option>',6)])],512),[[h,n.form.category]]),s.errors.category?(r(),i("div",ut,l(s.errors.category),1)):d("",!0)])]),o("div",ft,[t[23]||(t[23]=o("span",{class:"ms-4"}," Dokumen (Jika Ada / Maks 2Mb) ",-1)),o("div",vt,[o("div",pt,[o("input",{type:"file",class:"form-control",onChange:t[9]||(t[9]=(...e)=>n.updateDocument&&n.updateDocument(...e))},null,32)]),s.errors.document?(r(),i("div",gt,l(s.errors.document),1)):d("",!0),s.errors[0]?(r(),i("div",yt,l(s.errors[0]),1)):d("",!0)])]),o("div",ht,[t[24]||(t[24]=o("span",{class:"ms-4"}," Topik Pertanyaan ",-1)),o("div",kt,[m(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>n.form.title=e),placeholder:"Masukan Judul"},null,512),[[c,n.form.title]]),s.errors.title?(r(),i("div",bt,l(s.errors.title),1)):d("",!0)])]),t[25]||(t[25]=o("div",{class:"row d-flex justify-content-center"},[o("button",{type:"submit",class:"button btnprimary",style:{width:"300px"}},"Submit")],-1))])],32)])])])])])],64)}const It=K(N,[["render",_t]]);export{It as default};
