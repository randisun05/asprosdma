import{L as w}from"./Admin.f4fbbf1d.js";import{H as P,L as x,r as L,q as c,a as f,o as T,c as R,b as s,w as v,d as e,i,F}from"./app.8cf94ea6.js";import"./sweetalert2.all.d0470cdd.js";import{B as q}from"./BarChart.4481ab87.js";import{h as G,E as H}from"./jspdf.es.min.74c631ee.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";const M={layout:w,components:{Head:P,Link:x,BarChart:q},props:{errors:Object,countsPerMonth:{type:Object,required:!0,default:()=>({})},errors:Object,dataCountsByPosition:{type:Object,required:!0,default:()=>({})},dataCountsByLevel:{type:Object,required:!0,default:()=>({})},accumulatedCounts:{type:Object,required:!0,default:()=>({})},dataCountsByGender:{type:Object,required:!0,default:()=>({})},dataCountsByType:{type:Object,required:!0,default:()=>({})},dataCountsByRegion:{type:Object,required:!0,default:()=>({})}},setup(n){const o=L(null),O=c({responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{color:"#000",anchor:"end",align:"end",font:{weight:"bold",size:12},formatter(t){return t}}}}),a=c({labels:Object.keys(n.countsPerMonth).map(t=>`${t}`),datasets:[{label:"Counts By Month",backgroundColor:"#FFA500",data:Object.values(n.countsPerMonth)}]}),g=c({labels:Object.keys(n.dataCountsByPosition).map(t=>`${t}`),datasets:[{label:"Counts By Jabatan",backgroundColor:"#f87979",data:Object.values(n.dataCountsByPosition)}]}),B=c({labels:Object.keys(n.dataCountsByLevel).map(t=>`${t}`),datasets:[{label:"Counts By Jenjang",backgroundColor:"#7acbf9",data:Object.values(n.dataCountsByLevel)}]}),u=c({labels:Object.keys(n.dataCountsByGender).map(t=>`${t}`),datasets:[{label:"Counts By Gender",backgroundColor:"#f9a57a",data:Object.values(n.dataCountsByGender)}]}),h=c({labels:Object.keys(n.dataCountsByType).map(t=>`${t}`),datasets:[{label:"Counts By Tipe Instansi",backgroundColor:"#a57af9",data:Object.values(n.dataCountsByType)}]}),r=c({labels:Object.keys(n.dataCountsByRegion).map(t=>`${t}`),datasets:[{label:"Counts By Region",backgroundColor:"#7af9d4",data:Object.values(n.dataCountsByRegion)}]}),b=c({labels:Object.keys(n.accumulatedCounts).map(t=>`${t}`),datasets:[{label:"Accumulation by Month",backgroundColor:"#79f879",data:Object.values(n.accumulatedCounts)}]});return{reportContent:o,chartDataByPosition:g,chartDataByLevel:B,chartDataAccumulated:b,chartOptions:O,chartDataByMonth:a,exportToPDF:()=>{o.value?G(o.value,{scale:2}).then(t=>{const C=t.toDataURL("image/png"),d=new H("p","mm","a4"),m=d.internal.pageSize.getWidth(),y=d.internal.pageSize.getHeight(),_=t.width,j=t.height,k=_/j,l=m/k;let D=0,p=l;if(l>y)for(;p>0;)d.addImage(C,"PNG",0,D,m,l),p-=y,D-=y,p>0&&d.addPage();else d.addImage(C,"PNG",0,0,m,l);d.save("report.pdf")}):console.error("reportContent is not available")},chartDataByGender:u,chartDataByType:h,chartDataByRegion:r}}},N={class:"container-fluid padding px-5"},I={class:"row"},z={class:"col-md-12"},E={class:"row"},V={class:"col-md-6 col-12 mb-2"},W={class:"row mt-1"},J={class:"col-md-12"},S={class:"card border-0 shadow"},K={class:"card-body",ref:"reportContent"};function U(n,o,O,a,g,B){const u=f("Head"),h=f("Link"),r=f("BarChart");return T(),R(F,null,[s(u,null,{default:v(()=>[...o[1]||(o[1]=[e("title",null,"Administrator",-1)])]),_:1}),e("div",N,[e("div",I,[e("div",z,[e("div",E,[e("div",V,[s(h,{href:"/admin/members",class:"btn btn-md btn-primary border-0 shadow mb-3 me-2",type:"button"},{default:v(()=>[...o[2]||(o[2]=[e("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1),i(" Kembali",-1)])]),_:1}),o[4]||(o[4]=e("a",{href:"/admin/members/report/export",target:"_blank",class:"btn btn-md btn-success border-0 shadow mb-3 me-2",type:"button"},[e("i",{class:"fa fa-download","aria-hidden":"true"}),i(" Download Laporan")],-1)),e("button",{onClick:o[0]||(o[0]=(...b)=>a.exportToPDF&&a.exportToPDF(...b)),class:"btn btn-md btn-danger border-0 shadow mb-3",type:"button"},[...o[3]||(o[3]=[e("i",{class:"fa fa-file-pdf","aria-hidden":"true"},null,-1),i(" Export to PDF ",-1)])]),o[5]||(o[5]=e("a",{href:"/admin/members/report/recap",target:"_blank",class:"btn btn-md btn-info border-0 shadow mb-3 me-2 text-white ms-2",type:"button"},[e("i",{class:"fa fa-file-excel","aria-hidden":"true"}),i(" Download Rekap ")],-1))])])])]),e("div",W,[e("div",J,[e("div",S,[e("div",K,[s(r,{chartData:a.chartDataByMonth,chartOptions:a.chartOptions},null,8,["chartData","chartOptions"]),s(r,{chartData:a.chartDataByPosition,chartOptions:a.chartOptions},null,8,["chartData","chartOptions"]),s(r,{chartData:a.chartDataByLevel,chartOptions:a.chartOptions},null,8,["chartData","chartOptions"]),s(r,{chartData:a.chartDataAccumulated,chartOptions:a.chartOptions},null,8,["chartData","chartOptions"]),s(r,{chartData:a.chartDataByGender,chartOptions:a.chartOptions},null,8,["chartData","chartOptions"]),s(r,{chartData:a.chartDataByType,chartOptions:a.chartOptions},null,8,["chartData","chartOptions"]),s(r,{chartData:a.chartDataByRegion,chartOptions:a.chartOptions},null,8,["chartData","chartOptions"])],512)])])])])],64)}const et=A(M,[["render",U]]);export{et as default};
