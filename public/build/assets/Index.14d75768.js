import{L as w}from"./User.1be951eb.js";import{M as x}from"./MemberCard.5a0a7135.js";import{_ as b}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as g,c as p,H as k,L as v,a as m,b as h,w as u,d as e,t as C,F as y,k as R,i as L,p as S,l as U}from"./app.bc1dc7ab.js";import{S as q}from"./sweetalert2.all.9e70c835.js";import"./Footer.2bbc38dc.js";const E={},A={class:"member-card"};function I(s,r){return g(),p("div",A)}const B=b(E,[["render",I],["__scopeId","data-v-f386fe37"]]);const O={layout:w,components:{Head:k,Link:v,MemberCard:x,BackCard:B},props:{errors:Object,profile:Object,foto:Object,qrCode:String,qrLink:String},setup(){return{getImageUrl:t=>`/storage/${t}`,changePhoto:()=>{R.Inertia.get("/user/member-card/edit",{q:search.value})},downloadCard:async()=>{const t=document.getElementById("downloadFrame"),l="/user/member-card/download",c="/user/member-card/backcard";t.src=l,t.onload=()=>{console.log("Rendering completed in iframe, starting download of backcard...")};try{const a=await fetch(c,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});if(!a.ok)throw new Error("Failed to fetch backcard image.");const f=await a.blob(),_=URL.createObjectURL(f),n=document.createElement("a");n.href=_,n.download="kartu-anggota-belakang.png",n.click(),URL.revokeObjectURL(_)}catch(a){console.error("Error during file download:",a)}},generateQRCode:async()=>{try{const t=await fetch("/user/member-card/qrcode",{method:"GET",headers:{"Content-Type":"image/svg+xml"}});if(!t.ok)throw new Error(`Failed to fetch QR Code. Status: ${t.status}`);const l=await t.blob(),c=URL.createObjectURL(l),a=document.createElement("a");a.href=c,a.download="qrcode.svg",a.click(),URL.revokeObjectURL(c)}catch(t){console.error("Error during QR Code download:",t),q.fire("Error","Gagal mengunduh QR Code. Coba lagi nanti.","error")}}}}},o=s=>(S("data-v-1e6f60f0"),s=s(),U(),s),j=o(()=>e("title",null,"Kartu Anggota",-1)),F=o(()=>e("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},null,-1)),M={class:"px-5 shadow padding scalable-container"},Q=o(()=>e("div",{class:"row"},[e("div",{class:"col-md-12"},[e("div",{class:"row"})])],-1)),T=o(()=>e("div",{class:"row text-center"},null,-1)),z={id:"our-blog"},D={class:"padding_m card"},P={class:"row"},H={class:"col-12"},N={class:"row px-5 py-5"},G={class:"col-md-4 card-member-container"},K={class:"col-md-4"},V={class:"col-md-4"},X=o(()=>e("h3",{class:"mb-4",style:{"font-size":"28px","font-weight":"bold",color:"#333"}},"Kartu Anggota ASPRO SDM Aparatur",-1)),J=o(()=>e("h4",{style:{"font-size":"18px",color:"#777","line-height":"1.6"}}," Adalah tanda pengenal resmi bagi anggota Asosiasi Profesi Sumber Daya Manusia Aparatur (ASPRO SDM Aparatur). ",-1)),W=o(()=>e("br",null,null,-1)),Y={style:{"font-size":"18px",color:"#777","line-height":"1.6"}},Z=L(" Tautan alamat profile keanggotaan Anda adalah "),$=["href"],ee={class:"d-flex flex-column align-items-center mt-5"},oe={class:"d-flex justify-content-between mb-3",style:{width:"100%"}},te=o(()=>e("i",{class:"fa fa-arrow-down fa-2x me-2","aria-hidden":"true"},null,-1)),ae=o(()=>e("span",null,"Download",-1)),ne=[te,ae],se=o(()=>e("i",{class:"fa fa-qrcode fa-2x me-2","aria-hidden":"true"},null,-1)),re=o(()=>e("span",null,"Download QR Code",-1)),de=[se,re],ce=o(()=>e("i",{class:"fa fa-camera-retro fa-2x me-2","aria-hidden":"true"},null,-1)),ie=o(()=>e("span",null,"Ubah Foto",-1)),le=o(()=>e("iframe",{id:"downloadFrame",style:{visibility:"hidden"}},null,-1));function _e(s,r,d,i,t,l){const c=m("Head"),a=m("MemberCard"),f=m("BackCard"),_=m("Link");return g(),p(y,null,[h(c,null,{default:u(()=>[j,F]),_:1}),e("div",M,[Q,T,e("section",z,[e("div",D,[e("div",P,[e("div",H,[e("div",N,[e("div",G,[h(a,{profile:d.profile,foto:d.foto,qrCode:d.qrCode},null,8,["profile","foto","qrCode"])]),e("div",K,[h(f)]),e("div",V,[X,J,W,e("h4",Y,[Z,e("a",{href:d.qrLink,target:"_blank"},C(d.qrLink),9,$)]),e("div",ee,[e("div",oe,[e("button",{onClick:r[0]||(r[0]=(...n)=>i.downloadCard&&i.downloadCard(...n)),class:"btn btn-lg btn-outline-secondary shadow-sm",style:{"border-radius":"8px","background-color":"#007bff",color:"white","font-weight":"bold","font-size":"18px",padding:"15px 30px",width:"48%",transition:"all 0.3s ease"}},ne),e("button",{onClick:r[1]||(r[1]=(...n)=>i.generateQRCode&&i.generateQRCode(...n)),class:"btn btn-lg btn-outline-secondary shadow-sm",style:{"border-radius":"8px","background-color":"#007bff",color:"white","font-weight":"bold","font-size":"18px",padding:"15px 30px",width:"48%",transition:"all 0.3s ease"}},de)]),h(_,{href:"/user/member-card/edit",class:"btn btn-lg btn-outline-secondary shadow-sm",style:{"border-radius":"8px","background-color":"#007bff",color:"white","font-weight":"bold","font-size":"18px",padding:"15px 30px",width:"48%",transition:"all 0.3s ease"}},{default:u(()=>[ce,ie]),_:1})])])])])])])])]),le],64)}const pe=b(O,[["render",_e],["__scopeId","data-v-1e6f60f0"]]);export{pe as default};
