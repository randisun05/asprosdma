import{L as k}from"./Admin.b7858559.js";import{H as w,L as P,r as j,u as c,a as b,o as L,c as x,b as r,w as C,d as a,F,k as p}from"./app.df985498.js";import"./sweetalert2.all.a91e7b13.js";import{B as H,h as A,E as M}from"./jspdf.es.min.760adf9b.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";const T={layout:k,components:{Head:w,Link:P,BarChart:H},props:{errors:Object,countsPerMonth:{type:Object,required:!0,default:()=>({})},errors:Object,dataCountsByPosition:{type:Object,required:!0,default:()=>({})},dataCountsByLevel:{type:Object,required:!0,default:()=>({})},accumulatedCounts:{type:Object,required:!0,default:()=>({})}},setup(o){const n=j(null),_=c({responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{color:"#000",anchor:"end",align:"end",font:{weight:"bold",size:12},formatter(t){return t}}}}),e=c({labels:Object.keys(o.countsPerMonth).map(t=>`${t}`),datasets:[{label:"Counts By Month",backgroundColor:"#FFA500",data:Object.values(o.countsPerMonth)}]}),f=c({labels:Object.keys(o.dataCountsByPosition).map(t=>`${t}`),datasets:[{label:"Counts By Jabatan",backgroundColor:"#f87979",data:Object.values(o.dataCountsByPosition)}]}),g=c({labels:Object.keys(o.dataCountsByLevel).map(t=>`${t}`),datasets:[{label:"Counts By Jenjang",backgroundColor:"#7acbf9",data:Object.values(o.dataCountsByLevel)}]}),l=c({labels:Object.keys(o.accumulatedCounts).map(t=>`${t}`),datasets:[{label:"Accumulation by Month",backgroundColor:"#79f879",data:Object.values(o.accumulatedCounts)}]});return{reportContent:n,chartDataByPosition:f,chartDataByLevel:g,chartDataAccumulated:l,chartOptions:_,chartDataByMonth:e,exportToPDF:()=>{n.value?A(n.value,{scale:2}).then(t=>{const d=t.toDataURL("image/png"),s=new M("p","mm","a4"),h=s.internal.pageSize.getWidth(),u=s.internal.pageSize.getHeight(),v=t.width,D=t.height,B=v/D,i=h/B;let O=0,m=i;if(i>u)for(;m>0;)s.addImage(d,"PNG",0,O,h,i),m-=u,O-=u,m>0&&s.addPage();else s.addImage(d,"PNG",0,0,h,i);s.save("report.pdf")}):console.error("reportContent is not available")}}}},q=a("title",null,"Administrator",-1),z={class:"container-fluid padding px-5"},E={class:"row"},I={class:"col-md-12"},R={class:"row"},V={class:"col-md-6 col-12 mb-2"},W=a("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1),G=p(" Kembali"),J=a("a",{href:"/admin/members/report/export",target:"_blank",class:"btn btn-md btn-success border-0 shadow mb-3 me-2",type:"button"},[a("i",{class:"fa fa-download","aria-hidden":"true"}),p(" Download Laporan")],-1),S=a("i",{class:"fa fa-file-pdf","aria-hidden":"true"},null,-1),K=p(" Export to PDF "),U=[S,K],Q={class:"row mt-1"},X={class:"col-md-12"},Y={class:"card border-0 shadow"},Z={class:"card-body",ref:"reportContent"};function $(o,n,_,e,f,g){const l=b("Head"),y=b("Link"),t=b("BarChart");return L(),x(F,null,[r(l,null,{default:C(()=>[q]),_:1}),a("div",z,[a("div",E,[a("div",I,[a("div",R,[a("div",V,[r(y,{href:"/admin/members",class:"btn btn-md btn-primary border-0 shadow mb-3 me-2",type:"button"},{default:C(()=>[W,G]),_:1}),J,a("button",{onClick:n[0]||(n[0]=(...d)=>e.exportToPDF&&e.exportToPDF(...d)),class:"btn btn-md btn-danger border-0 shadow mb-3",type:"button"},U)])])])]),a("div",Q,[a("div",X,[a("div",Y,[a("div",Z,[r(t,{chartData:e.chartDataByMonth,chartOptions:e.chartOptions},null,8,["chartData","chartOptions"]),r(t,{chartData:e.chartDataByPosition,chartOptions:e.chartOptions},null,8,["chartData","chartOptions"]),r(t,{chartData:e.chartDataByLevel,chartOptions:e.chartOptions},null,8,["chartData","chartOptions"]),r(t,{chartData:e.chartDataAccumulated,chartOptions:e.chartOptions},null,8,["chartData","chartOptions"])],512)])])])])],64)}const st=N(T,[["render",$]]);export{st as default};
