import{L}from"./Admin.cfb95fb2.js";import{P as R}from"./Pagination.5cc08e43.js";import{H as P,L as N,p as I,r as T,o as s,c as o,b as k,w as h,a as t,g as S,h as y,v as O,n as C,C as A,F as w,B as x,D as v,i as _,j as g,t as a,d as j}from"./app.9310a94a.js";import{S as b}from"./sweetalert2.all.993698b3.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const Y={layout:L,components:{Head:P,Link:N,Pagination:R},props:{errors:Object,posts:Object,publishs:Object,categories:Object,limiteds:Object},data(){return{activeTab:"sub"}},methods:{setActiveTab(m){this.activeTab=m}},setup(){const m=I(new URL(document.location).searchParams.get("q"));return{search:m,handleSearch:()=>{g.Inertia.get("/admin/posts",{q:m.value})},handleReject:i=>{b.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak pengajuan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(l=>{l.isConfirmed&&(g.Inertia.get(`/admin/posts/${i}/reject`),b.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleApprove:i=>{b.fire({title:"Apakah Anda yakin?",text:"Post akan dipublikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(l=>{l.isConfirmed&&(g.Inertia.get(`/admin/posts/${i}/approve`),b.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleReturn:i=>{b.fire({title:"Apakah Anda yakin?",text:"Post akan dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Return it!"}).then(l=>{l.isConfirmed&&(g.Inertia.get(`/admin/posts/${i}/return`),b.fire({title:"Success!",text:"Status Returned!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleCancel:i=>{b.fire({title:"Apakah Anda yakin?",text:"Anda akan membatalkan publikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(l=>{l.isConfirmed&&(g.Inertia.get(`/admin/posts/${i}/cancel`),b.fire({title:"Success!",text:"Status Cancelled!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleLimited:i=>{b.fire({title:"Apakah Anda yakin?",text:"Publikasi akan bersifat terbatas!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Aprrove it!"}).then(l=>{l.isConfirmed&&(g.Inertia.get(`/admin/posts/${i}/limited`),b.fire({title:"Success!",text:"Status Limited!.",icon:"success",timer:2e3,showConfirmButton:!1}))})}}}},H=t("title",null,"Administrator",-1),K={class:"container-fluid padding px-5"},D={class:"row"},q={class:"col-md-12"},F={class:"row"},M={class:"col-md-1 col-12 mb-2"},U=t("i",{class:"fa fa-plus-circle"},null,-1),z=j(" Tambah"),E={class:"col-md-1 col-12 mb-2"},G=t("i",{class:"fa fa-plus-circle"},null,-1),J=j(" Kategori "),Q={class:"col-md-6 col-12 mb-2"},W={class:"input-group"},X=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1),Z={class:"row mt-1"},$={class:"col-md-12"},tt={class:"card border-0 shadow"},et={class:"card-body"},st={class:"nav nav-tabs"},at={class:"nav-item"},nt={class:"nav-item"},it={class:"nav-item"},ot={class:"nav-item"},lt={class:"table-responsive",id:"sub"},dt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},rt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Titleee"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Status"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),ct=t("div",{class:"mt-2"},null,-1),ut={class:"fw-bold text-center"},bt={key:0,class:"badge bg-success",title:"disetujui untuk di publish"},ht={key:1,class:"badge bg-warning",title:"hanya untuk konsumsi pribadi"},_t={key:2,class:"badge bg-warning",title:"silakan dicek kembali"},mt={key:3,class:"badge bg-danger",title:"ditolak untuk publish"},ft={key:4,class:"badge bg-secondary"},kt={key:5,class:"badge bg-danger",title:"ditolak untuk publish"},vt={key:6,class:"badge bg-secondary"},gt={class:"text-center"},pt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),yt=["onClick"],wt=t("i",{class:"fa fa-check-circle fa-lg","aria-hidden":"true"},null,-1),Ct=[wt],At=t("i",{class:"fa fa-pencil fa-lg","aria-hidden":"true"},null,-1),xt=t("i",{class:"fa fa-recycle fa-lg","aria-hidden":"true"},null,-1),Tt=["onClick"],Bt=t("i",{class:"fa fa-user-circle fa-lg","aria-hidden":"true"},null,-1),St=[Bt],jt=["onClick"],Lt=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),Rt=[Lt],Pt={class:"table-responsive",id:"approved"},Nt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},It=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),Ot=t("div",{class:"mt-2"},null,-1),Vt={class:"fw-bold text-center"},Yt={class:"text-center"},Ht=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),Kt=["onClick"],Dt=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),qt=[Dt],Ft={class:"table-responsive",id:"limited"},Mt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Ut=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),zt=t("div",{class:"mt-2"},null,-1),Et={class:"fw-bold text-center"},Gt={class:"text-center"},Jt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),Qt=["onClick"],Wt=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),Xt=[Wt],Zt={class:"table-responsive",id:"category"},$t={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},te=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),ee=t("div",{class:"mt-2"},null,-1),se={class:"fw-bold text-center"},ae={class:"text-center"},ne=["onClick"],ie=t("i",{class:"fa fa-trash",title:"hapus"},null,-1),oe=[ie];function le(m,d,n,c,r,p){const B=T("Head"),i=T("Link"),l=T("Pagination");return s(),o(w,null,[k(B,null,{default:h(()=>[H]),_:1}),t("div",K,[t("div",D,[t("div",q,[t("div",F,[t("div",M,[k(i,{href:"/admin/posts/create",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:h(()=>[U,z]),_:1})]),t("div",E,[k(i,{href:"/admin/category/create",class:"btn btn-md btn-warning border-0 shadow w-100",type:"button"},{default:h(()=>[G,J]),_:1})]),t("div",Q,[t("form",{onSubmit:d[1]||(d[1]=S((...e)=>c.handleSearch&&c.handleSearch(...e),["prevent"]))},[t("div",W,[y(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":d[0]||(d[0]=e=>c.search=e),placeholder:"masukkan kata kunci dan enter..."},null,512),[[O,c.search]]),X])],32)])])])]),t("div",Z,[t("div",$,[t("div",tt,[t("div",et,[t("ul",st,[t("li",at,[t("a",{class:C(["nav-link",{active:r.activeTab==="sub"}]),onClick:d[2]||(d[2]=e=>p.setActiveTab("sub"))},"Submission",2)]),t("li",nt,[t("a",{class:C(["nav-link",{active:r.activeTab==="approved"}]),onClick:d[3]||(d[3]=e=>p.setActiveTab("approved"))},"Publish",2)]),t("li",it,[t("a",{class:C(["nav-link",{active:r.activeTab==="limited"}]),onClick:d[4]||(d[4]=e=>p.setActiveTab("limited"))},"Limited",2)]),t("li",ot,[t("a",{class:C(["nav-link",{active:r.activeTab==="category"}]),onClick:d[5]||(d[5]=e=>p.setActiveTab("category"))},"Category",2)])]),y(t("div",lt,[t("table",dt,[rt,ct,t("tbody",null,[(s(!0),o(w,null,x(n.posts.data,(e,u)=>(s(),o("tr",{key:u},[t("td",ut,a(++u+(n.posts.current_page-1)*n.posts.per_page),1),t("td",null,a(e.title),1),t("td",null,a(e.member_id!==1?e.member.name:"Administrator"),1),t("td",null,a(e.category.title),1),t("td",null,[e.status==="approved"?(s(),o("span",bt,a(e.status),1)):e.status==="private"?(s(),o("span",ht,a(e.status),1)):e.status==="perlu ada perbaikan"?(s(),o("span",_t,a(e.status),1)):e.status==="rejected"?(s(),o("span",mt,a(e.status),1)):e.status==="submission"?(s(),o("span",ft,a(e.status),1)):e.status==="return"?(s(),o("span",kt,a(e.status),1)):e.status==="limited"?(s(),o("span",vt,a(e.status),1)):_("",!0)]),t("td",gt,[k(i,{href:`/admin/posts/${e.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:h(()=>[pt]),_:2},1032,["href"]),t("button",{onClick:f=>c.handleApprove(e.id),title:"setuju untuk publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},Ct,8,yt),e.member_id===1?(s(),v(i,{key:0,href:`/admin/posts/${e.id}/edit`,title:"edit",class:"btn btn-sm btn-warning border-0 shadow me-2"},{default:h(()=>[At]),_:2},1032,["href"])):_("",!0),e.member_id!==1?(s(),v(i,{key:1,onClick:f=>c.handleReturn(e.id),title:"kembalikan",class:"btn btn-sm btn-warning border-0 shadow me-2"},{default:h(()=>[xt]),_:2},1032,["onClick"])):_("",!0),t("button",{onClick:f=>c.handleLimited(e.id),title:"setuju untuk limited publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},St,8,Tt),t("button",{onClick:f=>c.handleReject(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},Rt,8,jt)])]))),128))])])],512),[[A,r.activeTab==="sub"]]),y(t("div",Pt,[t("table",Nt,[It,Ot,t("tbody",null,[(s(!0),o(w,null,x(n.publishs.data,(e,u)=>(s(),o("tr",{key:u},[t("td",Vt,a(++u+(n.publishs.current_page-1)*n.publishs.per_page),1),t("td",null,a(e.post.title),1),t("td",null,a(e.post.category.title),1),t("td",null,a(e.post.member.name!==1?e.post.member.name:"Administrator"),1),t("td",Yt,[k(i,{href:`/admin/posts/${e.post.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:h(()=>[Ht]),_:2},1032,["href"]),t("button",{onClick:f=>c.handleCancel(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},qt,8,Kt)])]))),128))])])],512),[[A,r.activeTab==="approved"]]),y(t("div",Ft,[t("table",Mt,[Ut,zt,t("tbody",null,[(s(!0),o(w,null,x(n.limiteds.data,(e,u)=>(s(),o("tr",{key:u},[t("td",Et,a(++u+(n.limiteds.current_page-1)*n.limiteds.per_page),1),t("td",null,a(e.title),1),t("td",null,a(e.category.title),1),t("td",null,a(e.member.name!==1?e.member.name:"Administrator"),1),t("td",Gt,[k(i,{href:`/admin/posts/${e.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:h(()=>[Jt]),_:2},1032,["href"]),t("button",{onClick:f=>c.handleCancel(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},Xt,8,Qt)])]))),128))])])],512),[[A,r.activeTab==="limited"]]),y(t("div",Zt,[t("table",$t,[te,ee,t("tbody",null,[(s(!0),o(w,null,x(n.categories.data,(e,u)=>(s(),o("tr",{key:u},[t("td",se,a(++u+(n.categories.current_page-1)*n.categories.per_page),1),t("td",null,a(e.title),1),t("td",ae,[t("button",{onClick:S(f=>m.destroy(e.id),["prevent"]),class:"btn btn-sm btn-danger border-0 me-2"},oe,8,ne)])]))),128))])])],512),[[A,r.activeTab==="category"]]),r.activeTab==="sub"?(s(),v(l,{key:0,links:n.posts.links,align:"end"},null,8,["links"])):_("",!0),r.activeTab==="approved"?(s(),v(l,{key:1,links:n.publishs.links,align:"end"},null,8,["links"])):_("",!0),r.activeTab==="limited"?(s(),v(l,{key:2,links:n.limiteds.links,align:"end"},null,8,["links"])):_("",!0),r.activeTab==="category"?(s(),v(l,{key:3,links:n.categories.links,align:"end"},null,8,["links"])):_("",!0)])])])])])],64)}const he=V(Y,[["render",le]]);export{he as default};
