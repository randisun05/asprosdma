import{L as M}from"./Website.ecc77c7b.js";import{H as C,f as _,r as w,o as r,c as i,b as S,w as j,a,g as y,h as m,v as g,F as x,B,i as d,t as l,I as D,j as V,G as A,d as I}from"./app.9bf3a5dc.js";import{S as L}from"./sweetalert2.all.721d4b19.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Footer.da6e539e.js";const N={layout:M,components:{Head:C},props:{errors:Object,session:Object},setup(){const n=_({agency:"",name:"",contact:"",email:"",total:"",file:"",captcha:"",term:""}),t=_([]),o=async()=>{try{const u=await(await fetch("https://api.sheety.co/6be80dfe79437b6dcf36a18e88b21c5b/permintaanNoSertifikat/instansi")).json();if(u&&u.instansi){const f=u.instansi.map(h=>h.namaInstansi.toLowerCase());t.splice(0,t.length,...f.filter(h=>h.includes(n.agency.toLowerCase())))}}catch(c){console.error("Error searching agencies:",c)}},e=c=>{n.agency=c,t.splice(0,t.length)},b=()=>{V.Inertia.post("/registration/group",{agency:n.agency,name:n.name,contact:n.contact,email:n.email,total:n.total,file:n.file,code:p.value,captcha:n.captcha,term:n.term},{onSuccess:()=>{L.fire({title:"Success!",text:"File Berhasil Dikirim.",icon:"success",showConfirmButton:!1,timer:2e3})}})},v=c=>{n.file=c.target.files[0]},p=_({value:s()});function s(){const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let u="";const f=c.length;for(let h=0;h<6;h++)u+=c.charAt(Math.floor(Math.random()*f));return u}return{form:n,submit:b,updateDocument:v,refreshCaptcha:()=>{p.value=s()},code:p,searchResults:t,searchAgencies:o,selectAgency:e}}},U=a("title",null,"Registrasi Keanggotaan Aspro",-1),P=A('<section class="page-header parallaxie padding_top center-block"><div class="container"><div class="row"><div class="col-sm-12"><div class="page-titles text-center"><h2 class="whitecolor font-light bottom30"></h2><ul class="breadcrumb justify-content-center"><li class="breadcrumb-item"><h3> Registrasi Anggota Kolektif</h3></li><li class="breadcrumb-item active" aria-current="page"></li></ul></div></div></div></div></section>',1),R={id:"registration",class:""},T={class:"container"},E={class:"row d-flex justify-content-center"},K={class:"col-lg-12 col-md-12 col-sm-10"},F={class:"logincontainer"},O={class:"row"},z={class:"col-md-6 col-sm-6"},G=a("label",{for:"agency",class:"ms-4"},"Instansi",-1),J={class:"form-group bottom35 mt-1"},W={key:0,class:"list-group",style:{position:"absolute",width:"100%","z-index":"999","overflow-y":"auto","max-height":"200px"}},q={class:"col-md-4 col-sm-4"},Q=["onClick"],X={key:1,class:"alert alert-danger mt-2"},Y={class:"col-md-6 col-sm-6"},Z=a("span",{class:"ms-4"}," Nama PIC ",-1),$={class:"form-group bottom35 mt-1"},aa={key:0,class:"alert alert-danger mt-2"},ta={class:"col-md-6 col-sm-6"},ea=a("span",{class:"ms-4"}," Kontak Aktif PIC ",-1),sa={class:"form-group bottom35 mt-1"},oa={key:0,class:"alert alert-danger mt-2"},na={class:"col-md-6 col-sm-6"},ra=a("span",{class:"ms-4"}," Email Aktif PIC ",-1),ia={class:"form-group bottom35 mt-1"},la={key:0,class:"alert alert-danger mt-2"},ca={class:"col-md-6 col-sm-6"},da=a("span",{class:"ms-4"}," Jumlah Data ",-1),ma={class:"form-group bottom35 mt-1"},ua={key:0,class:"alert alert-danger mt-2"},ha={class:"col-md-6 col-sm-6"},ga=a("span",{class:"ms-4"},[I(" File "),a("a",{href:"/assets/excel/register_group.xlsx",class:"text-center mt-4",target:"_blank"},[a("u",null,"( Unduh Template Excel )")])],-1),pa={class:"form-group bottom35 mt-1"},fa={class:"input-group"},_a={key:0,class:"alert alert-danger mt-2"},ba={key:1,class:"alert alert-danger mt-2"},va={class:"col-md-5 col-sm-5 ms-2 me-5"},ka=a("label",{class:"form-check-label ms-2",for:"agreeTerms"}," Saya menyetujui peraturan organisasi. ",-1),ya={key:0,class:"col-md-4 alert alert-danger mt-2"},xa={class:"col-md-3 col-sm-3 ms-5"},Aa={class:"form-group bottom35"},Ma={class:"form-group mb-4"},Ca={class:"input-group"},wa={class:"text px-5",id:"generated-captcha"},Sa=a("i",{class:"fa fa-undo"},null,-1),ja=[Sa],Ba={class:"col-md-3 col-sm-2"},Da={class:"form-group"},Va={class:"input-group"},Ia={key:0,class:"alert alert-danger mt-2"},La=a("div",{class:"row d-flex justify-content-center"},[a("button",{type:"submit",class:"button btnprimary",style:{width:"300px"}},"Submit")],-1),Ha=A('<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel">Peraturan Organisasi</h5></div><div class="modal-body"><p>Sesuai dalam ART Aspro SDMA:</p><p>Pasal 18 Kewajiban dan Hak Anggota</p><p>(1) Anggota Aspro SDMA berkewajiban untuk:</p><ol type="a"><li>Menjaga dan menjunjung tinggi martabat serta kehormatan Aspro SDMA;</li><li>Mematuhi Anggaran Dasar, Anggaran Rumah Tangga, serta peraturan keputusan organisasi;</li><li>Mematuhi kode etik dan kode perilaku Aspro SDMA;</li><li>Berpartisipasi aktif dalam kegiatan Aspro SDMA; dan</li><li>Membayar iuran anggota bagi Anggota Biasa dan Luar Biasa.</li></ol><p>(2) Hak Anggota Biasa:</p><ul><li>Memperoleh layanan organisasi;</li><li>Memperoleh hak keterbukaan informasi terkait operasional organisasi;</li><li>Memilih dan dipilih sebagai pengurus; dan</li><li>Memberikan masukan dan saran kepada pengurus.</li></ul><p>(3) Hak Anggota Luar Biasa:</p><ul><li>Memperoleh layanan organisasi;</li><li>Memberikan masukan dan saran kepada pengurus;</li><li>Memilih pengurus.</li></ul><p>(4) Hak Anggota Kehormatan:</p><ul><li>Memperoleh layanan organisasi;</li><li>Memberikan masukan dan saran kepada pengurus.</li></ul></div><div class="modal-footer"><button type="checkbox" class="btn btn-primary" data-bs-dismiss="modal">Saya Setuju</button></div></div></div></div>',1);function Na(n,t,o,e,b,v){const p=w("Head");return r(),i(x,null,[S(p,null,{default:j(()=>[U]),_:1}),P,a("section",R,[a("div",T,[a("div",E,[a("div",K,[a("div",F,[a("form",{onSubmit:t[11]||(t[11]=y((...s)=>e.submit&&e.submit(...s),["prevent"])),class:"getin_form border-form",id:"login"},[a("div",O,[a("div",z,[G,a("div",J,[m(a("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>e.form.agency=s),onInput:t[1]||(t[1]=(...s)=>e.searchAgencies&&e.searchAgencies(...s)),placeholder:"Masukkan nama instansi"},null,544),[[g,e.form.agency]]),e.form.agency&&e.searchResults.length?(r(),i("ul",W,[a("div",q,[(r(!0),i(x,null,B(e.searchResults,(s,k)=>(r(),i("li",{class:"list-group-item",key:k,onClick:c=>e.selectAgency(s)},l(s),9,Q))),128))])])):d("",!0),o.errors.agency?(r(),i("div",X,l(o.errors.agency),1)):d("",!0)])]),a("div",Y,[Z,a("div",$,[m(a("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>e.form.name=s),placeholder:"Masukan Nama PIC"},null,512),[[g,e.form.name]]),o.errors.name?(r(),i("div",aa,l(o.errors.name),1)):d("",!0)])]),a("div",ta,[ea,a("div",sa,[m(a("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=s=>e.form.contact=s),placeholder:"Masukan Kontak Aktif",maxlength:"13",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[g,e.form.contact]]),o.errors.contact?(r(),i("div",oa,l(o.errors.contact),1)):d("",!0)])]),a("div",na,[ra,a("div",ia,[m(a("input",{type:"email",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>e.form.email=s),placeholder:"Masukan Email Aktif PIC"},null,512),[[g,e.form.email]]),o.errors.email?(r(),i("div",la,l(o.errors.email),1)):d("",!0)])]),a("div",ca,[da,a("div",ma,[m(a("input",{type:"number",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>e.form.total=s),placeholder:"Masukan Jumlah Data",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[g,e.form.total]]),o.errors.agency?(r(),i("div",ua,l(o.errors.total),1)):d("",!0)])]),a("div",ha,[ga,a("div",pa,[a("div",fa,[a("input",{type:"file",class:"form-control",onChange:t[6]||(t[6]=(...s)=>e.updateDocument&&e.updateDocument(...s)),accept:".xls, .xlsx,"},null,32)]),o.errors.file?(r(),i("div",_a,l(o.errors.file),1)):d("",!0),o.errors[0]?(r(),i("div",ba,l(o.errors[0]),1)):d("",!0)])]),a("div",va,[a("button",{type:"button",class:"btn",onClick:t[8]||(t[8]=(...s)=>n.openModal&&n.openModal(...s))},[m(a("input",{class:"form-check-input",type:"checkbox",id:"agreeTerms","onUpdate:modelValue":t[7]||(t[7]=s=>e.form.term=s)},null,512),[[D,e.form.term]]),ka]),o.errors.term?(r(),i("div",ya,l(o.errors.term),1)):d("",!0)]),a("div",xa,[a("div",Aa,[a("div",Ma,[a("div",Ca,[a("span",wa,l(e.code.value),1),a("button",{class:"btn btn btn-outline-primary no-border",style:{"border-color":"white"},onClick:t[9]||(t[9]=y((...s)=>e.refreshCaptcha&&e.refreshCaptcha(...s),["prevent"]))},ja)])])])]),a("div",Ba,[a("div",Da,[a("div",Va,[m(a("input",{type:"text",class:"form-control me-3",id:"captcha","onUpdate:modelValue":t[10]||(t[10]=s=>e.form.captcha=s),placeholder:"Enter Captcha",size:"6"},null,512),[[g,e.form.captcha]])]),o.errors.captcha?(r(),i("div",Ia,l(o.errors.captcha),1)):d("",!0)])]),La])],32)])])])])]),Ha],64)}const Ka=H(N,[["render",Na]]);export{Ka as default};
