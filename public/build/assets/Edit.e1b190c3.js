import{L as k}from"./User.7ffc4142.js";import{H as w,L as x,f as C,r as m,o as r,c as i,b as u,w as _,a as t,g as D,h as b,v as V,t as n,i as c,E as B,F as f,B as E,j,d as L}from"./app.bf823580.js";import{E as S}from"./Editor.52fde1b8.js";import{S as M}from"./sweetalert2.all.5503fe0d.js";import{_ as U}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Footer.46bbc504.js";const I={layout:k,components:{Head:w,Link:x,Editor:S},props:{errors:Object,categories:Array,post:{type:Object,default:null}},setup(l){const e=C({title:l.post.title,category:l.post.category_id,body:l.post.body,picture:l.post.image,document:l.post.document});return{form:e,submit:()=>{j.Inertia.post(`/user/posts/${l.post.id}`,{title:e.title,category:e.category,body:e.body,picture:e.picture,document:e.document},{onSuccess:()=>{M.fire({title:"Success!",text:"Cerita Anda Berhasil Disimpan.",icon:"success",showConfirmButton:!1,timer:2e3})}})},updateDocument:d=>{e.document=d.target.files[0]},updateImage:d=>{e.picture=d.target.files[0]}}}},A=t("title",null,"Edit Cerita",-1),F={class:"container mb-5 mt-5"},H={class:"row mt-1"},N={class:"col-md-12"},T={class:"card border-0 shadow"},G={class:"card-body"},J={class:"row"},K={class:"col-md-12"},O={class:"row py-4"},q={class:"col-md-2 col-12 mb-2"},R=t("i",{class:"fa fa-arrow-left"},null,-1),z=L(" Kembali"),P=t("h3",{class:"text-center"},"Update Cerita/Artikel/Berita",-1),Q={class:"row py-4 ms-5"},W={class:"col-md-11"},X=t("span",{class:"text-black"}," Judul ",-1),Y={class:"form-group mt-1 mb-4"},Z={key:0,class:"alert alert-danger mt-2"},$={class:"col-md-11"},tt=t("span",{class:"text-black"}," Kategori ",-1),et={class:"form-group mt-1 mb-4"},st=["value"],ot={key:0,class:"alert alert-danger mt-2"},at=t("span",{class:"text-black"}," Text ",-1),rt={class:"col-md-11"},it={class:"mb-4"},lt={class:"row"},nt={class:"col-md-5"},ct=t("span",{class:"text-black"}," Gambar/Foto ",-1),dt={class:"form-group mt-1"},mt={key:0,class:"alert alert-danger mt-2"},ut={key:1,class:"alert alert-danger mt-2"},_t=t("div",{class:"col-md-1"},null,-1),bt={class:"col-md-5"},ft=t("span",{class:"text-black"}," Dokumen ",-1),gt={class:"form-group mt-1"},ht={key:0,class:"alert alert-danger mt-2"},pt={key:1,class:"alert alert-danger mt-2"},yt=t("div",{class:"row d-flex justify-content-center"},[t("div",{class:"col-md-2"},[t("button",{type:"submit",class:"btn btn-md btn-primary border-0 shadow me-2"},"Update"),t("button",{type:"reset",class:"btn btn-md btn-warning border-0 shadow"},"Reset")])],-1);function vt(l,e,s,a,g,d){const h=m("Head"),p=m("Link"),y=m("Editor");return r(),i(f,null,[u(h,null,{default:_(()=>[A]),_:1}),t("div",F,[t("div",H,[t("div",N,[t("div",T,[t("div",G,[t("div",J,[t("div",K,[t("div",O,[t("div",q,[u(p,{href:"/user/posts",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:_(()=>[R,z]),_:1})])])])]),P,t("form",{onSubmit:e[5]||(e[5]=D((...o)=>a.submit&&a.submit(...o),["prevent"]))},[t("div",Q,[t("div",W,[X,t("div",Y,[b(t("input",{type:"text",class:"form-control",placeholder:"Masukan Judul Cerita/Artikel/Berita","onUpdate:modelValue":e[0]||(e[0]=o=>a.form.title=o)},null,512),[[V,a.form.title]])]),s.errors.title?(r(),i("div",Z,n(s.errors.title),1)):c("",!0)]),t("div",$,[tt,t("div",et,[b(t("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=o=>a.form.category=o)},[(r(!0),i(f,null,E(s.categories,(o,v)=>(r(),i("option",{key:v,value:o.id},n(o.title),9,st))),128))],512),[[B,a.form.category]])]),s.errors.category?(r(),i("div",ot,n(s.errors.category),1)):c("",!0)]),at,t("div",rt,[t("div",it,[u(y,{"api-key":"g43acxcw0cg4k3asm2ttsaio4antpmaa2e3bckfo6y3kpaqg",modelValue:a.form.body,"onUpdate:modelValue":e[2]||(e[2]=o=>a.form.body=o),init:{menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons"}},null,8,["modelValue"])])]),t("div",lt,[t("div",nt,[ct,t("div",dt,[t("input",{type:"file",class:"form-control",placeholder:"Masukan Gambar/Foto",onChange:e[3]||(e[3]=(...o)=>a.updateImage&&a.updateImage(...o)),accept:".jpg, .jpeg, .png, .svg, .gif"},null,32)]),s.errors.picture?(r(),i("div",mt,n(s.errors.picture),1)):c("",!0),s.errors[0]?(r(),i("div",ut,n(s.errors[0]),1)):c("",!0)]),_t,t("div",bt,[ft,t("div",gt,[t("input",{type:"file",class:"form-control",placeholder:"Masukan Dokumen",onChange:e[4]||(e[4]=(...o)=>a.updateDocument&&a.updateDocument(...o)),accept:".pdf"},null,32)]),s.errors.document?(r(),i("div",ht,n(s.errors.document),1)):c("",!0),s.errors[0]?(r(),i("div",pt,n(s.errors[0]),1)):c("",!0)])])]),yt],32)])])])])])],64)}const Bt=U(I,[["render",vt]]);export{Bt as default};
