import{u as x,r as f,B as T,K as P,o as c,c as d,b as B,w as H,P as n,d as e,n as L,t as u,g,e as M,f as b,v as y,F as V,i as F,H as I,k as j}from"./app.1cf3474e.js";import{L as D}from"./Auth.a9fc3c0e.js";import"./_plugin-vue_export-helper.cdc0426e.js";const E=e("title",null,"Login Administrator",-1),N={id:"our-blog",class:"padding text-center"},O={class:"container"},S={class:"row d-flex justify-content-center"},J={class:"col-lg-6 col-md-6 col-sm-10"},K={class:"bglight logincontainer"},q=e("h3",{class:"darkcolor bottom35"},"Login Administrator",-1),G=["onSubmit"],U={class:"row"},z={class:"col-md-12 col-sm-12"},Q={class:"form-group bottom35"},R={class:"input-group"},W=e("span",{class:"input-group-text"},[e("i",{class:"fa fa-id-badge"})],-1),$={key:0,class:"alert alert-danger mt-2"},X={class:"col-md-12 col-sm-12"},Y={class:"form-group bottom35"},Z={class:"input-group"},ee=e("span",{class:"input-group-text"},[e("i",{class:"fa fa-lock"})],-1),te={key:0,class:"alert alert-danger mt-2"},ae={class:"form-group mb-4 text-center"},se=["data-sitekey"],oe={key:0,class:"alert alert-danger mt-2"},re={class:"col-sm-12"},ne=["disabled"],ie=e("p",{class:"top20 log-meta"},[F(" Belum Memiliki Akun? "),e("u",null,[e("a",{href:"signup.html"},"Daftar Sekarang")])],-1),le={layout:D},me=Object.assign(le,{props:{errors:{type:Object,default:()=>({})},session:{type:Object,default:()=>({})}},setup(r){const t=x({email:"",password:"",recaptcha_token:""}),m=f(!1),w="6LdyFuwrAAAAAJ1LhVIOJvFc7gKyGBKo3Do91QWJ";let p=null;const h=f(""),v=f("alert-warning"),i=(s,a="warning",o=3e3)=>{h.value=s,v.value=`alert-${a}`,setTimeout(()=>h.value="",o)},A=()=>new Promise(s=>{var o;if((o=window.grecaptcha)!=null&&o.render)return s();const a=setInterval(()=>{var l;(l=window.grecaptcha)!=null&&l.render&&(clearInterval(a),s())},200)});T(async()=>{await P(),await A();const s=document.getElementById("recaptcha-container");if(s&&!p)try{p=grecaptcha.render(s,{sitekey:w,callback:a=>{t.recaptcha_token=a},"expired-callback":()=>{t.recaptcha_token="",i("Token reCAPTCHA telah kadaluarsa, silakan centang ulang.","warning",5e3)},"error-callback":()=>{t.recaptcha_token="",i("Terjadi kesalahan pada reCAPTCHA, silakan ulangi.","danger",5e3)}})}catch(a){console.warn("Gagal render reCAPTCHA:",a.message)}});const C=async()=>{if(!t.email){i("Email belum diisi!","warning");return}if(!t.password){i("Password belum diisi!","warning");return}if(!t.recaptcha_token){i("Mohon centang reCAPTCHA terlebih dahulu.","warning");return}m.value=!0,j.Inertia.post("/login",t,{onFinish:()=>{m.value=!1;try{p!==null&&window.grecaptcha&&(grecaptcha.reset(p),t.recaptcha_token="")}catch(s){console.warn("reCAPTCHA belum siap untuk reset:",s.message)}}})};return(s,a)=>{var o,l,k;return c(),d(V,null,[B(n(I),null,{default:H(()=>[E]),_:1}),e("section",N,[e("div",O,[e("div",S,[e("div",J,[e("div",K,[q,h.value?(c(),d("div",{key:0,class:L(["alert",v.value]),role:"alert"},u(h.value),3)):g("",!0),e("form",{onSubmit:M(C,["prevent"]),class:"getin_form border-form",id:"login"},[e("div",U,[e("div",z,[e("div",Q,[e("div",R,[W,b(e("input",{type:"email",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>n(t).email=_),placeholder:"Email Address",required:"",autocomplete:"username"},null,512),[[y,n(t).email]])]),(o=r.errors)!=null&&o.email?(c(),d("div",$,u(r.errors.email),1)):g("",!0)])]),e("div",X,[e("div",Y,[e("div",Z,[ee,b(e("input",{type:"password",placeholder:"Password",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=_=>n(t).password=_),required:"",autocomplete:"current-password"},null,512),[[y,n(t).password]])]),(l=r.errors)!=null&&l.password?(c(),d("div",te,u(r.errors.password),1)):g("",!0)])]),e("div",ae,[e("div",{id:"recaptcha-container",class:"g-recaptcha","data-sitekey":n(w)},null,8,se),(k=r.errors)!=null&&k.recaptcha_token?(c(),d("div",oe,u(r.errors.recaptcha_token),1)):g("",!0)]),e("div",re,[e("button",{type:"submit",class:"button btnprimary w-100",disabled:m.value},u(m.value?"Memproses\u2026":"Login"),9,ne),ie])])],40,G)])])])])])],64)}}});export{me as default};
