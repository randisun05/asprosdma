import{L as b}from"./User.5d6d5735.js";import{H as w,L as x,f as D,r as I,o as a,c as l,b as C,w as P,a as e,h as r,v as _,t as d,i as c,F as v,B as g,E as h,g as V,j as y,G as p}from"./app.9bf3a5dc.js";import{S as U}from"./sweetalert2.all.721d4b19.js";import{_ as S}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Footer.da6e539e.js";const K={data(){return{searchInstansi:"",showDropdown:!1,provinces:[],cities:[],districts:[],villages:[],selectedProvince:"",selectedCity:"",selectedDistrict:"",selectedVillage:""}},computed:{filteredInstansis(){return this.instansis.filter(o=>o.title.toLowerCase().includes(this.searchInstansi.toLowerCase()))}},mounted(){this.getProvinces()},methods:{toggleSearch(){this.showDropdown=!this.showDropdown,this.showDropdown?document.body.addEventListener("click",this.closeDropdownOutside):document.body.removeEventListener("click",this.closeDropdownOutside)},closeDropdownOutside(o){this.$refs.dropdownWrapper.contains(o.target)||(this.showDropdown=!1,document.body.removeEventListener("click",this.closeDropdownOutside))},selectInstansi(o){this.form.agency=o.title,this.searchInstansi="",this.showDropdown=!1},openFileInput(){this.$refs.fileInput.click()},updateImage(o){this.form.image=o.target.files[0]},getProvinces(){fetch("https://randisun05.github.io/api-wilayah-indonesia/api/provinces.json").then(o=>o.json()).then(o=>{this.provinces=o}).catch(o=>{console.error("Error fetching provinces:",o)})},getCities(){fetch(`https://randisun05.github.io/api-wilayah-indonesia/api/regencies/${this.selectedProvince}.json`).then(o=>o.json()).then(o=>{this.cities=o}).catch(o=>{console.error("Error fetching cities:",o)})},getDistricts(){fetch(`https://randisun05.github.io/api-wilayah-indonesia/api/districts/${this.selectedCity}.json`).then(o=>o.json()).then(o=>{this.districts=o}).catch(o=>{console.error("Error fetching districts:",o)})},getVillages(){fetch(`https://randisun05.github.io/api-wilayah-indonesia/api/villages/${this.selectedDistrict}.json`).then(o=>o.json()).then(o=>{this.villages=o}).catch(o=>{console.error("Error fetching villages:",o)})}},layout:b,components:{Head:w,Link:x},props:{errors:Object,session:Object,data:Object,instansis:Array},setup(o){const t=D({nip:o.data.main.nip,name:o.data.main.name,email:o.data.main.email,contact:o.data.main.contact,fname:o.data.main.fname,lname:o.data.main.lname,leveledu:o.data.main.leveledu,lastedu:o.data.main.lastedu,place:o.data.main.place,dob:o.data.main.dob,docid:o.data.main.docid,nodocid:o.data.main.nodocid,gender:o.data.main.gender,religion:o.data.main.religion,address:o.data.main.address,villages:o.data.main.villages,district:o.data.main.district,regency:o.data.main.regency,province:o.data.main.province,agency:o.data.agency,image:o.data.main.image});return{form:t,submit:()=>{y.Inertia.post("/user/profile/edit",{nip:t.nip,name:t.name,fname:t.fname,lname:t.lname,leveledu:t.leveledu,lastedu:t.lastedu,place:t.place,dob:t.dob,docid:t.docid,nodocid:t.nodocid,email:t.email,contact:t.contact,gender:t.gender,religion:t.religion,address:t.address,villages:t.villages,district:t.district,regency:t.regency,province:t.province,agency:t.agency},{onSuccess:()=>{U.fire({title:"Success!",text:"Data Anggota Berhasil Diupdate.",icon:"success",showConfirmButton:!1,timer:2e3})}})},getImageUrl:m=>m?`/storage/${m}`:"/assets/images/team-grey-1.jpg",updateImage:m=>{const f=new FormData;f.append("image",m.target.files[0]),y.Inertia.post("/user/profile/image",f)}}}},j=e("title",null,"Profile Anggota",-1),L={id:"profile",class:"container mt-4"},E={class:"container-fluid px-5"},B={class:"row d-flex justify-content-center"},A={class:"col-sm-12 card shadow"},F=p('<div class="row"><h3 class="text-center mt-4 text-black"> Update Profile Anggota </h3></div><div class="row mt-4"><ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" href="/user/profile">Profile</a></li></ul></div>',2),M={class:"container py-4"},O={class:"row"},T={class:"col-lg-2 col-md-2"},H={class:"text-center"},N=["src"],G=e("div",{class:"col-lg-1"},null,-1),J={class:"col-lg-9"},W={class:"row"},q=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," NIP ")],-1),z={class:"col-lg-8"},Q={key:0,class:"alert-danger mt-1 rounded"},R={class:"row mt-2"},X=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Nama ")],-1),Y={class:"col-lg-8"},Z={key:0,class:"rounded alert-danger mt-1"},$={class:"row mt-2"},ee=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Gelar Depan ")],-1),te={class:"col-lg-8"},se={key:0,class:"rounded alert-danger mt-1"},oe={class:"row mt-2"},ne=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Gelar Belakang ")],-1),ie={class:"col-lg-8"},ae={key:0,class:"rounded alert-danger mt-1"},le={class:"row mt-2"},de=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Instansi")],-1),re={class:"col-lg-8"},ce={class:"position-relative",ref:"dropdownWrapper"},me={class:"form-group mt-1"},ue={key:0,class:"dropdown-menu position-absolute w-100"},_e={key:0,class:"dropdown-item-list"},he=["onClick"],ve={key:1,class:"dropdown-item disabled"},ge={key:0,class:"rounded alert-danger mt-2"},fe={class:"col-sm-12 card shadow mt-4"},pe=e("div",{class:"py-4"},[e("span",null," Data Pribadi ")],-1),ye={class:"row ms-2 mb-3"},ke={class:"col-md-6 col-sm-6"},be=e("span",{class:"text-black"}," Tempat Lahir ",-1),we={class:"form-group mt-1"},xe={key:0,class:"rounded alert-danger mt-2"},De={class:"col-md-6 col-sm-6"},Ie=e("span",{class:"text-black"}," Tanggal Lahir ",-1),Ce={class:"form-group mt-1"},Pe={key:0,class:"rounded alert-danger mt-2"},Ve={class:"row ms-2 mb-3"},Ue={class:"col-md-6 col-sm-6"},Se=e("span",{class:"text-black"}," Jenis Dokumen Identitas ",-1),Ke={class:"form-group mt-1"},je=e("option",{value:"",disabled:"",selected:""},"Pilih salah satu opsi",-1),Le=e("option",{value:"KTP"},"KTP",-1),Ee=e("option",{value:"Passport"},"Passport",-1),Be=[je,Le,Ee],Ae={key:0,class:"rounded alert-danger mt-2"},Fe={class:"col-md-6 col-sm-6"},Me=e("span",{class:"text-black"}," Nomor Dokumen Identitas ",-1),Oe={class:"form-group mt-1"},Te={key:0,class:"rounded alert-danger mt-2"},He={class:"row ms-2 mb-3"},Ne={class:"col-md-6 col-sm-6"},Ge=e("span",{class:"text-black"}," Kontak ",-1),Je={class:"form-group mt-1"},We={key:0,class:"rounded alert-danger mt-2"},qe={class:"col-md-6 col-sm-6"},ze=e("span",{class:"text-black"}," Email ",-1),Qe={class:"form-group mt-1"},Re={key:0,class:"rounded alert-danger mt-2"},Xe={class:"row ms-2 mb-3"},Ye={class:"col-md-6 col-sm-6"},Ze=e("span",{class:"text-black"}," Jenis Kelamin ",-1),$e={class:"form-group mt-1"},et=e("option",{value:"",disabled:"",selected:""},"Pilih salah satu opsi",-1),tt=e("option",{value:"L"},"Laki-laki",-1),st=e("option",{value:"P"},"Perempuan",-1),ot=[et,tt,st],nt={key:0,class:"rounded alert-danger mt-2"},it={class:"col-md-6 col-sm-6"},at=e("span",{class:"text-black"}," Agama ",-1),lt={class:"form-group mt-1"},dt=p('<option value="" disabled selected>Pilih salah satu opsi</option><option value="Islam">Islam</option><option value="Kristen">Kristen</option><option value="Khatolik">Khatolik</option><option value="Budha">Budha</option><option value="Hindu">Hindu</option>',6),rt=[dt],ct={key:0,class:"rounded alert-danger mt-2"},mt={class:"row ms-2 mb-3"},ut={class:"col-md-12 col-sm-12"},_t=e("span",{class:"text-black"}," Alamat ",-1),ht={class:"form-group mt-1"},vt={key:0,class:"rounded alert-danger mt-2"},gt={class:"row ms-2 mb-3"},ft={class:"col-md-6 col-sm-6"},pt=e("span",{class:"text-black"}," Provinsi ",-1),yt={class:"form-group mt-1"},kt=e("option",{value:""},"Pilih Provinsi",-1),bt=["value"],wt={key:0,class:"rounded alert-danger mt-2"},xt={class:"col-md-6 col-sm-6"},Dt=e("span",{class:"text-black"}," Kota/Kabupaten ",-1),It={class:"form-group mt-1"},Ct=e("option",{value:""},"Pilih Kota/Kabupaten",-1),Pt=["value"],Vt={key:0,class:"rounded alert-danger mt-2"},Ut={class:"col-md-6 col-sm-6"},St=e("span",{class:"text-black"}," Kecamatan ",-1),Kt={class:"form-group mt-1"},jt=e("option",{value:""},"Pilih Kecamatan",-1),Lt=["value"],Et={key:0,class:"rounded alert-danger mt-2"},Bt={class:"col-md-6 col-sm-6"},At=e("span",{class:"text-black"}," Kelurahan ",-1),Ft={class:"form-group mt-1"},Mt=e("option",{value:""},"Pilih Kelurahan/Desa",-1),Ot=["value"],Tt={key:0,class:"rounded alert-danger mt-2"},Ht=e("div",{class:"row ms-2 mb-3"},null,-1),Nt={class:"col-sm-12 card shadow mt-4"},Gt=e("div",{class:"py-4"},[e("span",null," Data Pendidikan ")],-1),Jt={class:"row ms-2 mb-3"},Wt={class:"col-md-6 col-sm-6"},qt=e("span",{class:"text-black"}," Tingkat Pendidikan ",-1),zt={class:"form-group mt-1"},Qt=p('<option value="" disabled selected>Pilih salah satu opsi</option><option value="SMA/SMK">SMA/SMK</option><option value="D-3">D-3</option><option value="D-4">D-4</option><option value="S-1">S-1</option><option value="S-2">S-2</option><option value="S-3">S-3</option>',7),Rt=[Qt],Xt={key:0,class:"rounded alert-danger mt-2"},Yt={class:"col-md-6 col-sm-6"},Zt=e("span",{class:"text-black"}," Pendidikan Terakhir ",-1),$t={class:"form-group mt-1"},es={key:0,class:"rounded alert-danger mt-2"},ts=e("div",{class:"row d-flex justify-content-center py-5"},[e("button",{type:"submit",class:"button btnprimary",style:{width:"300px"}},"Simpan"),e("a",{href:"/user/profile",class:"button btnsecondary",style:{width:"300px"}},"Batal")],-1);function ss(o,t,n,i,u,m){const f=I("Head");return a(),l(v,null,[C(f,null,{default:P(()=>[j]),_:1}),e("form",{onSubmit:t[27]||(t[27]=V((...s)=>i.submit&&i.submit(...s),["prevent"])),class:"getin_form border-form padding",id:"data"},[e("section",L,[e("div",E,[e("div",B,[e("div",A,[F,e("div",M,[e("div",O,[e("div",T,[e("div",H,[e("img",{src:i.getImageUrl(i.form.image),alt:"Foto Profil",class:"img-fluid rounded-circle",title:"Ubah foto profil",style:{width:"100%",height:"200px"}},null,8,N),e("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:t[0]||(t[0]=(...s)=>i.updateImage&&i.updateImage(...s)),accept:".jpg, .jpeg, .png"},null,544),e("button",{onClick:t[1]||(t[1]=(...s)=>m.openFileInput&&m.openFileInput(...s)),type:"button",class:"btn btn-secondary mt-2"},"Ubah Foto")])]),G,e("div",J,[e("div",W,[q,e("div",z,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>i.form.nip=s),maxlength:"18",readonly:"",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[_,i.form.nip]]),n.errors.nip?(a(),l("div",Q,d(n.errors.nip),1)):c("",!0)])]),e("div",R,[X,e("div",Y,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=s=>i.form.name=s)},null,512),[[_,i.form.name]]),n.errors.name?(a(),l("div",Z,d(n.errors.name),1)):c("",!0)])]),e("div",$,[ee,e("div",te,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>i.form.fname=s),onkeypress:"return event.charCode < 48 || event.charCode > 57"},null,512),[[_,i.form.fname]]),n.errors.fname?(a(),l("div",se,d(n.errors.fname),1)):c("",!0)])]),e("div",oe,[ne,e("div",ie,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>i.form.lname=s),onkeypress:"return event.charCode < 48 || event.charCode > 57"},null,512),[[_,i.form.lname]]),n.errors.lname?(a(),l("div",ae,d(n.errors.lname),1)):c("",!0)])]),e("div",le,[de,e("div",re,[e("div",ce,[e("div",me,[r(e("input",{type:"text",class:"form-control",placeholder:"Pilih Instansi","onUpdate:modelValue":t[6]||(t[6]=s=>i.form.agency=s),onClick:t[7]||(t[7]=(...s)=>m.toggleSearch&&m.toggleSearch(...s)),readonly:""},null,512),[[_,i.form.agency]])]),u.showDropdown?(a(),l("div",ue,[r(e("input",{type:"text",class:"form-control mb-2",placeholder:"Cari Instansi","onUpdate:modelValue":t[8]||(t[8]=s=>u.searchInstansi=s)},null,512),[[_,u.searchInstansi]]),m.filteredInstansis.length>0?(a(),l("div",_e,[(a(!0),l(v,null,g(m.filteredInstansis,(s,k)=>(a(),l("button",{key:k,class:"dropdown-item",onClick:os=>m.selectInstansi(s)},d(s.title),9,he))),128))])):(a(),l("div",ve,"Instansi tidak ditemukan "))])):c("",!0)],512)]),n.errors.agency?(a(),l("div",ge,d(n.errors.agency),1)):c("",!0)])])])])]),e("div",fe,[pe,e("div",ye,[e("div",ke,[be,e("div",we,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=s=>i.form.place=s)},null,512),[[_,i.form.place]])]),n.errors.place?(a(),l("div",xe,d(n.errors.place),1)):c("",!0)]),e("div",De,[Ie,e("div",Ce,[r(e("input",{type:"date",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=s=>i.form.dob=s)},null,512),[[_,i.form.dob]])]),n.errors.dob?(a(),l("div",Pe,d(n.errors.dob),1)):c("",!0)])]),e("div",Ve,[e("div",Ue,[Se,e("div",Ke,[r(e("select",{class:"form-select","onUpdate:modelValue":t[11]||(t[11]=s=>i.form.docid=s)},Be,512),[[h,i.form.docid]])]),n.errors.docid?(a(),l("div",Ae,d(n.errors.docid),1)):c("",!0)]),e("div",Fe,[Me,e("div",Oe,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=s=>i.form.nodocid=s),maxlength:"25",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[_,i.form.nodocid]])]),n.errors.nodocid?(a(),l("div",Te,d(n.errors.nodocid),1)):c("",!0)])]),e("div",He,[e("div",Ne,[Ge,e("div",Je,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=s=>i.form.contact=s),onkeypress:"return event.charCode >= 48 && event.charCode <= 57",maxlength:"13"},null,512),[[_,i.form.contact]])]),n.errors.contact?(a(),l("div",We,d(n.errors.contact),1)):c("",!0)]),e("div",qe,[ze,e("div",Qe,[r(e("input",{type:"email",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=s=>i.form.email=s)},null,512),[[_,i.form.email]])]),n.errors.email?(a(),l("div",Re,d(n.errors.email),1)):c("",!0)])]),e("div",Xe,[e("div",Ye,[Ze,e("div",$e,[r(e("select",{class:"form-select","onUpdate:modelValue":t[15]||(t[15]=s=>i.form.gender=s)},ot,512),[[h,i.form.gender]])]),n.errors.gender?(a(),l("div",nt,d(n.errors.gender),1)):c("",!0)]),e("div",it,[at,e("div",lt,[r(e("select",{class:"form-select","onUpdate:modelValue":t[16]||(t[16]=s=>i.form.religion=s)},rt,512),[[h,i.form.religion]])]),n.errors.religion?(a(),l("div",ct,d(n.errors.religion),1)):c("",!0)])]),e("div",mt,[e("div",ut,[_t,e("div",ht,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[17]||(t[17]=s=>i.form.address=s),style:{height:"80px"}},null,512),[[_,i.form.address]])]),n.errors.address?(a(),l("div",vt,d(n.errors.address),1)):c("",!0)])]),e("div",gt,[e("div",ft,[pt,e("div",yt,[r(e("select",{id:"province","onUpdate:modelValue":t[18]||(t[18]=s=>u.selectedProvince=s),class:"form-control",onChange:t[19]||(t[19]=(...s)=>m.getCities&&m.getCities(...s))},[kt,(a(!0),l(v,null,g(u.provinces,s=>(a(),l("option",{key:s.id,value:s.name},d(s.name),9,bt))),128))],544),[[h,u.selectedProvince]])]),n.errors.province?(a(),l("div",wt,d(n.errors.province),1)):c("",!0)]),e("div",xt,[Dt,e("div",It,[r(e("select",{class:"form-control",id:"city","onUpdate:modelValue":t[20]||(t[20]=s=>u.selectedCity=s),onChange:t[21]||(t[21]=(...s)=>m.getDistricts&&m.getDistricts(...s))},[Ct,(a(!0),l(v,null,g(u.cities,s=>(a(),l("option",{key:s.id,value:s.name},d(s.name),9,Pt))),128))],544),[[h,u.selectedCity]])]),n.errors.regency?(a(),l("div",Vt,d(n.errors.regency),1)):c("",!0)]),e("div",Ut,[St,e("div",Kt,[r(e("select",{class:"form-control",id:"district","onUpdate:modelValue":t[22]||(t[22]=s=>u.selectedDistrict=s),onChange:t[23]||(t[23]=(...s)=>m.getVillages&&m.getVillages(...s))},[jt,(a(!0),l(v,null,g(u.districts,s=>(a(),l("option",{key:s.id,value:s.name},d(s.name),9,Lt))),128))],544),[[h,u.selectedDistrict]])]),n.errors.district?(a(),l("div",Et,d(n.errors.district),1)):c("",!0)]),e("div",Bt,[At,e("div",Ft,[r(e("select",{class:"form-control",id:"village","onUpdate:modelValue":t[24]||(t[24]=s=>u.selectedVillage=s)},[Mt,(a(!0),l(v,null,g(u.villages,s=>(a(),l("option",{key:s.id,value:s.name},d(s.name),9,Ot))),128))],512),[[h,u.selectedVillage]])]),n.errors.villages?(a(),l("div",Tt,d(n.errors.villages),1)):c("",!0)])]),Ht]),e("div",Nt,[Gt,e("div",Jt,[e("div",Wt,[qt,e("div",zt,[r(e("select",{class:"form-select","onUpdate:modelValue":t[25]||(t[25]=s=>i.form.leveledu=s)},Rt,512),[[h,i.form.leveledu]])]),n.errors.leveledu?(a(),l("div",Xt,d(n.errors.leveledu),1)):c("",!0)]),e("div",Yt,[Zt,e("div",$t,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[26]||(t[26]=s=>i.form.lastedu=s)},null,512),[[_,i.form.lastedu]])]),n.errors.lastedu?(a(),l("div",es,d(n.errors.lastedu),1)):c("",!0)])])]),ts])])])],32)],64)}const rs=S(K,[["render",ss]]);export{rs as default};
