import{L as x}from"./Admin.69c9e5a1.js";import{P as C}from"./Pagination.a10de99e.js";import{H as I,L as B,r as T,a as c,o as i,c as l,b as u,w as _,d as t,e as p,f as L,v as D,t as d,g as f,F as g,j as N,k as v,i as S}from"./app.4cb6840a.js";import{S as y}from"./sweetalert2.all.1cd5f157.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";const V={layout:x,components:{Head:I,Link:B,Pagination:C},props:{errors:Object,event_id:Number,templates:Object},setup(){const r=T({title:"",image:"",status:""});return{destroy:a=>{y.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(m=>{m.isConfirmed&&(v.Inertia.delete(`/admin/events/certificates/templates/${a}`),y.fire({title:"Deleted!",text:"Media Berhasil Dihapus!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},getImageUrl:a=>`/storage/${a}`,form:r,submit:()=>{const a=new FormData;a.append("title",r.value.title),a.append("image",r.value.image),a.append("status",r.value.status),v.Inertia.post("/admin/events/certificates/templates/store",a)},updateImage:a=>{r.value.image=a.target.files[0]}}}},H={class:"px-5 shadow padding"},P={class:"row"},U={class:"col-md-12"},j={class:"col-md-1 col-12 mb-2"},F={class:"row"},M={class:"row py-4"},O={class:"col-md-4"},E={class:"form-group mt-1 mb-4"},K={key:0,class:"alert alert-danger mt-2"},Y={class:"col-md-3"},q={class:"form-group mt-1 mb-4"},z={key:0,class:"alert alert-danger mt-2"},G={key:1,class:"alert alert-danger mt-2"},J={class:"row mt-1"},Q={class:"col-md-12"},R={class:"card border-0 shadow"},W={class:"card-body"},X={class:"table-responsive"},Z={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},$={class:"fw-bold text-center"},tt={style:{width:"80px"}},et=["href"],st={class:"text-center"},at=["onClick"];function ot(r,e,s,o,h,a){const m=c("Head"),k=c("Link"),w=c("Pagination");return i(),l(g,null,[u(m,null,{default:_(()=>[...e[3]||(e[3]=[t("title",null,"Template",-1)])]),_:1}),t("div",H,[t("div",P,[t("div",U,[t("div",j,[u(k,{href:`/admin/events/${s.event_id}/certificates`,class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:_(()=>[...e[4]||(e[4]=[t("i",{class:"fa fa-arrow-left"},null,-1),S(" Kembali",-1)])]),_:1},8,["href"])]),t("div",F,[e[8]||(e[8]=t("h3",{class:"text-center"},"Template Sertifikat",-1)),t("form",{onSubmit:e[2]||(e[2]=p((...n)=>o.submit&&o.submit(...n),["prevent"])),enctype:"multipart/form-data"},[t("div",M,[t("div",O,[e[5]||(e[5]=t("span",{class:"text-black"},"Title",-1)),t("div",E,[L(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=n=>o.form.title=n)},null,512),[[D,o.form.title]])]),s.errors.title?(i(),l("div",K,d(s.errors.title),1)):f("",!0)]),t("div",Y,[e[6]||(e[6]=t("span",{class:"text-black"},"Image",-1)),t("div",q,[t("input",{type:"file",class:"form-control",onChange:e[1]||(e[1]=(...n)=>o.updateImage&&o.updateImage(...n)),accept:".pdf"},null,32)]),s.errors.image?(i(),l("div",z,d(s.errors.image),1)):f("",!0),s.errors[0]?(i(),l("div",G,d(s.errors[0]),1)):f("",!0)]),e[7]||(e[7]=t("div",{class:"col-md-11 text-center"},[t("button",{type:"submit",class:"btn btn-primary"},"Simpan")],-1))])],32)])])]),t("div",J,[t("div",Q,[t("div",R,[t("div",W,[t("div",X,[t("table",Z,[e[11]||(e[11]=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Image"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1)),e[12]||(e[12]=t("div",{class:"mt-2"},null,-1)),t("tbody",null,[(i(!0),l(g,null,N(s.templates.data,(n,b)=>(i(),l("tr",{key:b},[t("td",$,d(++b+(s.templates.current_page-1)*s.templates.per_page),1),t("td",null,d(n.title),1),t("td",tt,[t("a",{class:"btn btn-sm btn-primary border-0 me-1","data-fancybox":"",href:o.getImageUrl(n.image)},[...e[9]||(e[9]=[t("i",{class:"fa fa-eye"},null,-1)])],8,et)]),t("td",st,[t("button",{onClick:p(nt=>o.destroy(n.id),["prevent"]),class:"btn btn-sm btn-danger border-0 me-2"},[...e[10]||(e[10]=[t("i",{class:"fa fa-trash",title:"hapus"},null,-1)])],8,at)])]))),128))])])]),u(w,{links:s.templates.links,align:"end"},null,8,["links"])])])])])])],64)}const ct=A(V,[["render",ot]]);export{ct as default};
