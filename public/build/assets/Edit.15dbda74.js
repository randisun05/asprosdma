import{L as A}from"./Admin.d715bb5f.js";import{H as _,L as S,q as D,a as k,o as d,c as u,b as v,w as C,d as t,i as r,t as o,f as w,u as g,F as f,j as y,k as c,r as j}from"./app.990c80e9.js";import{S as a}from"./sweetalert2.all.05fe8823.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";const L={layout:A,components:{Head:_,Link:S},props:{errors:Object,archive:Object,users:Array,datas:Array},setup(m){const i=D({archive_id:m.archive.id,user_id:[],allSelected:!1});return{form:i,handleApprove:e=>{a.fire({title:"Apakah Anda yakin?",text:"Anda akan menyetujui usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(n=>{n.isConfirmed&&(c.Inertia.get(`/admin/registration/${e}/approve`,{info:i.info}),a.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleReject:e=>{a.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(n=>{n.isConfirmed&&(c.Inertia.get(`/admin/registration/${e}/reject`),a.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleConfirm:e=>{a.fire({title:"Apakah Anda yakin?",text:"Anda akan mengkonfirmasi ulang usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Confirm it!"}).then(n=>{n.isConfirmed&&(c.Inertia.get(`/admin/registration/${e}/confirm`,{info:i.info,email:i.sendemail}),a.fire({title:"Success!",text:"Status Conirmed!.",icon:"success",timer:2e3,showConfirmButton:!1}))}),j.showModalEmail=!1},sendEmail:e=>{a.fire({title:"Pastikan data sudah sesuai.!",text:"Anda akan mengirim email konfirmasi?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Send it!"}).then(n=>{n.isConfirmed&&(c.Inertia.get(`/admin/registration/${e}/email`),a.fire({title:"Success!",text:"Email Sent!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},submitDisposisi:e=>{a.fire({title:"Apakah Anda yakin?",text:"Anda akan disposisi arsip ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Send it!"}).then(n=>{n.isConfirmed&&(c.Inertia.post(`/admin/archives/disposition/${e}`,{user_id:i.user_id}),a.fire({title:"Success!",text:"Status Sent!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},selectAll:()=>{i.allSelected?i.user_id=m.users.map(e=>e.id):i.user_id=[]}}}},E={class:"container-fluid padding px-5"},T={class:"row"},H={class:"col-md-12"},N={class:"card border-0 shadow"},V={class:"card-body"},Y={class:"table table-borderless"},R={class:"row"},P={class:"card border-0 shadow mt-2 col-6"},U={class:"card-body"},F={class:"table table-borderless",style:{width:"50%"}},K={class:"border-0 rounded-start",style:{width:"5%"}},M=["id","value","checked"],O={class:"text-left"},q=["for"],J={class:"card border-0 shadow mt-2 col-6"},z={class:"card-body"},G={class:"table table-borderless"},Q={class:"fw-bold text-center"},W={class:"text-center"},X={class:"text-center"},Z={class:"text-center"},$={class:"row"},tt={class:"card border-0 shadow mt-2"},it={class:"card-body"};function et(m,i,s,l,p,B){const h=k("Head"),b=k("Link");return d(),u(f,null,[v(h,null,{default:C(()=>[...i[5]||(i[5]=[t("title",null,"Hubungi Aspro",-1)])]),_:1}),t("div",E,[t("div",T,[t("div",H,[v(b,{href:"/admin/archives",class:"btn btn-md btn-primary border-0 shadow mb-3",type:"button"},{default:C(()=>[...i[6]||(i[6]=[t("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1),r(" Kembali",-1)])]),_:1}),t("div",N,[t("div",V,[i[14]||(i[14]=t("h5",null,[t("i",{class:"fa fa-bookmark"}),r(" Data Pengirim")],-1)),i[15]||(i[15]=t("hr",null,null,-1)),t("table",Y,[t("tbody",null,[t("tr",null,[i[7]||(i[7]=t("th",null,"NIP",-1)),t("td",null,o(s.archive.nip),1),i[8]||(i[8]=t("th",null,"Jabatan",-1)),t("td",null,o(s.archive.position),1)]),t("tr",null,[i[9]||(i[9]=t("th",null,"Nama",-1)),t("td",null,o(s.archive.name),1),i[10]||(i[10]=t("th",null,"Instansi",-1)),t("td",null,o(s.archive.agency),1)]),t("tr",null,[i[11]||(i[11]=t("th",null,"Email",-1)),t("td",null,o(s.archive.email),1),i[12]||(i[12]=t("th",null,"Status",-1)),t("td",null,o(s.archive.status==1?"Belum ditindak lanjuti":"telah didisposisi ke "+s.archive.user_names),1)]),t("tr",null,[i[13]||(i[13]=t("th",null,"Kontak",-1)),t("td",null,o(s.archive.contact),1)])])])])])]),t("div",R,[t("div",P,[t("div",U,[i[17]||(i[17]=t("h5",null,[t("i",{class:"fa fa-bookmark"}),r(" Aksi")],-1)),i[18]||(i[18]=t("hr",null,null,-1)),i[19]||(i[19]=r(" Disposisi ke ",-1)),t("div",null,[t("table",F,[t("tbody",null,[t("tr",null,[t("th",K,[w(t("input",{type:"checkbox","onUpdate:modelValue":i[0]||(i[0]=e=>l.form.allSelected=e),onChange:i[1]||(i[1]=(...e)=>l.selectAll&&l.selectAll(...e))},null,544),[[g,l.form.allSelected]])]),i[16]||(i[16]=t("th",{class:"border-0 rounded-start"}," Check All ",-1))]),(d(!0),u(f,null,y(s.users,(e,n)=>(d(),u("tr",{key:n},[t("td",null,[w(t("input",{type:"checkbox","onUpdate:modelValue":i[2]||(i[2]=x=>l.form.user_id=x),id:e.id,value:e.id,checked:l.form.allSelected},null,8,M),[[g,l.form.user_id]])]),t("td",O,[t("label",{class:"form-check-label",for:"user-"+e.id},o(e.name),9,q)])]))),128))])])]),t("button",{onClick:i[3]||(i[3]=e=>l.submitDisposisi(s.archive.id)),class:"btn btn-primary mt-3"},"Disposisi")])]),t("div",J,[t("div",z,[i[21]||(i[21]=t("h5",null,[t("i",{class:"fa fa-bookmark"}),r(" Histori Disposisi")],-1)),i[22]||(i[22]=t("hr",null,null,-1)),t("table",G,[i[20]||(i[20]=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Disposisi"),t("th",{class:"border-0"},"Status"),t("th",{class:"border-0"},"Update")])],-1)),t("tbody",null,[(d(!0),u(f,null,y(s.datas,(e,n)=>(d(),u("tr",{key:n},[t("td",Q,o(++n+(s.datas.current_page-1)*s.datas.per_page),1),t("td",W,o(e.user_id),1),t("td",X,o(e.status==1?"Belum ditindak lanjuti":"telah didisposisi ke "),1),t("td",Z,o(new Date(e.updated_at).toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"})),1)]))),128))])])])])])]),t("div",$,[t("div",tt,[t("div",it,[i[23]||(i[23]=t("h5",null,[t("i",{class:"fa fa-bookmark"}),r(" Tindaklanjut")],-1)),i[24]||(i[24]=t("hr",null,null,-1)),t("button",{onClick:i[4]||(i[4]=e=>l.submitDisposisi(s.archive.id)),class:"btn btn-primary mt-3"},"Disposisi")])])])])],64)}const at=I(L,[["render",et]]);export{at as default};
