import{L as w}from"./Admin.60eaab93.js";import{H as x,L as S,g,r as v,o as n,c as i,d as y,w as b,a as t,h as j,i as m,v as _,t as c,j as l,F as h,C,G as k,k as D,b as P,e as N}from"./app.5bfc9311.js";import{S as V}from"./sweetalert2.all.6812bdb3.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";const L={layout:w,components:{Head:x,Link:S},props:{errors:Object,session:Object},setup(){const r=g({nip:"",name:"",email:"",contact:"",agency:"",position:"",level:"",document_jab:"",paid:""}),e=g([]);return{form:r,submit:()=>{D.Inertia.post("/admin/registration",{nip:r.nip,name:r.name,email:r.email,contact:r.contact,agency:r.agency,position:r.position,level:r.level,document_jab:r.document_jab,paid:r.paid},{onSuccess:()=>{V.fire({title:"Success!",text:"Data Registrasi Berhasil Dikirim",icon:"success",showConfirmButton:!1,timer:2e3})}})},updateDocument:d=>{r.document_jab=d.target.files[0]},updateImage:d=>{r.paid=d.target.files[0]},searchResults:e,searchAgencies:async()=>{try{const s=await(await fetch("https://api.sheety.co/6be80dfe79437b6dcf36a18e88b21c5b/permintaanNoSertifikat/instansi")).json();if(s&&s.instansi){const f=s.instansi.map(u=>u.namaInstansi.toLowerCase());e.splice(0,e.length,...f.filter(u=>u.includes(r.agency.toLowerCase())))}}catch(d){console.error("Error searching agencies:",d)}},selectAgency:d=>{r.agency=d,e.splice(0,e.length)}}}},J=t("title",null,"Administrator",-1),U={class:"container-fluid mb-5 mt-5"},B={class:"row mt-1"},E={class:"col-md-12"},H=t("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1),R=N(" Kembali"),T={class:"card border-0 shadow"},F={class:"card-body"},K=t("h3",{class:"darkcolor bottom35 text-center"},"Registrasi Anggota",-1),G={class:"row"},O={class:"col-md-6 col-sm-6"},z=t("span",{class:"ms-4"}," NIP ",-1),q={class:"form-group bottom35 mt-1"},Q={key:0,class:"alert alert-danger mt-2"},W={class:"col-md-6 col-sm-6"},X=t("span",{class:"ms-4"}," Nama ",-1),Y={class:"form-group bottom35 mt-1"},Z={key:0,class:"alert alert-danger mt-2"},$={class:"col-md-6 col-sm-6"},tt=t("span",{class:"ms-4"}," Email ",-1),ot={class:"form-group bottom35 mt-1"},et={key:0,class:"alert alert-danger mt-2"},st={class:"col-md-6 col-sm-6"},at=t("span",{class:"ms-4"}," Nomor Kontak ",-1),nt={class:"form-group bottom35 mt-1"},it={key:0,class:"alert alert-danger mt-2"},rt={class:"col-md-6 col-sm-6"},lt=t("label",{for:"agency",class:"ms-4"},"Instansi",-1),ct={class:"form-group bottom35 mt-1"},dt={key:0,class:"list-group",style:{position:"absolute",width:"100%","z-index":"999","overflow-y":"auto","max-height":"200px"}},mt={class:"col-md-4 col-sm-4"},_t=["onClick"],ut={key:1,class:"alert alert-danger mt-2"},ht={class:"col-md-3 col-sm-3"},ft=t("span",{class:"ms-4"}," Jabatan ",-1),pt={class:"form-group bottom35 mt-1"},gt=t("option",{value:"",disabled:""},"Pilih Jabatan",-1),vt=t("option",{value:"Analis SDM Aparatur"},"Analis SDM Aparatur",-1),yt=t("option",{value:"Pranata SDM Aparatur"},"Pranata SDM Aparatur",-1),bt=[gt,vt,yt],kt={key:0,class:"alert alert-danger mt-2"},At={class:"col-md-3 col-sm-3"},Mt=t("span",{class:"ms-4"}," Jenjang ",-1),wt={class:"form-group bottom35 mt-1"},xt={key:0,value:"",disabled:"",selected:""},St=P('<option value="" disabled>Pilih Jenjang</option><option value="Pertama">Pertama</option><option value="Muda">Muda</option><option value="Madya">Madya</option><option value="Utama">Utama</option>',5),jt=t("option",{value:"",disabled:""},"Pilih Jenjang",-1),Ct=t("option",{value:"Terampil"},"Terampil",-1),Dt=t("option",{value:"Mahir"},"Mahir",-1),Pt=t("option",{value:"Penyelia"},"Penyelia",-1),Nt={key:0,class:"alert alert-danger mt-2"},Vt={class:"col-md-6 col-sm-6"},It=t("span",{class:"ms-4"}," SK Jabatan ( Bentuk File .Pdf ) ",-1),Lt={class:"form-group bottom35 mt-1"},Jt={class:"input-group"},Ut={key:0,class:"alert alert-danger mt-2"},Bt={key:1,class:"alert alert-danger mt-2"},Et={class:"col-md-6 col-sm-6"},Ht=t("span",{class:"ms-4"}," Bukti Tranfer ( Bentuk File Image ) ",-1),Rt={class:"form-group bottom35 mt-1"},Tt={key:0,class:"alert alert-danger mt-2"},Ft={key:1,class:"alert alert-danger mt-2"},Kt=t("div",{class:"row d-flex justify-content-center"},[t("button",{type:"submit",class:"button btnprimary",style:{width:"300px"}},"Submit")],-1);function Gt(r,e,a,o,A,M){const p=v("Head"),d=v("Link");return n(),i(h,null,[y(p,null,{default:b(()=>[J]),_:1}),t("div",U,[t("div",B,[t("div",E,[y(d,{href:"/admin/registration",class:"btn btn-md btn-primary border-0 shadow mb-3",type:"button"},{default:b(()=>[H,R]),_:1}),t("div",T,[t("div",F,[K,t("form",{onSubmit:e[10]||(e[10]=j((...s)=>o.submit&&o.submit(...s),["prevent"])),class:"getin_form border-form",id:"login"},[t("div",G,[t("div",O,[z,t("div",q,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.nip=s),placeholder:"Masukan NIP",maxlength:"18",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[_,o.form.nip]]),a.errors.nip?(n(),i("div",Q,c(a.errors.nip),1)):l("",!0)])]),t("div",W,[X,t("div",Y,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=s=>o.form.name=s),placeholder:"Masukan Nama Lengkap"},null,512),[[_,o.form.name]]),a.errors.name?(n(),i("div",Z,c(a.errors.name),1)):l("",!0)])]),t("div",$,[tt,t("div",ot,[m(t("input",{type:"email",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=s=>o.form.email=s),placeholder:"Masukan Alamat Email Aktif"},null,512),[[_,o.form.email]]),a.errors.email?(n(),i("div",et,c(a.errors.email),1)):l("",!0)])]),t("div",st,[at,t("div",nt,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.contact=s),placeholder:"Masukan Nomor Kontak Aktif",maxlength:"13",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[_,o.form.contact]]),a.errors.contact?(n(),i("div",it,c(a.errors.contact),1)):l("",!0)])]),t("div",rt,[lt,t("div",ct,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=s=>o.form.agency=s),onInput:e[5]||(e[5]=(...s)=>o.searchAgencies&&o.searchAgencies(...s)),placeholder:"Masukkan nama instansi"},null,544),[[_,o.form.agency]]),o.form.agency&&o.searchResults.length?(n(),i("ul",dt,[t("div",mt,[(n(!0),i(h,null,C(o.searchResults,(s,f)=>(n(),i("li",{class:"list-group-item",key:f,onClick:u=>o.selectAgency(s)},c(s),9,_t))),128))])])):l("",!0),a.errors.agency?(n(),i("div",ut,c(a.errors.agency),1)):l("",!0)])]),t("div",ht,[ft,t("div",pt,[m(t("select",{type:"form-select",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=s=>o.form.position=s)},bt,512),[[k,o.form.position]]),a.errors.position?(n(),i("div",kt,c(a.errors.position),1)):l("",!0)])]),t("div",At,[Mt,t("div",wt,[m(t("select",{type:"form-select",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=s=>o.form.level=s)},[o.form.position===""?(n(),i("option",xt,"Jabatan Harus Dipilih")):l("",!0),o.form.position==="Analis SDM Aparatur"?(n(),i(h,{key:1},[St],64)):l("",!0),o.form.position==="Pranata SDM Aparatur"?(n(),i(h,{key:2},[jt,Ct,Dt,Pt],64)):l("",!0)],512),[[k,o.form.level]]),a.errors.level?(n(),i("div",Nt,c(a.errors.level),1)):l("",!0)])]),t("div",Vt,[It,t("div",Lt,[t("div",Jt,[t("input",{type:"file",class:"form-control",onChange:e[8]||(e[8]=(...s)=>o.updateDocument&&o.updateDocument(...s)),accept:".pdf"},null,32)]),a.errors.document_jab?(n(),i("div",Ut,c(a.errors.document_jab),1)):l("",!0),a.errors[0]?(n(),i("div",Bt,c(a.errors[0]),1)):l("",!0)])]),t("div",Et,[Ht,t("div",Rt,[t("input",{type:"file",class:"form-control",onChange:e[9]||(e[9]=(...s)=>o.updateImage&&o.updateImage(...s)),accept:".jpg, .JPG, .png, .jpeg, .JPEG, .pdf"},null,32),a.errors.paid?(n(),i("div",Tt,c(a.errors.paid),1)):l("",!0),a.errors[0]?(n(),i("div",Ft,c(a.errors[0]),1)):l("",!0)])]),Kt])],32)])])])])])],64)}const Wt=I(L,[["render",Gt]]);export{Wt as default};
