import{L as k}from"./User.3b43af4b.js";import{H as w,L as x,h as j,r as m,o as r,c as i,e as u,w as _,a as t,i as C,j as f,v as D,t as n,d,k as V,F as h,D as B,l as E,f as L}from"./app.f9fcc124.js";import{E as S}from"./Editor.48502f50.js";import{S as M}from"./sweetalert2.all.392c230c.js";import{_ as U}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Footer.ce2d634e.js";const I={layout:k,components:{Head:w,Link:x,Editor:S},props:{errors:Object,categories:Array,post:{type:Object,default:null}},setup(l){const e=j({title:l.post.title,category:l.post.category_id,body:l.post.body,picture:l.post.image,document:l.post.document});return{form:e,submit:()=>{E.Inertia.post(`/user/posts/${l.post.id}`,{title:e.title,category:e.category,body:e.body,picture:e.picture,document:e.document},{onSuccess:()=>{M.fire({title:"Success!",text:"Cerita Anda Berhasil Disimpan.",icon:"success",showConfirmButton:!1,timer:2e3})}})},updateDocument:c=>{e.document=c.target.files[0]},updateImage:c=>{e.picture=c.target.files[0]}}}},A=t("title",null,"Edit Cerita",-1),F={class:"container padding"},H={class:"row mt-1"},N={class:"col-md-12"},T={class:"card border-0 shadow"},G={class:"card-body"},J={class:"row"},K={class:"col-md-12"},O={class:"row py-4"},z={class:"col-md-2 col-12 mb-2"},R=t("i",{class:"fa fa-arrow-left"},null,-1),q=L(" Kembali"),P=t("h3",{class:"text-center"},"Update Cerita/Artikel/Berita",-1),Q={class:"row py-4 ms-5"},W={class:"col-md-11"},X=t("span",{class:"text-black"}," Judul ",-1),Y={class:"form-group mt-1 mb-4"},Z={key:0,class:"alert alert-danger mt-2"},$={class:"col-md-11"},tt=t("span",{class:"text-black"}," Kategori ",-1),et={class:"form-group mt-1 mb-4"},st=["value"],ot={key:0,class:"alert alert-danger mt-2"},at=t("span",{class:"text-black"}," Text ",-1),rt={class:"col-md-11"},it={class:"mb-4"},lt={class:"row"},nt={class:"col-md-5"},dt=t("span",{class:"text-black"}," Gambar/Foto ",-1),ct={class:"form-group mt-1"},mt={key:0,class:"alert alert-danger mt-2"},ut={key:1,class:"alert alert-danger mt-2"},_t=t("div",{class:"col-md-1"},null,-1),ft={class:"col-md-5"},ht=t("span",{class:"text-black"}," Dokumen ",-1),gt={class:"form-group mt-1"},bt={key:0,class:"alert alert-danger mt-2"},pt={key:1,class:"alert alert-danger mt-2"},vt=t("div",{class:"row d-flex justify-content-center"},[t("div",{class:"col-md-2"},[t("button",{type:"submit",class:"btn btn-md btn-primary border-0 shadow me-2"},"Update"),t("button",{type:"reset",class:"btn btn-md btn-warning border-0 shadow"},"Reset")])],-1);function yt(l,e,s,a,g,c){const b=m("Head"),p=m("Link"),v=m("Editor");return r(),i(h,null,[u(b,null,{default:_(()=>[A]),_:1}),t("div",F,[t("div",H,[t("div",N,[t("div",T,[t("div",G,[t("div",J,[t("div",K,[t("div",O,[t("div",z,[u(p,{href:"/user/posts",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:_(()=>[R,q]),_:1})])])])]),P,t("form",{onSubmit:e[5]||(e[5]=C((...o)=>a.submit&&a.submit(...o),["prevent"]))},[t("div",Q,[t("div",W,[X,t("div",Y,[f(t("input",{type:"text",class:"form-control",placeholder:"Masukan Judul Cerita/Artikel/Berita","onUpdate:modelValue":e[0]||(e[0]=o=>a.form.title=o)},null,512),[[D,a.form.title]])]),s.errors.title?(r(),i("div",Z,n(s.errors.title),1)):d("",!0)]),t("div",$,[tt,t("div",et,[f(t("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=o=>a.form.category=o)},[(r(!0),i(h,null,B(s.categories,(o,y)=>(r(),i("option",{key:y,value:o.id},n(o.title),9,st))),128))],512),[[V,a.form.category]])]),s.errors.category?(r(),i("div",ot,n(s.errors.category),1)):d("",!0)]),at,t("div",rt,[t("div",it,[u(v,{"api-key":"p3lrvkppzagmj4yruef15fnmcjh6xdchg3nsfxdiijvh42og",modelValue:a.form.body,"onUpdate:modelValue":e[2]||(e[2]=o=>a.form.body=o),style:{height:"500px"},init:{menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons"}},null,8,["modelValue"])])]),t("div",lt,[t("div",nt,[dt,t("div",ct,[t("input",{type:"file",class:"form-control",placeholder:"Masukan Gambar/Foto",onChange:e[3]||(e[3]=(...o)=>a.updateImage&&a.updateImage(...o)),accept:".jpg, .jpeg, .png, .svg, .gif"},null,32)]),s.errors.picture?(r(),i("div",mt,n(s.errors.picture),1)):d("",!0),s.errors[0]?(r(),i("div",ut,n(s.errors[0]),1)):d("",!0)]),_t,t("div",ft,[ht,t("div",gt,[t("input",{type:"file",class:"form-control",placeholder:"Masukan Dokumen",onChange:e[4]||(e[4]=(...o)=>a.updateDocument&&a.updateDocument(...o)),accept:".pdf"},null,32)]),s.errors.document?(r(),i("div",bt,n(s.errors.document),1)):d("",!0),s.errors[0]?(r(),i("div",pt,n(s.errors[0]),1)):d("",!0)])])]),vt],32)])])])])])],64)}const Vt=U(I,[["render",yt]]);export{Vt as default};
