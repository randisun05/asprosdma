import{L as x}from"./Admin.f50c3755.js";import{P}from"./Pagination.1032e7ba.js";import{H as S,L as R,k as m,r as M,a as u,o as r,c,b as _,w as h,d as t,t as n,e as T,f as b,v as C,n as L,J as A,F as k,j as I,l as N,g as f,h as B,i as D}from"./app.223d7d0c.js";import{E as j}from"./Editor.85e8efb0.js";import{S as v}from"./sweetalert2.all.1cc2398b.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";const V={layout:x,components:{Head:S,Link:R,Editor:j,Pagination:P},props:{errors:Object,event:Object,details:Object},data(){return{activeTab:"participant",showRoleModal:!1,selectedRole:"",selectedParticipantId:null}},methods:{setActiveTab(l){this.activeTab=l},openRoleModal(l){this.selectedRole=l.title,this.selectedParticipantId=l.id,this.showRoleModal=!0},closeRoleModal(){this.showRoleModal=!1,this.selectedRole="",this.selectedParticipantId=null},updateRole(l,s){m.Inertia.post(`/admin/events/${l}/updaterole`,{title:s},{onSuccess:()=>{this.closeRoleModal(),v.fire("Sukses","Peran peserta diperbarui!","success")}})},absenAll(){v.fire({title:"Yakin ingin absen semua peserta?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, absen semua"}).then(l=>{l.isConfirmed&&m.Inertia.get(`/admin/events/${this.event.id}/absenall`,{},{onSuccess:()=>{v.fire("Sukses","Semua peserta telah diabsen!","success")}})})}},setup(l){const s=M(new URL(document.location).searchParams.get("q"));return{getDocumentUrl:o=>`/storage/${o}`,search:s,handleSearch:()=>{m.Inertia.get(`/admin/events/${l.event.id}`,{q:s.value})}}}},E={class:"container padding px-5"},U={class:"row mt-1"},q={class:"col-md-12"},K={class:"card border-0 shadow"},O={class:"card-body"},F={class:"row"},J={class:"col-md-12"},Y={class:"row py-4"},z={class:"col-md-2 col-12 mb-2"},G={class:"row py-4 ms-5"},Q={class:"col-md-9 mb-2"},W=["innerHTML"],X={class:"col-md-9 mb-2"},Z={class:"col-md-9 mb-2"},$={class:"col-md-9 mb-2"},tt={class:"col-md-9 mb-2"},st={class:"col-md-9 mb-2"},et={class:"row mt-4"},at={class:"col-md-12"},lt={class:"card border-0 shadow"},nt={class:"card-body"},ot={class:"col-md-6 col-12 mb-2 mt-4"},it={class:"input-group"},dt={class:"nav nav-tabs"},rt={class:"nav-item"},ct={class:"nav-item ms-4"},mt={class:"table-responsive",id:"sub"},ut={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},bt={class:"fw-bold text-center"},vt=["onClick"],pt={class:"text-center"},_t={key:0,class:"modal-backdrop"},ht={class:"modal-content-custom"};function kt(l,s,a,d,o,i){const w=u("Head"),g=u("Link"),y=u("Pagination");return r(),c(k,null,[_(w,null,{default:h(()=>[...s[7]||(s[7]=[t("title",null,"Administrator",-1)])]),_:1}),t("div",E,[t("div",U,[t("div",q,[t("div",K,[t("div",O,[t("div",F,[t("div",J,[t("div",Y,[t("div",z,[_(g,{href:"/admin/events",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:h(()=>[...s[8]||(s[8]=[t("i",{class:"fa fa-arrow-left"},null,-1),D(" Kembali",-1)])]),_:1})])])])]),s[16]||(s[16]=t("h3",{class:"text-center"},"Detail Event",-1)),t("div",G,[s[9]||(s[9]=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Judul ")],-1)),t("div",Q,[t("span",null," : "+n(a.event.title),1)]),s[10]||(s[10]=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Deskripsi ")],-1)),t("div",{innerHTML:a.event.body,style:{"text-align":"justify","text-justify":""},class:"col-md-9 mb-2"},null,8,W),s[11]||(s[11]=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Tanggal Pelaksanaan ")],-1)),t("div",X,[t("span",null," : "+n(a.event.date),1)]),s[12]||(s[12]=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Tutup Pendaftaran ")],-1)),t("div",Z,[t("span",null," : "+n(a.event.enddate),1)]),s[13]||(s[13]=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Kapasitas Peserta ")],-1)),t("div",$,[t("span",null," : "+n(a.event.participant),1)]),s[14]||(s[14]=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Tempat Pelaksanaan ")],-1)),t("div",tt,[t("span",null," : "+n(a.event.place),1)]),s[15]||(s[15]=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Link ")],-1)),t("div",st,[t("span",null," : "+n(a.event.link),1)])])])])])]),t("div",et,[t("div",at,[t("div",lt,[t("div",nt,[s[20]||(s[20]=t("h3",{class:"text-center"},"Detail Peserta",-1)),t("div",ot,[t("form",{onSubmit:s[1]||(s[1]=T((...e)=>d.handleSearch&&d.handleSearch(...e),["prevent"]))},[t("div",it,[b(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":s[0]||(s[0]=e=>d.search=e),placeholder:"masukkan kata kunci dan enter..."},null,512),[[C,d.search]]),s[17]||(s[17]=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1))])],32)]),t("ul",dt,[t("li",rt,[t("a",{class:L(["nav-link",{active:o.activeTab==="participant"}]),onClick:s[2]||(s[2]=e=>i.setActiveTab("participant"))},"Participant",2)]),t("li",ct,[t("button",{class:"btn btn-success w-100",onClick:s[3]||(s[3]=(...e)=>i.absenAll&&i.absenAll(...e))},"Absen All")])]),b(t("div",mt,[t("table",ut,[s[18]||(s[18]=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Nama"),t("th",{class:"border-0"},"Instansi"),t("th",{class:"border-0"},"Sebagai"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Status ")])],-1)),s[19]||(s[19]=t("div",{class:"mt-2"},null,-1)),t("tbody",null,[(r(!0),c(k,null,I(a.details.data,(e,p)=>(r(),c("tr",{key:p},[t("td",bt,n(++p+(a.details.current_page-1)*a.details.per_page),1),t("td",null,n(e.member.name),1),t("td",null,n(e.member.agency),1),t("td",{onClick:ft=>i.openRoleModal(e),style:{cursor:"pointer"},title:"Klik untuk ubah peran"},n(e.title),9,vt),t("td",pt,n(e.status),1)]))),128))])])],512),[[A,o.activeTab==="participant"]]),o.activeTab==="participant"?(r(),N(y,{key:0,links:a.details.links,align:"end"},null,8,["links"])):f("",!0)])])])])]),o.showRoleModal?(r(),c("div",_t,[t("div",ht,[s[22]||(s[22]=t("h5",null,"Edit Peran Peserta",-1)),b(t("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>o.selectedRole=e),class:"form-control mb-3"},[...s[21]||(s[21]=[t("option",{value:"Peserta"},"Peserta",-1),t("option",{value:"Moderator"},"Moderator",-1),t("option",{value:"Panitia"},"Panitia",-1),t("option",{value:"Narasumber"},"Narasumber",-1)])],512),[[B,o.selectedRole]]),t("button",{class:"btn btn-sm btn-success",onClick:s[5]||(s[5]=e=>i.updateRole(o.selectedParticipantId,o.selectedRole))},"Simpan"),t("button",{class:"btn btn-sm btn-secondary ms-2",onClick:s[6]||(s[6]=(...e)=>i.closeRoleModal&&i.closeRoleModal(...e))},"Batal")])])):f("",!0)],64)}const Rt=H(V,[["render",kt]]);export{Rt as default};
