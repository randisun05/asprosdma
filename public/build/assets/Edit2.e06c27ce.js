import{o as a,c as n,d as s,f as o,v as h,K as u,F as d,j as f,t as v}from"./app.5c73e509.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";const w={data(){return{provinces:[],cities:[],districts:[],villages:[],searchProvince:"",searchCity:"",searchDistrict:"",searchVillage:"",showProvinceList:!1,showCityList:!1,showDistrictList:!1,showVillageList:!1}},computed:{filteredProvinces(){return this.provinces.filter(i=>i.name.toLowerCase().includes(this.searchProvince.toLowerCase()))},filteredCities(){return this.cities.filter(i=>i.name.toLowerCase().includes(this.searchCity.toLowerCase()))},filteredDistricts(){return this.districts.filter(i=>i.name.toLowerCase().includes(this.searchDistrict.toLowerCase()))},filteredVillages(){return this.villages.filter(i=>i.name.toLowerCase().includes(this.searchVillage.toLowerCase()))}},methods:{searchProvinces(){this.showProvinceList=!0},searchCities(){this.showCityList=!0},searchDistricts(){this.showDistrictList=!0},searchVillages(){this.showVillageList=!0},selectProvince(i){this.searchProvince=i.name,this.showProvinceList=!1},selectCity(i){this.searchCity=i.name,this.showCityList=!1},selectDistrict(i){this.searchDistrict=i.name,this.showDistrictList=!1},selectVillage(i){this.searchVillage=i.name,this.showVillageList=!1},async fetchData(i){try{const e=await fetch(i);if(!e.ok)throw new Error("Failed to fetch data");return await e.json()}catch(e){console.error("Error fetching data:",e)}},async fetchCitiesByProvince(i){const e=`https://randisun05.github.io/api-wilayah-indonesia/api/regencies/${i}.json`;this.cities=await this.fetchData(e)},async fetchDistrictsByCity(i){const e=`https://randisun05.github.io/api-wilayah-indonesia/api/districts/${i}.json`;this.districts=await this.fetchData(e)},async fetchVillagesByDistrict(i){const e=`https://randisun05.github.io/api-wilayah-indonesia/api/villages/${i}.json`;this.villages=await this.fetchData(e)}},watch:{searchProvince(i){if(i===""){this.cities=[],this.districts=[],this.villages=[];return}const e=this.provinces.find(c=>c.name.toLowerCase()===i.toLowerCase());e&&this.fetchCitiesByProvince(e.id)},searchCity(i){if(i===""){this.districts=[],this.villages=[];return}const e=this.cities.find(c=>c.name.toLowerCase()===i.toLowerCase());e&&this.fetchDistrictsByCity(e.id)},searchDistrict(i){if(i===""){this.villages=[];return}const e=this.districts.find(c=>c.name.toLowerCase()===i.toLowerCase());e&&this.fetchVillagesByDistrict(e.id)}},mounted(){const i="https://randisun05.github.io/api-wilayah-indonesia/api/provinces.json";this.fetchData(i).then(e=>{this.provinces=e})}},p={class:"autocomplete-list"},m=["onClick"],g={class:"autocomplete-list"},D=["onClick"],L={class:"autocomplete-list"},P=["onClick"],V={class:"autocomplete-list"},k=["onClick"];function b(i,e,c,x,l,r){return a(),n("div",null,[e[12]||(e[12]=s("h2",null,"Wilayah Indonesia",-1)),s("div",null,[e[8]||(e[8]=s("label",{for:"province"},"Provinsi:",-1)),o(s("input",{type:"text",id:"province","onUpdate:modelValue":e[0]||(e[0]=t=>l.searchProvince=t),onInput:e[1]||(e[1]=(...t)=>r.searchProvinces&&r.searchProvinces(...t)),placeholder:"Cari Provinsi"},null,544),[[h,l.searchProvince]]),o(s("ul",p,[(a(!0),n(d,null,f(r.filteredProvinces,t=>(a(),n("li",{key:t.id,onClick:C=>r.selectProvince(t)},v(t.name),9,m))),128))],512),[[u,l.showProvinceList]])]),s("div",null,[e[9]||(e[9]=s("label",{for:"city"},"Kota/Kabupaten:",-1)),o(s("input",{type:"text",id:"city","onUpdate:modelValue":e[2]||(e[2]=t=>l.searchCity=t),onInput:e[3]||(e[3]=(...t)=>r.searchCities&&r.searchCities(...t)),placeholder:"Cari Kota/Kabupaten"},null,544),[[h,l.searchCity]]),o(s("ul",g,[(a(!0),n(d,null,f(r.filteredCities,t=>(a(),n("li",{key:t.id,onClick:C=>r.selectCity(t)},v(t.name),9,D))),128))],512),[[u,l.showCityList]])]),s("div",null,[e[10]||(e[10]=s("label",{for:"district"},"Kecamatan:",-1)),o(s("input",{type:"text",id:"district","onUpdate:modelValue":e[4]||(e[4]=t=>l.searchDistrict=t),onInput:e[5]||(e[5]=(...t)=>r.searchDistricts&&r.searchDistricts(...t)),placeholder:"Cari Kecamatan"},null,544),[[h,l.searchDistrict]]),o(s("ul",L,[(a(!0),n(d,null,f(r.filteredDistricts,t=>(a(),n("li",{key:t.id,onClick:C=>r.selectDistrict(t)},v(t.name),9,P))),128))],512),[[u,l.showDistrictList]])]),s("div",null,[e[11]||(e[11]=s("label",{for:"village"},"Kelurahan/Desa:",-1)),o(s("input",{type:"text",id:"village","onUpdate:modelValue":e[6]||(e[6]=t=>l.searchVillage=t),onInput:e[7]||(e[7]=(...t)=>r.searchVillages&&r.searchVillages(...t)),placeholder:"Cari Kelurahan/Desa"},null,544),[[h,l.searchVillage]]),o(s("ul",V,[(a(!0),n(d,null,f(r.filteredVillages,t=>(a(),n("li",{key:t.id,onClick:C=>r.selectVillage(t)},v(t.name),9,k))),128))],512),[[u,l.showVillageList]])])])}const j=y(w,[["render",b]]);export{j as default};
