import{L as k}from"./Admin.8007f5d6.js";import{G as C,a as x}from"./GenerateQRCode.cfe763cd.js";import{P as q}from"./Pagination.1f619c46.js";import{H as M,L,r as p,a as m,o as n,c as r,b as u,w as f,d as e,e as I,f as R,v as S,F as g,i as N,g as h,j as Q,t as l,p as P,l as j}from"./app.efc69725.js";import"./sweetalert2.all.621f0b8e.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:k,components:{Head:M,Link:L,Pagination:q,GenerateQRCode:C},props:{errors:Object,datas:Object},data(){return{showModal:!1,qrCode:null,text:""}},methods:{async showQrModal(o){try{const t=await x.post(`${window.location.origin}/admin/generate-qr`,{text:o},{responseType:"blob"}),d=URL.createObjectURL(t.data);this.qrCode=d,this.showModal=!0}catch(t){console.error("Error generating QR code:",t)}},closeModal(){this.showModal=!1,this.qrCode=null}},setup(){const o=p(new URL(document.location).searchParams.get("q")),t=()=>{Q.Inertia.get("/admin/members",{q:o.value})},d=p(!1);return{search:o,handleSearch:t,showModalEmail:d}}},a=o=>(P("data-v-e792a38b"),o=o(),j(),o),U=a(()=>e("title",null,"Administrator",-1)),V={class:"container-fluid padding px-5"},B={class:"row"},D={class:"col-md-12"},E={class:"row"},O={class:"col-md-6 col-12 mb-2"},F={class:"input-group"},G=a(()=>e("span",{class:"input-group-text border-0 shadow"},[e("i",{class:"fa fa-search"})],-1)),T={class:"row mt-1"},J={class:"col-md-12"},z={class:"card border-0 shadow"},K={class:"card-body"},W={class:"table-responsive"},X={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Y=a(()=>e("thead",{class:"thead-dark"},[e("tr",{class:"border-0 text-center"},[e("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),e("th",{class:"border-0"},"No Anggota"),e("th",{class:"border-0"},"Nama"),e("th",{class:"border-0"},"Jabatan"),e("th",{class:"border-0"},"Instansi"),e("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1)),Z=a(()=>e("div",{class:"mt-2"},null,-1)),$={class:"fw-bold text-center"},ee={class:"text-center"},se=a(()=>e("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1)),te=["href"],oe=a(()=>e("i",{class:"fa fa-pencil fa-lg","aria-hidden":"true"},null,-1)),ae=[oe],de=["href"],ne=a(()=>e("i",{class:"fa fa-qrcode fa-lg","aria-hidden":"true"},null,-1)),re=[ne],le={key:0,class:"modal fade show",style:{display:"block"},tabindex:"-1",role:"dialog"},ie={class:"modal-dialog modal-dialog-centered",role:"document"},ce={class:"modal-content"},_e={class:"modal-header"},he=a(()=>e("h5",{class:"modal-title"},"QR Code",-1)),me=a(()=>e("span",{"aria-hidden":"true"},"\xD7",-1)),ue=[me],be={class:"modal-body text-center"},pe=["src"],fe={class:"modal-footer"},ge=["href"];function we(o,t,d,c,i,_){const w=m("Head"),v=m("Link"),y=m("Pagination");return n(),r(g,null,[u(w,null,{default:f(()=>[U]),_:1}),e("div",V,[e("div",B,[e("div",D,[e("div",E,[e("div",O,[e("form",{onSubmit:t[1]||(t[1]=I((...s)=>c.handleSearch&&c.handleSearch(...s),["prevent"]))},[e("div",F,[R(e("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":t[0]||(t[0]=s=>c.search=s),placeholder:"masukkan kata kunci dan enter..."},null,512),[[S,c.search]]),G])],32)])])])]),e("div",T,[e("div",J,[e("div",z,[e("div",K,[e("div",W,[e("table",X,[Y,Z,e("tbody",null,[(n(!0),r(g,null,N(d.datas.data,(s,b)=>(n(),r("tr",{key:b},[e("td",$,l(++b+(d.datas.current_page-1)*d.datas.per_page),1),e("td",null,l(s.main.nomember),1),e("td",null,l(s.main.name),1),e("td",null,l(s.position)+" "+l(s.level),1),e("td",null,l(s.agency),1),e("td",ee,[u(v,{href:`/admin/members/${s.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:f(()=>[se]),_:2},1032,["href"]),o.$page.props.auth.user.role=="administrator"||o.$page.props.auth.user.role=="keanggotaan"?(n(),r("a",{key:0,href:`/admin/members/${s.id}/edit`,title:"edit",class:"btn btn-sm btn-warning border-0 shadow me-2"},ae,8,te)):h("",!0),e("a",{href:`/admin/members/qrcode/${s.id}`,class:"btn btn-sm btn-info border-0 shadow me-2",type:"button"},re,8,de)])]))),128))])])]),u(y,{links:d.datas.links,align:"end"},null,8,["links"])])])])])]),i.showModal?(n(),r("div",le,[e("div",ie,[e("div",ce,[e("div",_e,[he,e("button",{type:"button",class:"close",onClick:t[2]||(t[2]=(...s)=>_.closeModal&&_.closeModal(...s)),"aria-label":"Close"},ue)]),e("div",be,[i.qrCode?(n(),r("img",{key:0,src:i.qrCode,alt:"QR Code"},null,8,pe)):h("",!0)]),e("div",fe,[i.qrCode?(n(),r("a",{key:0,href:i.qrCode,download:"qr-code.png",class:"btn btn-success"}," Download QR Code ",8,ge)):h("",!0),e("button",{type:"button",class:"btn btn-secondary",onClick:t[3]||(t[3]=(...s)=>_.closeModal&&_.closeModal(...s))},"Close")])])])])):h("",!0)],64)}const Me=A(H,[["render",we],["__scopeId","data-v-e792a38b"]]);export{Me as default};
