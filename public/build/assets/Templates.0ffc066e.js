import{L as x}from"./Admin.3f47ecf3.js";import{P as C}from"./Pagination.8b1da0c7.js";import{H as I,L as B,r as T,a as _,o as i,c as r,b as u,w as g,d as t,e as p,f as L,v as D,t as d,g as c,F as b,i as S,j as f,k as j}from"./app.101afb07.js";import{S as v}from"./sweetalert2.all.63683769.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";const N={layout:x,components:{Head:I,Link:B,Pagination:C},props:{errors:Object,templates:Object},setup(){const l=T({title:"",image:"",status:""});return{destroy:s=>{v.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(m=>{m.isConfirmed&&(f.Inertia.delete(`/admin/events/certificates/templates/${s}`),v.fire({title:"Deleted!",text:"Media Berhasil Dihapus!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},getImageUrl:s=>`/storage/${s}`,form:l,submit:()=>{const s=new FormData;s.append("title",l.value.title),s.append("image",l.value.image),s.append("status",l.value.status),f.Inertia.post("/admin/events/certificates/templates/store",s)},updateImage:s=>{l.value.image=s.target.files[0]}}}},V=t("title",null,"Template",-1),H={class:"px-5 shadow padding"},P={class:"row"},U={class:"col-md-12"},F={class:"col-md-1 col-12 mb-2"},M=t("i",{class:"fa fa-arrow-left"},null,-1),O=j(" Kembali"),E={class:"row"},G=t("h3",{class:"text-center"},"Template Sertifikat",-1),K={class:"row py-4"},Y={class:"col-md-4"},q=t("span",{class:"text-black"},"Title",-1),z={class:"form-group mt-1 mb-4"},J={key:0,class:"alert alert-danger mt-2"},Q={class:"col-md-3"},R=t("span",{class:"text-black"},"Image",-1),W={class:"form-group mt-1 mb-4"},X={key:0,class:"alert alert-danger mt-2"},Z={key:1,class:"alert alert-danger mt-2"},$=t("div",{class:"col-md-11 text-center"},[t("button",{type:"submit",class:"btn btn-primary"},"Simpan")],-1),tt={class:"row mt-1"},et={class:"col-md-12"},st={class:"card border-0 shadow"},at={class:"card-body"},ot={class:"table-responsive"},nt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},it=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Image"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),rt=t("div",{class:"mt-2"},null,-1),lt={class:"fw-bold text-center"},dt={style:{width:"80px"}},ct=["src"],mt={class:"text-center"},_t=["onClick"],ut=t("i",{class:"fa fa-trash",title:"hapus"},null,-1),ht=[ut];function gt(l,n,e,o,y,s){const m=_("Head"),k=_("Link"),w=_("Pagination");return i(),r(b,null,[u(m,null,{default:g(()=>[V]),_:1}),t("div",H,[t("div",P,[t("div",U,[t("div",F,[u(k,{href:"/admin/events/",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:g(()=>[M,O]),_:1})]),t("div",E,[G,t("form",{onSubmit:n[2]||(n[2]=p((...a)=>o.submit&&o.submit(...a),["prevent"])),enctype:"multipart/form-data"},[t("div",K,[t("div",Y,[q,t("div",z,[L(t("input",{type:"text",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=a=>o.form.title=a)},null,512),[[D,o.form.title]])]),e.errors.title?(i(),r("div",J,d(e.errors.title),1)):c("",!0)]),t("div",Q,[R,t("div",W,[t("input",{type:"file",class:"form-control",onChange:n[1]||(n[1]=(...a)=>o.updateImage&&o.updateImage(...a)),accept:".jpg, .jpeg, .png, .svg"},null,32)]),e.errors.image?(i(),r("div",X,d(e.errors.image),1)):c("",!0),e.errors[0]?(i(),r("div",Z,d(e.errors[0]),1)):c("",!0)]),$])],32)])])]),t("div",tt,[t("div",et,[t("div",st,[t("div",at,[t("div",ot,[t("table",nt,[it,rt,t("tbody",null,[(i(!0),r(b,null,S(e.templates.data,(a,h)=>(i(),r("tr",{key:h},[t("td",lt,d(++h+(e.templates.current_page-1)*e.templates.per_page),1),t("td",null,d(a.title),1),t("td",dt,[a.image?(i(),r("img",{key:0,class:"image",src:o.getImageUrl(a.image),alt:"Gambar"},null,8,ct)):c("",!0)]),t("td",mt,[t("button",{onClick:p(pt=>o.destroy(a.id),["prevent"]),class:"btn btn-sm btn-danger border-0 me-2"},ht,8,_t)])]))),128))])])]),u(w,{links:e.templates.links,align:"end"},null,8,["links"])])])])])])],64)}const wt=A(N,[["render",gt]]);export{wt as default};
