import{L as j}from"./Admin.5699026e.js";import{H as L,L as V,q as E,r as x,a as p,o as a,c as d,b as A,w,d as e,l as U,g as u,i as f,t as b,f as c,v as g,e as h,n as I,F as M,k as v}from"./app.56f58a85.js";import{S as m}from"./sweetalert2.all.15407acb.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";const T={layout:j,components:{Head:L,Link:V},props:{errors:Object,register:Object},setup(r){const t=E({nip:r.register.nip,name:r.register.name,email:r.register.email,contact:r.register.contact,agency:r.register.agency,position:r.register.position,level:r.register.level,status:r.register.status,paid:r.register.paid,document_jab:r.register.document_jab,info:r.register.info,sendemail:r.register.email}),n=i=>{m.fire({title:"Apakah Anda yakin?",text:"Anda akan menyetujui usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(l=>{l.isConfirmed&&(v.Inertia.get(`/admin/registration/${i}/approve`,{info:t.info}),m.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},s=i=>{m.fire({title:"Apakah Anda yakin?",text:"Anda akan mengkonfirmasi ulang usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Confirm it!"}).then(l=>{l.isConfirmed&&(v.Inertia.get(`/admin/registration/${i}/confirm`,{info:t.info,email:t.sendemail}),m.fire({title:"Success!",text:"Status Conirmed!.",icon:"success",timer:2e3,showConfirmButton:!1}))}),x.showModalEmail=!1},C=i=>{m.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(l=>{l.isConfirmed&&(v.Inertia.get(`/admin/registration/${i}/reject`),m.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},B=i=>{m.fire({title:"Pastikan data sudah sesuai.!",text:"Anda akan mengirim email konfirmasi?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Send it!"}).then(l=>{l.isConfirmed&&(v.Inertia.get(`/admin/registration/${i}/email`),m.fire({title:"Success!",text:"Email Sent!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},y=i=>{m.fire({title:"Apakah Anda yakin?",text:"Anda akan kirim ulang email!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Send it!"}).then(l=>{l.isConfirmed&&(v.Inertia.get(`/admin/registration/${i}/email-approve`),m.fire({title:"Success!",text:"Status Sent!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},k=i=>{m.fire({title:"Konfirmasi Anggota LB",text:"Masukkan Jabatan Khusus untuk Anggota Luar Biasa:",input:"text",inputPlaceholder:"Contoh: Dosen / Praktisi / Lainnya",icon:"info",showCancelButton:!0,confirmButtonColor:"#0dcaf0",cancelButtonColor:"#d33",confirmButtonText:"Approve sebagai LB",inputValidator:l=>{if(!l)return"Jabatan harus diisi!"}}).then(l=>{l.isConfirmed&&(v.Inertia.get(`/admin/registration/${i}/approve-lb`,{info:t.info,position:l.value}),m.fire({title:"Success!",text:"Anggota LB Berhasil Disetujui.",icon:"success",timer:2e3,showConfirmButton:!1}))})},o=i=>`/storage/${i}`,S=i=>`/storage/${i}`,_=x(!1);return{form:t,getDocumentUrl:o,handleApprove:n,handleReject:C,handleConfirm:s,getImageUrl:S,sendEmail:B,handleemailApprove:y,showModalEmail:_,handleApproveLB:k}}},K={class:"container-fluid padding px-5"},D={class:"row"},N={class:"col-md-12"},J={class:"card border-0 shadow"},Y={class:"card-body"},H={key:0,class:"alert alert-danger mt-2"},R={class:"row"},O={class:"col-md-6 col-sm-6"},q={class:"form-group bottom35 mt-1"},F={class:"col-md-6 col-sm-6"},z={class:"form-group bottom35 mt-1"},G={class:"col-md-6 col-sm-6"},Q={class:"form-group bottom35 mt-1"},W={class:"col-md-6 col-sm-6"},X={class:"form-group bottom35 mt-1"},Z={class:"col-md-6 col-sm-6"},$={class:"form-group bottom35 mt-1"},tt={class:"col-md-6 col-sm-6"},et={class:"form-group bottom35 mt-1"},nt=["disabled"],st={class:"col-md-3 col-sm-3"},ot={class:"form-group bottom35 mt-1"},it={class:"col-md-3 col-sm-3"},at={class:"form-group bottom35"},rt={class:"form-group bottom35 mt-1"},lt={class:"col-md-6 col-sm-6 mt-4"},dt=["href"],mt={key:0,class:"badge bg-success fs-5"},ut={key:1,class:"badge bg-warning fs-5"},ft={key:2,class:"badge bg-danger fs-5"},ct={key:3,class:"badge bg-secondary fs-5"},gt=["href"],bt={class:"badge bg-warning fs-5 ms-4"},vt={class:"text-center"},kt={class:"modal-dialog modal-dialog-centered"},yt={class:"modal-content"},wt={class:"modal-body"},ht={class:"modal-footer"};function Ct(r,t,n,s,C,B){const y=p("Head"),k=p("Link");return a(),d(M,null,[A(y,null,{default:w(()=>[...t[17]||(t[17]=[e("title",null,"Administrator",-1)])]),_:1}),e("div",K,[e("div",D,[e("div",N,[A(k,{href:"/admin/registration",class:"btn btn-md btn-primary border-0 shadow mb-3",type:"button"},{default:w(()=>[...t[18]||(t[18]=[e("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1),f(" Kembali",-1)])]),_:1}),n.register.status!=="approved"&&n.register.status!=="rejected"?(a(),U(k,{key:0,href:`/registration/confirm/${n.register.id}/edit`,class:"btn btn-md btn-warning border-0 shadow mb-3 ms-3",type:"button"},{default:w(()=>[...t[19]||(t[19]=[e("i",{class:"fa fa-pencil","aria-hidden":"true"},null,-1),f(" Edit",-1)])]),_:1},8,["href"])):u("",!0),e("div",J,[e("div",Y,[t[34]||(t[34]=e("h5",null,[e("i",{class:"fa fa-bookmark"}),f(" Data Pengusul")],-1)),n.errors&&Object.keys(n.errors).length>0?(a(),d("div",H,b(n.errors),1)):u("",!0),t[35]||(t[35]=e("hr",null,null,-1)),e("div",R,[e("div",O,[t[20]||(t[20]=e("span",null," NIP ",-1)),e("div",q,[c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=o=>s.form.nip=o),disabled:""},null,512),[[g,s.form.nip]])])]),e("div",F,[t[21]||(t[21]=e("span",null," Nama ",-1)),e("div",z,[c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=o=>s.form.name=o),disabled:""},null,512),[[g,s.form.name]])])]),e("div",G,[t[22]||(t[22]=e("span",null," Email ",-1)),e("div",Q,[c(e("input",{type:"email",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=o=>s.form.email=o),disabled:""},null,512),[[g,s.form.email]])])]),e("div",W,[t[23]||(t[23]=e("span",null," Nomor Kontak ",-1)),e("div",X,[c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=o=>s.form.contact=o),disabled:""},null,512),[[g,s.form.contact]])])]),e("div",Z,[t[24]||(t[24]=e("span",null," Instansi ",-1)),e("div",$,[c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=o=>s.form.agency=o),disabled:""},null,512),[[g,s.form.agency]])])]),e("div",tt,[t[25]||(t[25]=e("span",null," Info ",-1)),e("div",et,[c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=o=>s.form.info=o),disabled:n.register.status==="approved"||n.register.status==="rejected"},null,8,nt),[[g,s.form.info]])])]),e("div",st,[t[26]||(t[26]=e("span",null," Jabatan ",-1)),e("div",ot,[c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=o=>s.form.position=o),disabled:""},null,512),[[g,s.form.position]])])]),e("div",it,[t[27]||(t[27]=e("span",null," Jenjang ",-1)),e("div",at,[e("div",rt,[c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=o=>s.form.level=o),disabled:""},null,512),[[g,s.form.level]])])])]),e("div",lt,[e("a",{href:s.getDocumentUrl(s.form.document_jab),target:"_blank",class:"badge bg-primary fs-5 border-0 shadow me-4 fs-5",type:"button"}," View SK Jabatan ",8,dt),n.register.status==="approved"?(a(),d("span",mt,"Status "+b(n.register.status),1)):n.register.status==="confirm"?(a(),d("span",ut,"Status "+b(n.register.status),1)):n.register.status==="rejected"?(a(),d("span",ft,"Status "+b(n.register.status),1)):n.register.status==="submission"?(a(),d("span",ct,"Status "+b(n.register.status),1)):u("",!0),n.register.paid?(a(),d("a",{key:4,href:s.getImageUrl(n.register.paid),target:"_blank",class:"badge bg-primary fs-5 ms-4"},"Paid",8,gt)):u("",!0),e("span",bt,b(n.register.from),1)])]),e("div",vt,[n.register.status!=="rejected"&&n.register.status!=="approved"?(a(),d("button",{key:0,onClick:t[8]||(t[8]=o=>s.handleApprove(n.register.id)),class:"btn btn-sm btn-success border-0 shadow me-2"},[...t[28]||(t[28]=[e("i",{class:"fa fa-check-circle fa-lg me-1","aria-hidden":"true"},null,-1),f("Selesai",-1)])])):u("",!0),n.register.status!=="approved"?(a(),d("button",{key:1,onClick:t[9]||(t[9]=h(o=>s.showModalEmail=!0,["prevent"])),class:"btn btn-sm btn-warning border-0 shadow me-2"},[...t[29]||(t[29]=[e("i",{class:"fa fa-question-circle fa-lg me-1","aria-hidden":"true"},null,-1),f("Perbaikan",-1)])])):u("",!0),n.register.status!=="approved"&&n.register.status!=="rejected"?(a(),d("button",{key:2,onClick:t[10]||(t[10]=o=>s.handleReject(n.register.id)),class:"btn btn-sm btn-danger border-0 shadow me-2"},[...t[30]||(t[30]=[e("i",{class:"fa fa-times-circle fa-lg me-1","aria-hidden":"true"},null,-1),f("Tolak",-1)])])):u("",!0),n.register.status!=="approved"&&n.register.status!=="rejected"?(a(),d("button",{key:3,onClick:t[11]||(t[11]=o=>s.sendEmail(n.register.id)),class:"btn btn-sm btn-primary border-0 shadow me-2"},[...t[31]||(t[31]=[e("i",{class:"fa fa-envelope fa-lg me-1","aria-hidden":"true"},null,-1),f("Permintaan Pembayaran",-1)])])):u("",!0),n.register.status==="approved"?(a(),d("button",{key:4,onClick:t[12]||(t[12]=o=>s.handleemailApprove(n.register.id)),class:"btn btn-sm btn-success border-0 shadow me-2"},[...t[32]||(t[32]=[e("i",{class:"fa fa-check-circle fa-lg me-1","aria-hidden":"true"},null,-1),f("Kirim Ulang Email Selesai",-1)])])):u("",!0)]),n.register.status!=="rejected"&&n.register.status!=="approved"&&r.$page.props.auth.user.role=="administrator"?(a(),d("button",{key:1,onClick:t[13]||(t[13]=o=>s.handleApproveLB(n.register.id)),class:"btn btn-sm btn-info border-0 shadow me-2 text-white"},[...t[33]||(t[33]=[e("i",{class:"fa fa-university fa-lg me-1","aria-hidden":"true"},null,-1),f("Selesai (LB) ",-1)])])):u("",!0)])])])])]),s.showModalEmail?(a(),d("div",{key:0,class:I(["modal fade",{show:s.showModalEmail}]),tabindex:"-1","aria-hidden":"true",style:{display:"block"},role:"dialog"},[e("div",kt,[e("div",yt,[t[36]||(t[36]=e("div",{class:"modal-body"},[e("h5",{class:"modal-title"},"Mengirim Link Perbaikan Ke Email:")],-1)),e("div",wt,[c(e("input",{type:"email",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=o=>s.form.sendemail=o)},null,512),[[g,s.form.sendemail]])]),e("div",ht,[e("button",{onClick:t[15]||(t[15]=h(o=>s.handleConfirm(n.register.id),["prevent"])),type:"button",class:"btn btn-primary"},"Kirim"),e("button",{onClick:t[16]||(t[16]=h(o=>s.showModalEmail=!1,["prevent"])),type:"button",class:"btn btn-secondary"},"Tutup")])])])],2)):u("",!0)],64)}const St=P(T,[["render",Ct]]);export{St as default};
