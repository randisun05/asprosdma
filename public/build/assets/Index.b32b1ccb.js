import{L as R}from"./Admin.0554868c.js";import{P as L}from"./Pagination.24046cc2.js";import{H as P,L as N,q as I,r as A,o as s,c as i,d as f,w as b,a as t,h as S,i as w,v as V,n as x,D as T,F as y,C as B,E as k,j as m,k as v,t as a,e as j}from"./app.a37456d7.js";import{S as h}from"./sweetalert2.all.22253fba.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";const O={layout:R,components:{Head:P,Link:N,Pagination:L},props:{errors:Object,posts:Object,publishs:Object,categories:Object},data(){return{activeTab:"sub"}},methods:{setActiveTab(_){this.activeTab=_}},setup(){const _=I(new URL(document.location).searchParams.get("q"));return{search:_,handleSearch:()=>{v.Inertia.get("/admin/posts",{q:_.value})},handleReject:c=>{h.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak pengajuan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(n=>{n.isConfirmed&&(v.Inertia.get(`/admin/posts/${c}/reject`),h.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleApprove:c=>{h.fire({title:"Apakah Anda yakin?",text:"Post akan dipublikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(n=>{n.isConfirmed&&(v.Inertia.get(`/admin/posts/${c}/approve`),h.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleReturn:c=>{h.fire({title:"Apakah Anda yakin?",text:"Post akan dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Return it!"}).then(n=>{n.isConfirmed&&(v.Inertia.get(`/admin/posts/${c}/return`),h.fire({title:"Success!",text:"Status Returned!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleCancel:c=>{h.fire({title:"Apakah Anda yakin?",text:"Anda akan membatalkan publikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(n=>{n.isConfirmed&&(v.Inertia.get(`/admin/posts/${c}/cancel`),h.fire({title:"Success!",text:"Status Cancelled!.",icon:"success",timer:2e3,showConfirmButton:!1}))})}}}},Y=t("title",null,"Administrator",-1),q={class:"container-fluid mb-5 mt-5"},D={class:"row"},K={class:"col-md-12"},E={class:"row"},F={class:"col-md-1 col-12 mb-2"},M=t("i",{class:"fa fa-plus-circle"},null,-1),U=j(" Tambah"),z={class:"col-md-1 col-12 mb-2"},G=t("i",{class:"fa fa-plus-circle"},null,-1),J=j(" Kategori "),Q={class:"col-md-6 col-12 mb-2"},W={class:"input-group"},X=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1),Z={class:"row mt-1"},$={class:"col-md-12"},tt={class:"card border-0 shadow"},et={class:"card-body"},st={class:"nav nav-tabs"},at={class:"nav-item"},nt={class:"nav-item"},ot={class:"nav-item"},it={class:"table-responsive",id:"sub"},lt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},rt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Status"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),dt=t("div",{class:"mt-2"},null,-1),ct={class:"fw-bold text-center"},ut={key:0,class:"badge bg-success",title:"disetujui untuk di publish"},ht={key:1,class:"badge bg-warning",title:"hanya untuk konsumsi pribadi"},bt={key:2,class:"badge bg-warning",title:"silakan dicek kembali"},_t={key:3,class:"badge bg-danger",title:"ditolak untuk publish"},mt={key:4,class:"badge bg-secondary"},ft={class:"text-center"},kt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),vt=["onClick"],gt=t("i",{class:"fa fa-check-circle fa-lg","aria-hidden":"true"},null,-1),pt=[gt],wt=t("i",{class:"fa fa-pencil fa-lg","aria-hidden":"true"},null,-1),yt=t("i",{class:"fa fa-recycle fa-lg","aria-hidden":"true"},null,-1),Ct=["onClick"],At=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),xt=[At],Tt={class:"table-responsive",id:"approved"},Bt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},St=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),jt=t("div",{class:"mt-2"},null,-1),Rt={class:"fw-bold text-center"},Lt={class:"text-center"},Pt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),Nt=["onClick"],It=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),Vt=[It],Ht={class:"table-responsive",id:"category"},Ot={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Yt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),qt=t("div",{class:"mt-2"},null,-1),Dt={class:"fw-bold text-center"},Kt={class:"text-center"},Et=["onClick"],Ft=t("i",{class:"fa fa-trash",title:"hapus"},null,-1),Mt=[Ft];function Ut(_,l,o,d,r,g){const c=A("Head"),n=A("Link"),C=A("Pagination");return s(),i(y,null,[f(c,null,{default:b(()=>[Y]),_:1}),t("div",q,[t("div",D,[t("div",K,[t("div",E,[t("div",F,[f(n,{href:"/admin/posts/create",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:b(()=>[M,U]),_:1})]),t("div",z,[f(n,{href:"/admin/posts/category/create",class:"btn btn-md btn-warning border-0 shadow w-100",type:"button"},{default:b(()=>[G,J]),_:1})]),t("div",Q,[t("form",{onSubmit:l[1]||(l[1]=S((...e)=>d.handleSearch&&d.handleSearch(...e),["prevent"]))},[t("div",W,[w(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":l[0]||(l[0]=e=>d.search=e),placeholder:"masukkan kata kunci dan enter..."},null,512),[[V,d.search]]),X])],32)])])])]),t("div",Z,[t("div",$,[t("div",tt,[t("div",et,[t("ul",st,[t("li",at,[t("a",{class:x(["nav-link",{active:r.activeTab==="sub"}]),onClick:l[2]||(l[2]=e=>g.setActiveTab("sub"))},"Submission",2)]),t("li",nt,[t("a",{class:x(["nav-link",{active:r.activeTab==="approved"}]),onClick:l[3]||(l[3]=e=>g.setActiveTab("approved"))},"Publish",2)]),t("li",ot,[t("a",{class:x(["nav-link",{active:r.activeTab==="category"}]),onClick:l[4]||(l[4]=e=>g.setActiveTab("category"))},"Category",2)])]),w(t("div",it,[t("table",lt,[rt,dt,t("tbody",null,[(s(!0),i(y,null,B(o.posts.data,(e,u)=>(s(),i("tr",{key:u},[t("td",ct,a(++u+(o.posts.current_page-1)*o.posts.per_page),1),t("td",null,a(e.title),1),t("td",null,a(e.member_id!==1?e.member.name:"Administrator"),1),t("td",null,a(e.category.title),1),t("td",null,[e.status==="approved"?(s(),i("span",ut,a(e.status),1)):e.status==="private"?(s(),i("span",ht,a(e.status),1)):e.status==="perlu ada perbaikan"?(s(),i("span",bt,a(e.status),1)):e.status==="rejected"?(s(),i("span",_t,a(e.status),1)):e.status==="submission"?(s(),i("span",mt,a(e.status),1)):m("",!0)]),t("td",ft,[f(n,{href:`/admin/posts/${e.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:b(()=>[kt]),_:2},1032,["href"]),t("button",{onClick:p=>d.handleApprove(e.id),title:"setuju untuk publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},pt,8,vt),e.member_id===1?(s(),k(n,{key:0,href:`/admin/posts/${e.id}/edit`,title:"edit",class:"btn btn-sm btn-warning border-0 shadow me-2"},{default:b(()=>[wt]),_:2},1032,["href"])):m("",!0),e.member_id!==1?(s(),k(n,{key:1,onClick:p=>d.handleReturn(e.id),title:"kembalikan",class:"btn btn-sm btn-warning border-0 shadow me-2"},{default:b(()=>[yt]),_:2},1032,["onClick"])):m("",!0),t("button",{onClick:p=>d.handleReject(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},xt,8,Ct)])]))),128))])])],512),[[T,r.activeTab==="sub"]]),w(t("div",Tt,[t("table",Bt,[St,jt,t("tbody",null,[(s(!0),i(y,null,B(o.publishs.data,(e,u)=>(s(),i("tr",{key:u},[t("td",Rt,a(++u+(o.publishs.current_page-1)*o.publishs.per_page),1),t("td",null,a(e.post.title),1),t("td",null,a(e.post.category.title),1),t("td",null,a(e.post.member.name!==1?e.post.member.name:"Administrator"),1),t("td",Lt,[f(n,{href:`/admin/posts/${e.post.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:b(()=>[Pt]),_:2},1032,["href"]),t("button",{onClick:p=>d.handleCancel(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},Vt,8,Nt)])]))),128))])])],512),[[T,r.activeTab==="approved"]]),w(t("div",Ht,[t("table",Ot,[Yt,qt,t("tbody",null,[(s(!0),i(y,null,B(o.categories.data,(e,u)=>(s(),i("tr",{key:u},[t("td",Dt,a(++u+(o.categories.current_page-1)*o.categories.per_page),1),t("td",null,a(e.title),1),t("td",Kt,[t("button",{onClick:S(p=>_.destroy(e.id),["prevent"]),class:"btn btn-sm btn-danger border-0 me-2"},Mt,8,Et)])]))),128))])])],512),[[T,r.activeTab==="category"]]),r.activeTab==="sub"?(s(),k(C,{key:0,links:o.posts.links,align:"end"},null,8,["links"])):m("",!0),r.activeTab==="approved"?(s(),k(C,{key:1,links:o.publishs.links,align:"end"},null,8,["links"])):m("",!0),r.activeTab==="category"?(s(),k(C,{key:2,links:o.categories.links,align:"end"},null,8,["links"])):m("",!0)])])])])])],64)}const Xt=H(O,[["render",Ut]]);export{Xt as default};
