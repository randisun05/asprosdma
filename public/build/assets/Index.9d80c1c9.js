import{L as _}from"./User.6e6d62f5.js";import{M as h}from"./MemberCard.9e22adf6.js";import{_ as g}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as p,c as w,H as x,L as k,a as c,b as m,w as b,d as e,i as C,t as v,F as y,k as R}from"./app.223d7d0c.js";import{S as L}from"./sweetalert2.all.1cc2398b.js";import"./Footer.3daad491.js";const U={},S={class:"member-card"};function q(u,o){return p(),w("div",S)}const E=g(U,[["render",q],["__scopeId","data-v-f386fe37"]]);const A={layout:_,components:{Head:x,Link:k,MemberCard:h,BackCard:E},props:{errors:Object,profile:Object,foto:Object,qrCode:String,qrLink:String},setup(){return{getImageUrl:t=>`/storage/${t}`,changePhoto:()=>{R.Inertia.get("/user/member-card/edit",{q:search.value})},downloadCard:async()=>{const t=document.getElementById("downloadFrame"),l="/user/member-card/download",s="/user/member-card/backcard";t.src=l,t.onload=()=>{console.log("Rendering completed in iframe, starting download of backcard...")};try{const a=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});if(!a.ok)throw new Error("Failed to fetch backcard image.");const f=await a.blob(),i=URL.createObjectURL(f),n=document.createElement("a");n.href=i,n.download="kartu-anggota-belakang.png",n.click(),URL.revokeObjectURL(i)}catch(a){console.error("Error during file download:",a)}},generateQRCode:async()=>{try{const t=await fetch("/user/member-card/qrcode",{method:"GET",headers:{"Content-Type":"image/svg+xml"}});if(!t.ok)throw new Error(`Failed to fetch QR Code. Status: ${t.status}`);const l=await t.blob(),s=URL.createObjectURL(l),a=document.createElement("a");a.href=s,a.download="qrcode.svg",a.click(),URL.revokeObjectURL(s)}catch(t){console.error("Error during QR Code download:",t),L.fire("Error","Gagal mengunduh QR Code. Coba lagi nanti.","error")}}}}},B={class:"px-5 shadow padding scalable-container"},O={id:"our-blog"},j={class:"padding_m card"},F={class:"row"},I={class:"col-12"},M={class:"row px-5 py-5"},Q={class:"col-md-4 card-member-container"},T={class:"col-md-4"},z={class:"col-md-4"},D={style:{"font-size":"18px",color:"#777","line-height":"1.6"}},P=["href"],H={class:"d-flex flex-column align-items-center mt-5"},N={class:"d-flex justify-content-between mb-3",style:{width:"100%"}};function G(u,o,r,d,t,l){const s=c("Head"),a=c("MemberCard"),f=c("BackCard"),i=c("Link");return p(),w(y,null,[m(s,null,{default:b(()=>[...o[2]||(o[2]=[e("title",null,"Kartu Anggota",-1),e("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},null,-1)])]),_:1}),e("div",B,[o[10]||(o[10]=e("div",{class:"row"},[e("div",{class:"col-md-12"},[e("div",{class:"row"})])],-1)),o[11]||(o[11]=e("div",{class:"row text-center"},null,-1)),e("section",O,[e("div",j,[e("div",F,[e("div",I,[e("div",M,[e("div",Q,[m(a,{profile:r.profile,foto:r.foto,qrCode:r.qrCode},null,8,["profile","foto","qrCode"])]),e("div",T,[m(f)]),e("div",z,[o[7]||(o[7]=e("h3",{class:"mb-4",style:{"font-size":"28px","font-weight":"bold",color:"#333"}},"Kartu Anggota ASPRO SDM Aparatur",-1)),o[8]||(o[8]=e("h4",{style:{"font-size":"18px",color:"#777","line-height":"1.6"}}," Adalah tanda pengenal resmi bagi anggota Asosiasi Profesi Sumber Daya Manusia Aparatur (ASPRO SDM Aparatur). ",-1)),o[9]||(o[9]=e("br",null,null,-1)),e("h4",D,[o[3]||(o[3]=C(" Tautan alamat profile keanggotaan Anda adalah ",-1)),e("a",{href:r.qrLink,target:"_blank"},v(r.qrLink),9,P)]),e("div",H,[e("div",N,[e("button",{onClick:o[0]||(o[0]=(...n)=>d.downloadCard&&d.downloadCard(...n)),class:"btn btn-lg btn-outline-secondary shadow-sm",style:{"border-radius":"8px","background-color":"#007bff",color:"white","font-weight":"bold","font-size":"18px",padding:"15px 30px",width:"48%",transition:"all 0.3s ease"}},[...o[4]||(o[4]=[e("i",{class:"fa fa-arrow-down fa-2x me-2","aria-hidden":"true"},null,-1),e("span",null,"Download",-1)])]),e("button",{onClick:o[1]||(o[1]=(...n)=>d.generateQRCode&&d.generateQRCode(...n)),class:"btn btn-lg btn-outline-secondary shadow-sm",style:{"border-radius":"8px","background-color":"#007bff",color:"white","font-weight":"bold","font-size":"18px",padding:"15px 30px",width:"48%",transition:"all 0.3s ease"}},[...o[5]||(o[5]=[e("i",{class:"fa fa-qrcode fa-2x me-2","aria-hidden":"true"},null,-1),e("span",null,"Download QR Code",-1)])])]),m(i,{href:"/user/member-card/edit",class:"btn btn-lg btn-outline-secondary shadow-sm",style:{"border-radius":"8px","background-color":"#007bff",color:"white","font-weight":"bold","font-size":"18px",padding:"15px 30px",width:"48%",transition:"all 0.3s ease"}},{default:b(()=>[...o[6]||(o[6]=[e("i",{class:"fa fa-camera-retro fa-2x me-2","aria-hidden":"true"},null,-1),e("span",null,"Ubah Foto",-1)])]),_:1})])])])])])])])]),o[12]||(o[12]=e("iframe",{id:"downloadFrame",style:{visibility:"hidden"}},null,-1))],64)}const Z=g(A,[["render",G],["__scopeId","data-v-1e6f60f0"]]);export{Z as default};
