import{L}from"./Admin.773e6362.js";import{P as R}from"./Pagination.5f72f475.js";import{H as P,L as I,p as N,r as C,o as s,c as i,b as v,w as b,a as t,g as S,h as w,v as V,n as A,C as x,F as y,B,D as g,i as m,j as f,t as a,d as j}from"./app.01ef6d23.js";import{S as u}from"./sweetalert2.all.0f294e28.js";import{_ as Y}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:L,components:{Head:P,Link:I,Pagination:R},props:{errors:Object,posts:Object,publishs:Object,categories:Object},data(){return{activeTab:"sub"}},methods:{setActiveTab(_){this.activeTab=_}},setup(){const _=N(new URL(document.location).searchParams.get("q"));return{search:_,handleSearch:()=>{f.Inertia.get("/admin/posts",{q:_.value})},handleReject:n=>{u.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak pengajuan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(l=>{l.isConfirmed&&(f.Inertia.get(`/admin/posts/${n}/reject`),u.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleApprove:n=>{u.fire({title:"Apakah Anda yakin?",text:"Post akan dipublikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(l=>{l.isConfirmed&&(f.Inertia.get(`/admin/posts/${n}/approve`),u.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleReturn:n=>{u.fire({title:"Apakah Anda yakin?",text:"Post akan dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Return it!"}).then(l=>{l.isConfirmed&&(f.Inertia.get(`/admin/posts/${n}/return`),u.fire({title:"Success!",text:"Status Returned!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleCancel:n=>{u.fire({title:"Apakah Anda yakin?",text:"Anda akan membatalkan publikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(l=>{l.isConfirmed&&(f.Inertia.get(`/admin/posts/${n}/cancel`),u.fire({title:"Success!",text:"Status Cancelled!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},handleLimited:n=>{u.fire({title:"Apakah Anda yakin?",text:"Publikasi akan bersifat terbatas!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Aprrove it!"}).then(l=>{l.isConfirmed&&(f.Inertia.get(`/admin/posts/${n}/limited`),u.fire({title:"Success!",text:"Status Limited!.",icon:"success",timer:2e3,showConfirmButton:!1}))})}}}},O=t("title",null,"Administrator",-1),D={class:"container-fluid padding px-5"},K={class:"row"},q={class:"col-md-12"},F={class:"row"},M={class:"col-md-1 col-12 mb-2"},U=t("i",{class:"fa fa-plus-circle"},null,-1),z=j(" Tambah"),E={class:"col-md-1 col-12 mb-2"},G=t("i",{class:"fa fa-plus-circle"},null,-1),J=j(" Kategori "),Q={class:"col-md-6 col-12 mb-2"},W={class:"input-group"},X=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1),Z={class:"row mt-1"},$={class:"col-md-12"},tt={class:"card border-0 shadow"},et={class:"card-body"},st={class:"nav nav-tabs"},at={class:"nav-item"},nt={class:"nav-item"},it={class:"nav-item"},ot={class:"table-responsive",id:"sub"},lt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},rt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Titleee"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Status"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),dt=t("div",{class:"mt-2"},null,-1),ct={class:"fw-bold text-center"},ut={key:0,class:"badge bg-success",title:"disetujui untuk di publish"},ht={key:1,class:"badge bg-warning",title:"hanya untuk konsumsi pribadi"},bt={key:2,class:"badge bg-warning",title:"silakan dicek kembali"},_t={key:3,class:"badge bg-danger",title:"ditolak untuk publish"},mt={key:4,class:"badge bg-secondary"},ft={key:5,class:"badge bg-danger",title:"ditolak untuk publish"},kt={key:6,class:"badge bg-secondary"},vt={class:"text-center"},gt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),pt=["onClick"],wt=t("i",{class:"fa fa-check-circle fa-lg","aria-hidden":"true"},null,-1),yt=[wt],Ct=t("i",{class:"fa fa-pencil fa-lg","aria-hidden":"true"},null,-1),At=t("i",{class:"fa fa-recycle fa-lg","aria-hidden":"true"},null,-1),xt=["onClick"],Bt=t("i",{class:"fa fa-user-circle fa-lg","aria-hidden":"true"},null,-1),Tt=[Bt],St=["onClick"],jt=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),Lt=[jt],Rt={class:"table-responsive",id:"approved"},Pt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},It=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),Nt=t("div",{class:"mt-2"},null,-1),Vt={class:"fw-bold text-center"},Yt={class:"text-center"},Ht=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),Ot=["onClick"],Dt=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),Kt=[Dt],qt={class:"table-responsive",id:"category"},Ft={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Mt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),Ut=t("div",{class:"mt-2"},null,-1),zt={class:"fw-bold text-center"},Et={class:"text-center"},Gt=["onClick"],Jt=t("i",{class:"fa fa-trash",title:"hapus"},null,-1),Qt=[Jt];function Wt(_,r,o,d,c,p){const T=C("Head"),n=C("Link"),l=C("Pagination");return s(),i(y,null,[v(T,null,{default:b(()=>[O]),_:1}),t("div",D,[t("div",K,[t("div",q,[t("div",F,[t("div",M,[v(n,{href:"/admin/posts/create",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:b(()=>[U,z]),_:1})]),t("div",E,[v(n,{href:"/admin/posts/category/create",class:"btn btn-md btn-warning border-0 shadow w-100",type:"button"},{default:b(()=>[G,J]),_:1})]),t("div",Q,[t("form",{onSubmit:r[1]||(r[1]=S((...e)=>d.handleSearch&&d.handleSearch(...e),["prevent"]))},[t("div",W,[w(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":r[0]||(r[0]=e=>d.search=e),placeholder:"masukkan kata kunci dan enter..."},null,512),[[V,d.search]]),X])],32)])])])]),t("div",Z,[t("div",$,[t("div",tt,[t("div",et,[t("ul",st,[t("li",at,[t("a",{class:A(["nav-link",{active:c.activeTab==="sub"}]),onClick:r[2]||(r[2]=e=>p.setActiveTab("sub"))},"Submission",2)]),t("li",nt,[t("a",{class:A(["nav-link",{active:c.activeTab==="approved"}]),onClick:r[3]||(r[3]=e=>p.setActiveTab("approved"))},"Publish",2)]),t("li",it,[t("a",{class:A(["nav-link",{active:c.activeTab==="category"}]),onClick:r[4]||(r[4]=e=>p.setActiveTab("category"))},"Category",2)])]),w(t("div",ot,[t("table",lt,[rt,dt,t("tbody",null,[(s(!0),i(y,null,B(o.posts.data,(e,h)=>(s(),i("tr",{key:h},[t("td",ct,a(++h+(o.posts.current_page-1)*o.posts.per_page),1),t("td",null,a(e.title),1),t("td",null,a(e.member_id!==1?e.member.name:"Administrator"),1),t("td",null,a(e.category.title),1),t("td",null,[e.status==="approved"?(s(),i("span",ut,a(e.status),1)):e.status==="private"?(s(),i("span",ht,a(e.status),1)):e.status==="perlu ada perbaikan"?(s(),i("span",bt,a(e.status),1)):e.status==="rejected"?(s(),i("span",_t,a(e.status),1)):e.status==="submission"?(s(),i("span",mt,a(e.status),1)):e.status==="return"?(s(),i("span",ft,a(e.status),1)):e.status==="limited"?(s(),i("span",kt,a(e.status),1)):m("",!0)]),t("td",vt,[v(n,{href:`/admin/posts/${e.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:b(()=>[gt]),_:2},1032,["href"]),t("button",{onClick:k=>d.handleApprove(e.id),title:"setuju untuk publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},yt,8,pt),e.member_id===1?(s(),g(n,{key:0,href:`/admin/posts/${e.id}/edit`,title:"edit",class:"btn btn-sm btn-warning border-0 shadow me-2"},{default:b(()=>[Ct]),_:2},1032,["href"])):m("",!0),e.member_id!==1?(s(),g(n,{key:1,onClick:k=>d.handleReturn(e.id),title:"kembalikan",class:"btn btn-sm btn-warning border-0 shadow me-2"},{default:b(()=>[At]),_:2},1032,["onClick"])):m("",!0),t("button",{onClick:k=>d.handleLimited(e.id),title:"setuju untuk limited publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},Tt,8,xt),t("button",{onClick:k=>d.handleReject(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},Lt,8,St)])]))),128))])])],512),[[x,c.activeTab==="sub"]]),w(t("div",Rt,[t("table",Pt,[It,Nt,t("tbody",null,[(s(!0),i(y,null,B(o.publishs.data,(e,h)=>(s(),i("tr",{key:h},[t("td",Vt,a(++h+(o.publishs.current_page-1)*o.publishs.per_page),1),t("td",null,a(e.post.title),1),t("td",null,a(e.post.category.title),1),t("td",null,a(e.post.member.name!==1?e.post.member.name:"Administrator"),1),t("td",Yt,[v(n,{href:`/admin/posts/${e.post.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:b(()=>[Ht]),_:2},1032,["href"]),t("button",{onClick:k=>d.handleCancel(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},Kt,8,Ot)])]))),128))])])],512),[[x,c.activeTab==="approved"]]),w(t("div",qt,[t("table",Ft,[Mt,Ut,t("tbody",null,[(s(!0),i(y,null,B(o.categories.data,(e,h)=>(s(),i("tr",{key:h},[t("td",zt,a(++h+(o.categories.current_page-1)*o.categories.per_page),1),t("td",null,a(e.title),1),t("td",Et,[t("button",{onClick:S(k=>_.destroy(e.id),["prevent"]),class:"btn btn-sm btn-danger border-0 me-2"},Qt,8,Gt)])]))),128))])])],512),[[x,c.activeTab==="category"]]),c.activeTab==="sub"?(s(),g(l,{key:0,links:o.posts.links,align:"end"},null,8,["links"])):m("",!0),c.activeTab==="approved"?(s(),g(l,{key:1,links:o.publishs.links,align:"end"},null,8,["links"])):m("",!0),c.activeTab==="category"?(s(),g(l,{key:2,links:o.categories.links,align:"end"},null,8,["links"])):m("",!0)])])])])])],64)}const se=Y(H,[["render",Wt]]);export{se as default};
