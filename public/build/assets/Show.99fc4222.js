import{L as j}from"./Admin.9e911934.js";import{H as p,L as E,q as U,r as B,a as _,o as i,c as l,b as S,w,d as e,l as V,g as d,i as g,t as b,f,v as c,e as C,n as I,F as M,k as v}from"./app.54841f97.js";import{S as m}from"./sweetalert2.all.a4722dba.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";const P={layout:j,components:{Head:p,Link:E},props:{errors:Object,register:Object},setup(a){const t=U({nip:a.register.nip,name:a.register.name,email:a.register.email,contact:a.register.contact,agency:a.register.agency,position:a.register.position,level:a.register.level,status:a.register.status,paid:a.register.paid,document_jab:a.register.document_jab,info:a.register.info,sendemail:a.register.email}),s=r=>{m.fire({title:"Apakah Anda yakin?",text:"Anda akan menyetujui usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(u=>{u.isConfirmed&&(v.Inertia.get(`/admin/registration/${r}/approve`,{info:t.info}),m.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},n=r=>{m.fire({title:"Apakah Anda yakin?",text:"Anda akan mengkonfirmasi ulang usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Confirm it!"}).then(u=>{u.isConfirmed&&(v.Inertia.get(`/admin/registration/${r}/confirm`,{info:t.info,email:t.sendemail}),m.fire({title:"Success!",text:"Status Conirmed!.",icon:"success",timer:2e3,showConfirmButton:!1}))}),B.showModalEmail=!1},h=r=>{m.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(u=>{u.isConfirmed&&(v.Inertia.get(`/admin/registration/${r}/reject`),m.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},x=r=>{m.fire({title:"Pastikan data sudah sesuai.!",text:"Anda akan mengirim email konfirmasi?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Send it!"}).then(u=>{u.isConfirmed&&(v.Inertia.get(`/admin/registration/${r}/email`),m.fire({title:"Success!",text:"Email Sent!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},y=r=>{m.fire({title:"Apakah Anda yakin?",text:"Anda akan kirim ulang email!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Send it!"}).then(u=>{u.isConfirmed&&(v.Inertia.get(`/admin/registration/${r}/email-approve`),m.fire({title:"Success!",text:"Status Sent!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},k=r=>`/storage/${r}`,o=r=>`/storage/${r}`,A=B(!1);return{form:t,getDocumentUrl:k,handleApprove:s,handleReject:h,handleConfirm:n,getImageUrl:o,sendEmail:x,handleemailApprove:y,showModalEmail:A}}},L={class:"container-fluid padding px-5"},N={class:"row"},K={class:"col-md-12"},D={class:"card border-0 shadow"},Y={class:"card-body"},H={key:0,class:"alert alert-danger mt-2"},R={class:"row"},J={class:"col-md-6 col-sm-6"},O={class:"form-group bottom35 mt-1"},q={class:"col-md-6 col-sm-6"},F={class:"form-group bottom35 mt-1"},z={class:"col-md-6 col-sm-6"},G={class:"form-group bottom35 mt-1"},Q={class:"col-md-6 col-sm-6"},W={class:"form-group bottom35 mt-1"},X={class:"col-md-6 col-sm-6"},Z={class:"form-group bottom35 mt-1"},$={class:"col-md-6 col-sm-6"},tt={class:"form-group bottom35 mt-1"},et=["disabled"],st={class:"col-md-3 col-sm-3"},nt={class:"form-group bottom35 mt-1"},ot={class:"col-md-3 col-sm-3"},it={class:"form-group bottom35"},at={class:"form-group bottom35 mt-1"},rt={class:"col-md-6 col-sm-6 mt-4"},lt=["href"],dt={key:0,class:"badge bg-success fs-5"},mt={key:1,class:"badge bg-warning fs-5"},ut={key:2,class:"badge bg-danger fs-5"},ft={key:3,class:"badge bg-secondary fs-5"},ct=["href"],gt={class:"badge bg-warning fs-5 ms-4"},bt={class:"text-center"},vt={class:"modal-dialog modal-dialog-centered"},kt={class:"modal-content"},yt={class:"modal-body"},wt={class:"modal-footer"};function Ct(a,t,s,n,h,x){const y=_("Head"),k=_("Link");return i(),l(M,null,[S(y,null,{default:w(()=>[...t[16]||(t[16]=[e("title",null,"Administrator",-1)])]),_:1}),e("div",L,[e("div",N,[e("div",K,[S(k,{href:"/admin/registration",class:"btn btn-md btn-primary border-0 shadow mb-3",type:"button"},{default:w(()=>[...t[17]||(t[17]=[e("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1),g(" Kembali",-1)])]),_:1}),s.register.status!=="approved"&&s.register.status!=="rejected"?(i(),V(k,{key:0,href:`/registration/confirm/${s.register.id}/edit`,class:"btn btn-md btn-warning border-0 shadow mb-3 ms-3",type:"button"},{default:w(()=>[...t[18]||(t[18]=[e("i",{class:"fa fa-pencil","aria-hidden":"true"},null,-1),g(" Edit",-1)])]),_:1},8,["href"])):d("",!0),e("div",D,[e("div",Y,[t[32]||(t[32]=e("h5",null,[e("i",{class:"fa fa-bookmark"}),g(" Data Pengusul")],-1)),s.errors&&Object.keys(s.errors).length>0?(i(),l("div",H,b(s.errors),1)):d("",!0),t[33]||(t[33]=e("hr",null,null,-1)),e("div",R,[e("div",J,[t[19]||(t[19]=e("span",null," NIP ",-1)),e("div",O,[f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=o=>n.form.nip=o),disabled:""},null,512),[[c,n.form.nip]])])]),e("div",q,[t[20]||(t[20]=e("span",null," Nama ",-1)),e("div",F,[f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=o=>n.form.name=o),disabled:""},null,512),[[c,n.form.name]])])]),e("div",z,[t[21]||(t[21]=e("span",null," Email ",-1)),e("div",G,[f(e("input",{type:"email",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=o=>n.form.email=o),disabled:""},null,512),[[c,n.form.email]])])]),e("div",Q,[t[22]||(t[22]=e("span",null," Nomor Kontak ",-1)),e("div",W,[f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=o=>n.form.contact=o),disabled:""},null,512),[[c,n.form.contact]])])]),e("div",X,[t[23]||(t[23]=e("span",null," Instansi ",-1)),e("div",Z,[f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=o=>n.form.agency=o),disabled:""},null,512),[[c,n.form.agency]])])]),e("div",$,[t[24]||(t[24]=e("span",null," Info ",-1)),e("div",tt,[f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=o=>n.form.info=o),disabled:s.register.status==="approved"||s.register.status==="rejected"},null,8,et),[[c,n.form.info]])])]),e("div",st,[t[25]||(t[25]=e("span",null," Jabatan ",-1)),e("div",nt,[f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=o=>n.form.position=o),disabled:""},null,512),[[c,n.form.position]])])]),e("div",ot,[t[26]||(t[26]=e("span",null," Jenjang ",-1)),e("div",it,[e("div",at,[f(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=o=>n.form.level=o),disabled:""},null,512),[[c,n.form.level]])])])]),e("div",rt,[e("a",{href:n.getDocumentUrl(n.form.document_jab),target:"_blank",class:"badge bg-primary fs-5 border-0 shadow me-4 fs-5",type:"button"}," View SK Jabatan ",8,lt),s.register.status==="approved"?(i(),l("span",dt,"Status "+b(s.register.status),1)):s.register.status==="confirm"?(i(),l("span",mt,"Status "+b(s.register.status),1)):s.register.status==="rejected"?(i(),l("span",ut,"Status "+b(s.register.status),1)):s.register.status==="submission"?(i(),l("span",ft,"Status "+b(s.register.status),1)):d("",!0),s.register.paid?(i(),l("a",{key:4,href:n.getImageUrl(s.register.paid),target:"_blank",class:"badge bg-primary fs-5 ms-4"},"Paid",8,ct)):d("",!0),e("span",gt,b(s.register.from),1)])]),e("div",bt,[s.register.status!=="rejected"&&s.register.status!=="approved"?(i(),l("button",{key:0,onClick:t[8]||(t[8]=o=>n.handleApprove(s.register.id)),class:"btn btn-sm btn-success border-0 shadow me-2"},[...t[27]||(t[27]=[e("i",{class:"fa fa-check-circle fa-lg me-1","aria-hidden":"true"},null,-1),g("Selesai",-1)])])):d("",!0),s.register.status!=="approved"?(i(),l("button",{key:1,onClick:t[9]||(t[9]=C(o=>n.showModalEmail=!0,["prevent"])),class:"btn btn-sm btn-warning border-0 shadow me-2"},[...t[28]||(t[28]=[e("i",{class:"fa fa-question-circle fa-lg me-1","aria-hidden":"true"},null,-1),g("Perbaikan",-1)])])):d("",!0),s.register.status!=="approved"&&s.register.status!=="rejected"?(i(),l("button",{key:2,onClick:t[10]||(t[10]=o=>n.handleReject(s.register.id)),class:"btn btn-sm btn-danger border-0 shadow me-2"},[...t[29]||(t[29]=[e("i",{class:"fa fa-times-circle fa-lg me-1","aria-hidden":"true"},null,-1),g("Tolak",-1)])])):d("",!0),s.register.status!=="approved"&&s.register.status!=="rejected"?(i(),l("button",{key:3,onClick:t[11]||(t[11]=o=>n.sendEmail(s.register.id)),class:"btn btn-sm btn-primary border-0 shadow me-2"},[...t[30]||(t[30]=[e("i",{class:"fa fa-envelope fa-lg me-1","aria-hidden":"true"},null,-1),g("Permintaan Pembayaran",-1)])])):d("",!0),s.register.status==="approved"?(i(),l("button",{key:4,onClick:t[12]||(t[12]=o=>n.handleemailApprove(s.register.id)),class:"btn btn-sm btn-success border-0 shadow me-2"},[...t[31]||(t[31]=[e("i",{class:"fa fa-check-circle fa-lg me-1","aria-hidden":"true"},null,-1),g("Kirim Ulang Email Selesai",-1)])])):d("",!0)])])])])])]),n.showModalEmail?(i(),l("div",{key:0,class:I(["modal fade",{show:n.showModalEmail}]),tabindex:"-1","aria-hidden":"true",style:{display:"block"},role:"dialog"},[e("div",vt,[e("div",kt,[t[34]||(t[34]=e("div",{class:"modal-body"},[e("h5",{class:"modal-title"},"Mengirim Link Perbaikan Ke Email:")],-1)),e("div",yt,[f(e("input",{type:"email",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=o=>n.form.sendemail=o)},null,512),[[c,n.form.sendemail]])]),e("div",wt,[e("button",{onClick:t[14]||(t[14]=C(o=>n.handleConfirm(s.register.id),["prevent"])),type:"button",class:"btn btn-primary"},"Kirim"),e("button",{onClick:t[15]||(t[15]=C(o=>n.showModalEmail=!1,["prevent"])),type:"button",class:"btn btn-secondary"},"Tutup")])])])],2)):d("",!0)],64)}const St=T(P,[["render",Ct]]);export{St as default};
