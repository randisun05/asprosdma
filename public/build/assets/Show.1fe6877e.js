import{L as x}from"./Admin.294297f9.js";import{P}from"./Pagination.9a86ab87.js";import{H as S,L as R,k as _,r as M,a as m,o as d,c as r,b as v,w as p,d as t,t as n,e as T,f as h,v as C,n as L,M as A,F as k,j as I,m as N,g as f,h as B,i as D}from"./app.0fb34858.js";import{E as j}from"./Editor.dde30e3a.js";import{S as u}from"./sweetalert2.all.d85ca964.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";const V={layout:x,components:{Head:S,Link:R,Editor:j,Pagination:P},props:{errors:Object,event:Object,details:Object},data(){return{activeTab:"participant",showRoleModal:!1,selectedRole:"",selectedParticipantId:null}},methods:{setActiveTab(o){this.activeTab=o},openRoleModal(o){this.selectedRole=o.title,this.selectedParticipantId=o.id,this.showRoleModal=!0},closeRoleModal(){this.showRoleModal=!1,this.selectedRole="",this.selectedParticipantId=null},updateRole(o,e){_.Inertia.post(`/admin/events/${o}/updaterole`,{title:e},{onSuccess:()=>{this.closeRoleModal(),u.fire("Sukses","Peran peserta diperbarui!","success")}})},absenAll(){u.fire({title:"Yakin ingin absen semua peserta?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, absen semua"}).then(o=>{o.isConfirmed&&_.Inertia.get(`/admin/events/${this.event.id}/absenall`,{},{onSuccess:()=>{u.fire("Sukses","Semua peserta telah diabsen!","success")}})})}},setup(o){const e=M(new URL(document.location).searchParams.get("q"));return{getDocumentUrl:l=>`/storage/${l}`,search:e,handleSearch:()=>{_.Inertia.get(`/admin/events/${o.event.id}`,{q:e.value})}}}},E=t("title",null,"Administrator",-1),U={class:"container padding px-5"},q={class:"row mt-1"},K={class:"col-md-12"},O={class:"card border-0 shadow"},F={class:"card-body"},Y={class:"row"},z={class:"col-md-12"},J={class:"row py-4"},G={class:"col-md-2 col-12 mb-2"},Q=t("i",{class:"fa fa-arrow-left"},null,-1),W=D(" Kembali"),X=t("h3",{class:"text-center"},"Detail Event",-1),Z={class:"row py-4 ms-5"},$=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Judul ")],-1),tt={class:"col-md-9 mb-2"},et=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Deskripsi ")],-1),st=["innerHTML"],at=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Tanggal Pelaksanaan ")],-1),ot={class:"col-md-9 mb-2"},nt=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Tutup Pendaftaran ")],-1),lt={class:"col-md-9 mb-2"},ct=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Kapasitas Peserta ")],-1),it={class:"col-md-9 mb-2"},dt=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Tempat Pelaksanaan ")],-1),rt={class:"col-md-9 mb-2"},_t=t("div",{class:"col-md-2"},[t("span",{class:"text-black"}," Link ")],-1),mt={class:"col-md-9 mb-2"},ht={class:"row mt-4"},ut={class:"col-md-12"},bt={class:"card border-0 shadow"},vt={class:"card-body"},pt=t("h3",{class:"text-center"},"Detail Peserta",-1),kt={class:"col-md-6 col-12 mb-2 mt-4"},ft={class:"input-group"},wt=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1),gt={class:"nav nav-tabs"},yt={class:"nav-item"},xt={class:"nav-item ms-4"},Pt={class:"table-responsive",id:"sub"},St={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Rt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Nama"),t("th",{class:"border-0"},"Instansi"),t("th",{class:"border-0"},"Sebagai"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Status ")])],-1),Mt=t("div",{class:"mt-2"},null,-1),Tt={class:"fw-bold text-center"},Ct=["onClick"],Lt={class:"text-center"},At={key:0,class:"modal-backdrop"},It={class:"modal-content-custom"},Nt=t("h5",null,"Edit Peran Peserta",-1),Bt=t("option",{value:"Peserta"},"Peserta",-1),Dt=t("option",{value:"Moderator"},"Moderator",-1),jt=t("option",{value:"Panitia"},"Panitia",-1),Ht=t("option",{value:"Narasumber"},"Narasumber",-1),Vt=[Bt,Dt,jt,Ht];function Et(o,e,a,i,l,c){const w=m("Head"),g=m("Link"),y=m("Pagination");return d(),r(k,null,[v(w,null,{default:p(()=>[E]),_:1}),t("div",U,[t("div",q,[t("div",K,[t("div",O,[t("div",F,[t("div",Y,[t("div",z,[t("div",J,[t("div",G,[v(g,{href:"/admin/events",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:p(()=>[Q,W]),_:1})])])])]),X,t("div",Z,[$,t("div",tt,[t("span",null," : "+n(a.event.title),1)]),et,t("div",{innerHTML:a.event.body,style:{"text-align":"justify","text-justify":""},class:"col-md-9 mb-2"},null,8,st),at,t("div",ot,[t("span",null," : "+n(a.event.date),1)]),nt,t("div",lt,[t("span",null," : "+n(a.event.enddate),1)]),ct,t("div",it,[t("span",null," : "+n(a.event.participant),1)]),dt,t("div",rt,[t("span",null," : "+n(a.event.place),1)]),_t,t("div",mt,[t("span",null," : "+n(a.event.link),1)])])])])])]),t("div",ht,[t("div",ut,[t("div",bt,[t("div",vt,[pt,t("div",kt,[t("form",{onSubmit:e[1]||(e[1]=T((...s)=>i.handleSearch&&i.handleSearch(...s),["prevent"]))},[t("div",ft,[h(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":e[0]||(e[0]=s=>i.search=s),placeholder:"masukkan kata kunci dan enter..."},null,512),[[C,i.search]]),wt])],32)]),t("ul",gt,[t("li",yt,[t("a",{class:L(["nav-link",{active:l.activeTab==="participant"}]),onClick:e[2]||(e[2]=s=>c.setActiveTab("participant"))},"Participant",2)]),t("li",xt,[t("button",{class:"btn btn-success w-100",onClick:e[3]||(e[3]=(...s)=>c.absenAll&&c.absenAll(...s))},"Absen All")])]),h(t("div",Pt,[t("table",St,[Rt,Mt,t("tbody",null,[(d(!0),r(k,null,I(a.details.data,(s,b)=>(d(),r("tr",{key:b},[t("td",Tt,n(++b+(a.details.current_page-1)*a.details.per_page),1),t("td",null,n(s.member.name),1),t("td",null,n(s.member.agency),1),t("td",{onClick:Ut=>c.openRoleModal(s),style:{cursor:"pointer"},title:"Klik untuk ubah peran"},n(s.title),9,Ct),t("td",Lt,n(s.status),1)]))),128))])])],512),[[A,l.activeTab==="participant"]]),l.activeTab==="participant"?(d(),N(y,{key:0,links:a.details.links,align:"end"},null,8,["links"])):f("",!0)])])])])]),l.showRoleModal?(d(),r("div",At,[t("div",It,[Nt,h(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.selectedRole=s),class:"form-control mb-3"},Vt,512),[[B,l.selectedRole]]),t("button",{class:"btn btn-sm btn-success",onClick:e[5]||(e[5]=s=>c.updateRole(l.selectedParticipantId,l.selectedRole))},"Simpan"),t("button",{class:"btn btn-sm btn-secondary ms-2",onClick:e[6]||(e[6]=(...s)=>c.closeRoleModal&&c.closeRoleModal(...s))},"Batal")])])):f("",!0)],64)}const Jt=H(V,[["render",Et]]);export{Jt as default};
