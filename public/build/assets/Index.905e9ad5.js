import{L as x}from"./User.b0406cfe.js";import{P as y}from"./Pagination.8e82a224.js";import{H as C,L as P,q as B,r as u,o as r,c as i,d as m,w as S,a as t,h as p,i as j,v as I,F as g,C as L,k as b,t as s,j as f}from"./app.dfac0122.js";import{S as v}from"./sweetalert2.all.03747b96.js";import{_ as U}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Footer.38cb802a.js";const A={layout:x,components:{Head:C,Link:P,Pagination:y},props:{events:Object},setup(){let d="";const n=l=>{d=l.target.value},o=B(new URL(document.location).searchParams.get("q"));return{search:o,handleSearch:()=>{b.Inertia.get("/user/events",{q:o.value})},join:l=>{v.fire({title:"Apakah Anda yakin?",text:"Anda akan mendaftar pada event ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Daftarkan!"}).then(c=>{c.isConfirmed&&(b.Inertia.put(`/user/events/${l}/join`,{role:d}),v.fire({title:"Berhasil!",text:"Anda berhasil bergabung sebagai peserta",icon:"success",timer:2e3,showConfirmButton:!1}))})},getImageUrl:l=>`/storage/${l}`,handleRoleChange:n,role:d}}},D=t("title",null,"Berbagi Cerita",-1),H={class:"container-fluid mb-5 mt-5"},N={class:"row"},R={class:"col-md-12"},T={class:"row"},V=t("div",{class:"col-md-1 col-12 mb-2"},null,-1),q={class:"col-md-6 col-12 mb-2"},F={class:"input-group"},K=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1),M={class:"row mt-1"},E={class:"col-md-12"},G={class:"card border-0 shadow"},O={class:"card-body"},Y={class:"table-responsive"},z={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},J=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"}),t("th",{class:"border-0"},"Kegiatan"),t("th",{class:"border-0"},"Tanggal"),t("th",{class:"border-0"},"Tempat"),t("th",{class:"border-0"},"Kebutuhan Panitia/Participant"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),Q=t("div",{class:"mt-2"},null,-1),W={class:"fw-bold text-center"},X={style:{width:"380px"}},Z=["src"],$={class:"text-center"},tt=["onClick"],et=t("i",{class:"fa fa-sign-in",title:"join"},null,-1),at=[et],st=t("option",{value:"Peserta"},"Peserta",-1),nt=t("option",{value:"Panitia"},"Panitia",-1),ot=[st,nt],lt={key:0,class:"badge bg-success"};function rt(d,n,o,a,k,w){const l=u("Head"),c=u("Pagination");return r(),i(g,null,[m(l,null,{default:S(()=>[D]),_:1}),t("div",H,[t("div",N,[t("div",R,[t("div",T,[V,t("div",q,[t("form",{onSubmit:n[1]||(n[1]=p((...e)=>a.handleSearch&&a.handleSearch(...e),["prevent"]))},[t("div",F,[j(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":n[0]||(n[0]=e=>a.search=e),placeholder:"masukkan kata kunci dan enter..."},null,512),[[I,a.search]]),K])],32)])])])]),t("div",M,[t("div",E,[t("div",G,[t("div",O,[t("div",Y,[t("table",z,[J,Q,t("tbody",null,[(r(!0),i(g,null,L(o.events.data,(e,_)=>(r(),i("tr",{key:_},[t("td",W,s(++_+(o.events.current_page-1)*o.events.per_page),1),t("td",X,[e.image?(r(),i("img",{key:0,class:"image",src:a.getImageUrl(e.image),alt:"Gambar"},null,8,Z)):f("",!0)]),t("td",null,[t("p",null,s(e.title),1),t("p",null,s(e.body),1)]),t("td",null,[t("p",null,"Diselenggarakan pada : "+s(e.date),1),t("p",null,"Pendaftaran ditutup pada : "+s(e.enddate),1)]),t("td",null,[t("p",null,s(e.place),1),t("p",null,s(e.link),1)]),t("td",null,[t("p",null,"Panitia "+s(e.team)+" orang",1),t("p",null,"Peserta"+s(e.participant)+" orang",1)]),t("td",$,[t("button",{onClick:p(h=>a.join(e.id),["prevent"]),class:"btn btn-sm btn-success border-0 me-2"},at,8,tt),t("select",{class:"form-select mt-4",name:"role",id:"role",onChange:n[2]||(n[2]=(...h)=>a.handleRoleChange&&a.handleRoleChange(...h))},ot,32),e.status!=="approved"?(r(),i("span",lt,"sudah daftar")):f("",!0)])]))),128))])])]),m(c,{links:o.events.links,align:"end"},null,8,["links"])])])])])])],64)}const mt=U(A,[["render",rt]]);export{mt as default};
