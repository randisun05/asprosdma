import{L as y}from"./Website.0a4c9b43.js";import{H as k,L as p,J as x,A as w,a as A,o as r,c as l,b as N,w as B,d as e,t as o,s as C,g as c,i as f,e as I,f as b,v as _,n as g,F as S}from"./app.56f58a85.js";import{S as v}from"./sweetalert2.all.15407acb.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Footer.4a36b5e6.js";const j={layout:y,components:{Head:k,Link:p},props:{title:String,errors:Object,event:{type:Object,required:!0},auth:Object},setup(d){var u,m,n;const t=x({nip:((u=d.auth.user)==null?void 0:u.nip)||"",name:((m=d.auth.user)==null?void 0:m.name)||"",agency:((n=d.auth.user)==null?void 0:n.agency)||""}),s=i=>`/storage/${i}`,a=i=>{t.nip=i.target.value.replace(/[^0-9]/g,"")};return w(()=>d.errors.message,i=>{i&&v.fire({title:"Peringatan!",text:i,icon:"warning",confirmButtonColor:"#ffc107"})}),{getImageUrl:s,form:t,submitAbsen:()=>{v.fire({title:"Konfirmasi Absensi",text:"Pastikan Nama dan NIP sudah benar.",icon:"question",showCancelButton:!0,confirmButtonColor:"#007bff",cancelButtonColor:"#6c757d",confirmButtonText:"Ya, Kirim!",cancelButtonText:"Batal"}).then(i=>{i.isConfirmed&&t.post(`/events/${d.event.id}/absen`,{onSuccess:()=>{v.fire({title:"Berhasil!",text:"Absensi Anda telah tercatat.",icon:"success",confirmButtonText:"OK"})}})})},handleNipInput:a}}},P={class:"page-header parallaxie padding_top center-block"},T={class:"container"},U={class:"row"},K={class:"col-sm-12"},L={class:"page-titles text-center"},M={class:"whitecolor font-light bottom30"},F={id:"our-blog"},H={class:"container padding"},O={class:"card shadow mb-4"},z={class:"row"},D={class:"col-md-5"},E={class:"news_item text-center mt-5 px-3"},q={class:"cbp-item web print graphic"},G=["src"],J={class:"news_desc text-left top20"},W={class:"text-capitalize font-light darkcolor"},Y={class:"top10"},Q={class:"col-md-7"},R={class:"news_item padding_left padding_right"},X={class:"news_desc mt-5 px-2"},Z={key:0,class:"alert alert-warning border-0"},$={class:"form-group mb-3"},ee={key:0,class:"alert alert-danger mt-2"},te={class:"form-group mb-3"},se={key:0,class:"alert alert-danger mt-2"},ae={class:"form-group mb-4"},ne={key:0,class:"alert alert-danger mt-2"},oe={key:0,class:"alert alert-danger border-0 small"},ie={class:"text-center top30"},re=["disabled"];function le(d,t,s,a,h,u){const m=A("Head");return r(),l(S,null,[N(m,null,{default:B(()=>[e("title",null,o(s.title),1)]),_:1}),e("section",P,[e("div",T,[e("div",U,[e("div",K,[e("div",L,[e("h2",M,o(s.title),1),t[4]||(t[4]=C('<ul class="breadcrumb justify-content-center" data-v-5c04fbf5><li class="breadcrumb-item" data-v-5c04fbf5><a href="/" data-v-5c04fbf5>Beranda</a></li><li class="breadcrumb-item" data-v-5c04fbf5><a href="/events" data-v-5c04fbf5>Events</a></li><li class="breadcrumb-item active" aria-current="page" data-v-5c04fbf5>Absensi</li></ul>',1))])])])])]),e("section",F,[e("div",H,[e("div",O,[e("div",z,[e("div",D,[e("div",E,[e("div",q,[s.event.image?(r(),l("img",{key:0,class:"image shadow rounded",style:{width:"100%"},src:a.getImageUrl(s.event.image),alt:"Gambar Event"},null,8,G)):c("",!0)]),e("div",J,[e("h4",W,o(s.event.title),1),e("p",Y,[t[5]||(t[5]=e("i",{class:"fa fa-calendar text-primary"},null,-1)),f(" "+o(s.event.date),1)])])])]),e("div",Q,[e("div",R,[e("div",X,[t[11]||(t[11]=e("h3",{class:"text-capitalize font-light darkcolor bottom20"},"Form Absensi",-1)),s.event.absen==="N"?(r(),l("div",Z,[...t[6]||(t[6]=[e("i",{class:"fa fa-exclamation-triangle"},null,-1),f(" Absensi untuk event ini ditutup atau belum dibuka. ",-1)])])):(r(),l("form",{key:1,onSubmit:t[3]||(t[3]=I((...n)=>a.submitAbsen&&a.submitAbsen(...n),["prevent"]))},[e("div",$,[t[7]||(t[7]=e("label",{class:"darkcolor"},"NIP / Nomor Identitas (Angka Saja)",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>a.form.nip=n),class:"form-control",placeholder:"Masukkan NIP Anda",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[_,a.form.nip]]),s.errors.nip?(r(),l("div",ee,o(s.errors.nip),1)):c("",!0)]),e("div",te,[t[8]||(t[8]=e("label",{class:"darkcolor"},"Nama Lengkap (Sesuai Sertifikat)",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=n=>a.form.name=n),class:g(["form-control",{"is-invalid":s.errors.name}]),placeholder:"Masukkan Nama Tanpa Gelar"},null,2),[[_,a.form.name]]),s.errors.name?(r(),l("div",se,o(s.errors.name),1)):c("",!0)]),e("div",ae,[t[9]||(t[9]=e("label",{class:"darkcolor"},"Instansi / Unit Kerja",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=n=>a.form.agency=n),class:g(["form-control",{"is-invalid":s.errors.agency}]),placeholder:"Contoh: Instansi Pusat / Daerah"},null,2),[[_,a.form.agency]]),s.errors.agency?(r(),l("div",ne,o(s.errors.agency),1)):c("",!0)]),s.errors.message?(r(),l("div",oe,o(s.errors.message),1)):c("",!0),e("div",ie,[e("button",{type:"submit",class:"button btnprimary shadow w-100",disabled:a.form.processing},[t[10]||(t[10]=e("i",{class:"fa fa-check-circle"},null,-1)),f(" "+o(a.form.processing?"Memproses...":"Kirim Absensi"),1)],8,re)])],32))])])])])])])])],64)}const be=V(j,[["render",le],["__scopeId","data-v-5c04fbf5"]]);export{be as default};
