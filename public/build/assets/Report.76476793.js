import{L as w}from"./Admin.cd2f1065.js";import{H as P,L as j,r as k,q as c,a as b,o as L,c as x,b as r,w as C,d as a,i as p,F}from"./app.0f2c29db.js";import"./sweetalert2.all.8c8d2521.js";import{B as H}from"./BarChart.8f351334.js";import{h as A,E as M}from"./jspdf.es.min.981323c0.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";const N={layout:w,components:{Head:P,Link:j,BarChart:H},props:{errors:Object,countsPerMonth:{type:Object,required:!0,default:()=>({})},errors:Object,dataCountsByPosition:{type:Object,required:!0,default:()=>({})},dataCountsByLevel:{type:Object,required:!0,default:()=>({})},accumulatedCounts:{type:Object,required:!0,default:()=>({})}},setup(n){const e=k(null),f=c({responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{color:"#000",anchor:"end",align:"end",font:{weight:"bold",size:12},formatter(t){return t}}}}),o=c({labels:Object.keys(n.countsPerMonth).map(t=>`${t}`),datasets:[{label:"Counts By Month",backgroundColor:"#FFA500",data:Object.values(n.countsPerMonth)}]}),g=c({labels:Object.keys(n.dataCountsByPosition).map(t=>`${t}`),datasets:[{label:"Counts By Jabatan",backgroundColor:"#f87979",data:Object.values(n.dataCountsByPosition)}]}),y=c({labels:Object.keys(n.dataCountsByLevel).map(t=>`${t}`),datasets:[{label:"Counts By Jenjang",backgroundColor:"#7acbf9",data:Object.values(n.dataCountsByLevel)}]}),l=c({labels:Object.keys(n.accumulatedCounts).map(t=>`${t}`),datasets:[{label:"Accumulation by Month",backgroundColor:"#79f879",data:Object.values(n.accumulatedCounts)}]});return{reportContent:e,chartDataByPosition:g,chartDataByLevel:y,chartDataAccumulated:l,chartOptions:f,chartDataByMonth:o,exportToPDF:()=>{e.value?A(e.value,{scale:2}).then(t=>{const i=t.toDataURL("image/png"),s=new M("p","mm","a4"),u=s.internal.pageSize.getWidth(),h=s.internal.pageSize.getHeight(),v=t.width,D=t.height,B=v/D,d=u/B;let _=0,m=d;if(d>h)for(;m>0;)s.addImage(i,"PNG",0,_,u,d),m-=h,_-=h,m>0&&s.addPage();else s.addImage(i,"PNG",0,0,u,d);s.save("report.pdf")}):console.error("reportContent is not available")}}}},T={class:"container-fluid padding px-5"},z={class:"row"},E={class:"col-md-12"},I={class:"row"},R={class:"col-md-6 col-12 mb-2"},V={class:"row mt-1"},W={class:"col-md-12"},G={class:"card border-0 shadow"},J={class:"card-body",ref:"reportContent"};function S(n,e,f,o,g,y){const l=b("Head"),O=b("Link"),t=b("BarChart");return L(),x(F,null,[r(l,null,{default:C(()=>[...e[1]||(e[1]=[a("title",null,"Administrator",-1)])]),_:1}),a("div",T,[a("div",z,[a("div",E,[a("div",I,[a("div",R,[r(O,{href:"/admin/members",class:"btn btn-md btn-primary border-0 shadow mb-3 me-2",type:"button"},{default:C(()=>[...e[2]||(e[2]=[a("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1),p(" Kembali",-1)])]),_:1}),e[4]||(e[4]=a("a",{href:"/admin/members/report/export",target:"_blank",class:"btn btn-md btn-success border-0 shadow mb-3 me-2",type:"button"},[a("i",{class:"fa fa-download","aria-hidden":"true"}),p(" Download Laporan")],-1)),a("button",{onClick:e[0]||(e[0]=(...i)=>o.exportToPDF&&o.exportToPDF(...i)),class:"btn btn-md btn-danger border-0 shadow mb-3",type:"button"},[...e[3]||(e[3]=[a("i",{class:"fa fa-file-pdf","aria-hidden":"true"},null,-1),p(" Export to PDF ",-1)])])])])])]),a("div",V,[a("div",W,[a("div",G,[a("div",J,[r(t,{chartData:o.chartDataByMonth,chartOptions:o.chartOptions},null,8,["chartData","chartOptions"]),r(t,{chartData:o.chartDataByPosition,chartOptions:o.chartOptions},null,8,["chartData","chartOptions"]),r(t,{chartData:o.chartDataByLevel,chartOptions:o.chartOptions},null,8,["chartData","chartOptions"]),r(t,{chartData:o.chartDataAccumulated,chartOptions:o.chartOptions},null,8,["chartData","chartOptions"])],512)])])])])],64)}const $=q(N,[["render",S]]);export{$ as default};
