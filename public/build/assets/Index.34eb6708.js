import{L as N}from"./Admin.eeaa94b9.js";import{P as V}from"./Pagination.00758c06.js";import{H as Y,L as O,r as H,C as K,a as S,o as i,c as l,b as h,w as m,d as t,e as j,f as p,v as M,n as C,M as A,F as w,i as x,m as B,g as y,j as _,t as n,k as L}from"./app.d85f0d42.js";import{S as c}from"./sweetalert2.all.4cde56a7.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";const D={layout:N,components:{Head:Y,Link:O,Pagination:V},props:{errors:Object,posts:Object,publishs:Object,categories:Object,limiteds:Object},data(){return{activeTab:"sub"}},methods:{setActiveTab(v){this.activeTab=v}},setup(v){const r=H(new URL(document.location).searchParams.get("q")),o=()=>{_.Inertia.get("/admin/posts",{q:r.value})},u=s=>{c.fire({title:"Apakah Anda yakin?",text:"Post akan dipublikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(a=>{a.isConfirmed&&(_.Inertia.get(`/admin/posts/${s}/approve`),c.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},d=s=>{c.fire({title:"Apakah Anda yakin?",text:"Post akan dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Return it!"}).then(a=>{a.isConfirmed&&(_.Inertia.get(`/admin/posts/${s}/return`),c.fire({title:"Success!",text:"Status Returned!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},f=s=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak pengajuan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(a=>{a.isConfirmed&&(_.Inertia.get(`/admin/posts/${s}/reject`),c.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},T=s=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan membatalkan publikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(a=>{a.isConfirmed&&(_.Inertia.get(`/admin/posts/${s}/cancel`),c.fire({title:"Success!",text:"Status Cancelled!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},b=s=>{c.fire({title:"Apakah Anda yakin?",text:"Publikasi akan bersifat terbatas!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Aprrove it!"}).then(a=>{a.isConfirmed&&(_.Inertia.get(`/admin/posts/${s}/limited`),c.fire({title:"Success!",text:"Status Limited!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},k=s=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan membatalkan publikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(a=>{a.isConfirmed&&(_.Inertia.get(`/admin/posts/${s}/cancelLimited`),c.fire({title:"Success!",text:"Status Cancelled!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},e=s=>{s.data.forEach(a=>{if(a.post&&Array.isArray(a.post.react)){const R=a.post.react.filter(g=>g.react_id==="1").length,P=a.post.react.filter(g=>g.react_id==="2").length,I=a.post.react.filter(g=>g.react_id==="3").length;a.post.react={love:R,like:P,view:I}}else a.post&&(a.post.react={love:0,like:0,view:0})})};return K(()=>v.publishs,s=>{e(s)},{immediate:!0}),{search:r,handleSearch:o,handleReject:f,handleApprove:u,handleReturn:d,handleCancel:T,handleLimited:b,countReactions:e,handleCancelLimited:k}}},E=t("title",null,"Administrator",-1),F={class:"container-fluid padding px-5"},U={class:"row"},z={class:"col-md-12"},G={class:"row"},J={class:"col-md-1 col-12 mb-2"},Q=t("i",{class:"fa fa-plus-circle"},null,-1),W=L(" Post "),X={class:"col-md-1 col-12 mb-2"},Z=t("i",{class:"fa fa-plus-circle"},null,-1),$=L(" Kategori "),tt={class:"col-md-6 col-12 mb-2"},et={class:"input-group"},st=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1),at={class:"row mt-1"},nt={class:"col-md-12"},it={class:"card border-0 shadow"},ot={class:"card-body"},lt={class:"nav nav-tabs"},rt={class:"nav-item"},dt={class:"nav-item"},ct={class:"nav-item"},ut={class:"nav-item"},bt={class:"table-responsive",id:"sub"},ht={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},mt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Status"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),_t=t("div",{class:"mt-2"},null,-1),ft={class:"fw-bold text-center"},kt={key:0,class:"badge bg-success",title:"disetujui untuk di publish"},vt={key:1,class:"badge bg-warning",title:"hanya untuk konsumsi pribadi"},gt={key:2,class:"badge bg-warning",title:"silakan dicek kembali"},pt={key:3,class:"badge bg-danger",title:"ditolak untuk publish"},wt={key:4,class:"badge bg-secondary"},yt={key:5,class:"badge bg-danger",title:"ditolak untuk publish"},Ct={key:6,class:"badge bg-secondary"},At={class:"text-center"},xt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),Bt=["onClick"],Tt=t("i",{class:"fa fa-check-circle fa-lg","aria-hidden":"true"},null,-1),St=[Tt],jt=t("i",{class:"fa fa-pencil fa-lg","aria-hidden":"true"},null,-1),Lt=["onClick"],Rt=t("i",{class:"fa fa-user-circle fa-lg","aria-hidden":"true"},null,-1),Pt=[Rt],It=["onClick"],Nt=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),Vt=[Nt],Yt={class:"table-responsive",id:"approved"},Ot={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Ht=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0"},"Views"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),Kt=t("div",{class:"mt-2"},null,-1),Mt={class:"fw-bold text-center"},qt={class:"text-center"},Dt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),Et=["onClick"],Ft=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),Ut=[Ft],zt={class:"table-responsive",id:"limited"},Gt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Jt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),Qt=t("div",{class:"mt-2"},null,-1),Wt={class:"fw-bold text-center"},Xt={class:"text-center"},Zt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1),$t=["onClick"],te=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1),ee=[te],se={class:"table-responsive",id:"category"},ae={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},ne=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),ie=t("div",{class:"mt-2"},null,-1),oe={class:"fw-bold text-center"},le={class:"text-center"},re=["onClick"],de=t("i",{class:"fa fa-trash",title:"hapus"},null,-1),ce=[de];function ue(v,r,o,u,d,f){const T=S("Head"),b=S("Link"),k=S("Pagination");return i(),l(w,null,[h(T,null,{default:m(()=>[E]),_:1}),t("div",F,[t("div",U,[t("div",z,[t("div",G,[t("div",J,[h(b,{href:"/admin/admin/posts",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:m(()=>[Q,W]),_:1})]),t("div",X,[h(b,{href:"/admin/category/create",class:"btn btn-md btn-warning border-0 shadow w-100",type:"button"},{default:m(()=>[Z,$]),_:1})]),t("div",tt,[t("form",{onSubmit:r[1]||(r[1]=j((...e)=>u.handleSearch&&u.handleSearch(...e),["prevent"]))},[t("div",et,[p(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":r[0]||(r[0]=e=>u.search=e),placeholder:"masukkan kata kunci dan enter..."},null,512),[[M,u.search]]),st])],32)])])])]),t("div",at,[t("div",nt,[t("div",it,[t("div",ot,[t("ul",lt,[t("li",rt,[t("a",{class:C(["nav-link",{active:d.activeTab==="sub"}]),onClick:r[2]||(r[2]=e=>f.setActiveTab("sub"))},"Submission",2)]),t("li",dt,[t("a",{class:C(["nav-link",{active:d.activeTab==="approved"}]),onClick:r[3]||(r[3]=e=>f.setActiveTab("approved"))},"Publish",2)]),t("li",ct,[t("a",{class:C(["nav-link",{active:d.activeTab==="limited"}]),onClick:r[4]||(r[4]=e=>f.setActiveTab("limited"))},"Limited",2)]),t("li",ut,[t("a",{class:C(["nav-link",{active:d.activeTab==="category"}]),onClick:r[5]||(r[5]=e=>f.setActiveTab("category"))},"Category",2)])]),p(t("div",bt,[t("table",ht,[mt,_t,t("tbody",null,[(i(!0),l(w,null,x(o.posts.data,(e,s)=>(i(),l("tr",{key:s},[t("td",ft,n(++s+(o.posts.current_page-1)*o.posts.per_page),1),t("td",null,n(e.title),1),t("td",null,n(e.member_id!==1?e.member.name:"Administrator"),1),t("td",null,n(e.category.title),1),t("td",null,[e.status==="approved"?(i(),l("span",kt,n(e.status),1)):e.status==="private"?(i(),l("span",vt,n(e.status),1)):e.status==="perlu ada perbaikan"?(i(),l("span",gt,n(e.status),1)):e.status==="rejected"?(i(),l("span",pt,n(e.status),1)):e.status==="submission"?(i(),l("span",wt,n(e.status),1)):e.status==="return"?(i(),l("span",yt,n(e.status),1)):e.status==="limited"?(i(),l("span",Ct,n(e.status),1)):y("",!0)]),t("td",At,[h(b,{href:`/admin/posts/${e.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:m(()=>[xt]),_:2},1032,["href"]),t("button",{onClick:a=>u.handleApprove(e.id),title:"setuju untuk publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},St,8,Bt),h(b,{href:`/admin/posts/${e.id}/edit`,title:"edit",class:"btn btn-sm btn-warning border-0 shadow me-2"},{default:m(()=>[jt]),_:2},1032,["href"]),t("button",{onClick:a=>u.handleLimited(e.id),title:"setuju untuk limited publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},Pt,8,Lt),t("button",{onClick:a=>u.handleReject(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},Vt,8,It)])]))),128))])])],512),[[A,d.activeTab==="sub"]]),p(t("div",Yt,[t("table",Ot,[Ht,Kt,t("tbody",null,[(i(!0),l(w,null,x(o.publishs.data,(e,s)=>(i(),l("tr",{key:s},[t("td",Mt,n(++s+(o.publishs.current_page-1)*o.publishs.per_page),1),t("td",null,n(e.post.title),1),t("td",null,n(e.post.category.title),1),t("td",null,n(e.post.member.name!==1?e.post.member.name:"Administrator"),1),t("td",null,n(e.post.react.view),1),t("td",qt,[h(b,{href:`/admin/posts/${e.post.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:m(()=>[Dt]),_:2},1032,["href"]),t("button",{onClick:a=>u.handleCancel(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},Ut,8,Et)])]))),128))])])],512),[[A,d.activeTab==="approved"]]),p(t("div",zt,[t("table",Gt,[Jt,Qt,t("tbody",null,[(i(!0),l(w,null,x(o.limiteds.data,(e,s)=>(i(),l("tr",{key:s},[t("td",Wt,n(++s+(o.limiteds.current_page-1)*o.limiteds.per_page),1),t("td",null,n(e.title),1),t("td",null,n(e.category.title),1),t("td",null,n(e.member.name!==1?e.member.name:"Administrator"),1),t("td",Xt,[h(b,{href:`/admin/posts/${e.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:m(()=>[Zt]),_:2},1032,["href"]),t("button",{onClick:a=>u.handleCancelLimited(e.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},ee,8,$t)])]))),128))])])],512),[[A,d.activeTab==="limited"]]),p(t("div",se,[t("table",ae,[ne,ie,t("tbody",null,[(i(!0),l(w,null,x(o.categories.data,(e,s)=>(i(),l("tr",{key:s},[t("td",oe,n(++s+(o.categories.current_page-1)*o.categories.per_page),1),t("td",null,n(e.title),1),t("td",le,[t("button",{onClick:j(a=>v.destroy(e.id),["prevent"]),class:"btn btn-sm btn-danger border-0 me-2"},ce,8,re)])]))),128))])])],512),[[A,d.activeTab==="category"]]),d.activeTab==="sub"?(i(),B(k,{key:0,links:o.posts.links,align:"end"},null,8,["links"])):y("",!0),d.activeTab==="approved"?(i(),B(k,{key:1,links:o.publishs.links,align:"end"},null,8,["links"])):y("",!0),d.activeTab==="limited"?(i(),B(k,{key:2,links:o.limiteds.links,align:"end"},null,8,["links"])):y("",!0),d.activeTab==="category"?(i(),B(k,{key:3,links:o.categories.links,align:"end"},null,8,["links"])):y("",!0)])])])])])],64)}const ke=q(D,[["render",ue]]);export{ke as default};
