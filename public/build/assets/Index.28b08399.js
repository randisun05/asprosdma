import{L as j}from"./Admin.7fb1d80b.js";import{P as I}from"./Pagination.3890c84e.js";import{H as N,L as R,r as U,D as V,u as D,z as L,a as w,o as n,c as i,b as h,w as f,d as t,e as E,f as y,v as P,y as B,g as l,F as S,j as T,k as _,x as G,t as d,i as b}from"./app.b86d4042.js";import{S as c}from"./sweetalert2.all.b5865747.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";const O={layout:j,components:{Head:N,Link:R,Pagination:I},props:{errors:Object,registers:Object},setup(x){const a=U(new URL(document.location).searchParams.get("q")),{registers:r}=V(x),s=D({registration_ids:[],allSelected:!1}),C=()=>{s.allSelected&&r.value&&Array.isArray(r.value.data)?s.registration_ids=r.value.data.map(o=>o.id):s.registration_ids=[]},A=L(()=>r.value.data.every(o=>o.status==="approved"||o.status==="rejected")),v=()=>{_.Inertia.get("/admin/registration",{q:a.value})},u=o=>`/storage/${o}`,k=o=>`/storage/${o}`,e=o=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan menyetujui usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(m=>{m.isConfirmed&&(_.Inertia.get(`/admin/registration/${o}/approve`),c.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:5e3,showConfirmButton:!1}))})},p=()=>{if(s.registration_ids.length===0){c.fire("Error","No registrations selected.","error");return}c.fire({title:"Apakah Anda yakin?",text:"Anda akan menyetujui grup usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(o=>{o.isConfirmed&&(_.Inertia.get("/admin/registration/group/approve",{registration_ids:s.registration_ids}),c.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:5e3,showConfirmButton:!1}))})};return console.log("Approving these IDs:",s.registration_ids),{search:a,handleSearch:v,getDocumentUrl:u,handleReject:o=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(m=>{m.isConfirmed&&(_.Inertia.get(`/admin/registration/${o}/reject`),c.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:5e3,showConfirmButton:!1}))})},handleApprove:e,handleConfirm:o=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan mengkonfirmasi ulang usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Confirm it!"}).then(m=>{m.isConfirmed&&(_.Inertia.get(`/admin/registration/${o}/confirm`),c.fire({title:"Success!",text:"Status Conirmed!.",icon:"success",timer:5e3,showConfirmButton:!1}))})},getImageUrl:k,paidExport:()=>{_.Inertia.get("/admin/registration/paid/export")},selectAll:C,form:s,handleApproveGroup:p,allApprovedOrRejected:A}}},Y=t("title",null,"Administrator",-1),q={class:"container-fluid padding px-5"},M={class:"row"},F={class:"col-md-12"},J={class:"row"},z={class:"col-md-1 col-12 mb-2"},K=t("i",{class:"fa fa-plus-circle"},null,-1),Q=b(" Tambah"),W={class:"col-md-1 col-12 mb-2"},X=t("i",{class:"fa fa-plus-circle"},null,-1),Z=b(" Import"),$={class:"col-md-1 col-12 mb-2"},tt=t("i",{class:"fa fa-plus-circle"},null,-1),et=b(" Kolektif"),st={class:"col-md-1 col-12 mb-2"},ot=t("i",{class:"fa fa-check-circle fa-lg me-2","aria-hidden":"true",title:"approve"},null,-1),at=b("Approve Group"),nt=[ot,at],it=G('<div class="col-md-1 col-12 mb-2"><a href="/admin/registration/paid/export" target="_blank" class="btn btn-warning btn-md border-0 shadow w-100 text-white"><i class="fa fa-download"></i> Export Paid</a></div><div class="col-md-1 col-12 mb-2"><a href="/admin/registration/data/export" target="_blank" class="btn btn-success btn-md border-0 shadow w-100 text-white"><i class="fa fa-download"></i> Export Data</a></div>',2),dt={class:"col-md-6 col-12 mb-2"},rt={class:"input-group"},ct=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1),lt={class:"row mt-1"},ut={class:"col-md-12"},ht={class:"card border-0 shadow"},_t={class:"card-body"},mt={class:"table-responsive"},ft={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},bt={class:"thead-dark"},pt={class:"border-0 text-center"},gt={class:"border-0 rounded-start",style:{width:"5%"}},vt=t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No.",-1),kt=t("th",{class:"border-0"},"NIP",-1),wt=t("th",{class:"border-0"},"Nama",-1),yt=t("th",{class:"border-0"},"Instansi",-1),xt=t("th",{class:"border-0"},"Jenjang Jabatan",-1),Ct=t("th",{class:"border-0"},"Email",-1),At=t("th",{class:"border-0",style:{width:"6%"}},"Dokumen",-1),Bt=t("th",{class:"border-0",style:{width:"6%"}},"Status",-1),St=t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi",-1),jt=t("div",{class:"mt-2"},null,-1),It={class:"text-center"},Nt=["id","value","checked"],Rt={class:"fw-bold text-center"},Ut={class:"text"},Vt={class:"badge bg-secondary"},Dt={class:"text-center"},Lt=["href"],Et={class:"text-center"},Pt={key:0,class:"badge bg-success"},Tt=["href"],Gt={key:2,class:"badge bg-danger"},Ht=["href"],Ot={key:4,class:"badge bg-secondary"},Yt={key:5,class:"badge bg-primary"},qt={class:"text-center"},Mt=t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true",title:"lihat detail"},null,-1),Ft=["onClick"],Jt=t("i",{class:"fa fa-question-circle fa-lg","aria-hidden":"true",title:"confirm"},null,-1),zt=[Jt],Kt=["onClick"],Qt=t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true",title:"reject"},null,-1),Wt=[Qt];function Xt(x,a,r,s,C,A){const v=w("Head"),u=w("Link"),k=w("Pagination");return n(),i(S,null,[h(v,null,{default:f(()=>[Y]),_:1}),t("div",q,[t("div",M,[t("div",F,[t("div",J,[t("div",z,[h(u,{href:"/admin/registration/create",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:f(()=>[K,Q]),_:1})]),t("div",W,[h(u,{href:"/admin/registration/import",class:"btn btn-md btn-success border-0 shadow w-100",type:"button"},{default:f(()=>[X,Z]),_:1})]),t("div",$,[h(u,{href:"/admin/registration/group",class:"btn btn-md btn-success border-0 shadow w-100",type:"button"},{default:f(()=>[tt,et]),_:1})]),t("div",st,[t("button",{onClick:a[0]||(a[0]=(...e)=>s.handleApproveGroup&&s.handleApproveGroup(...e)),class:"btn btn-sm btn-success border-0 shadow me-2"},nt)]),it,t("div",dt,[t("form",{onSubmit:a[2]||(a[2]=E((...e)=>s.handleSearch&&s.handleSearch(...e),["prevent"]))},[t("div",rt,[y(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":a[1]||(a[1]=e=>s.search=e),placeholder:"masukkan kata kunci dan enter..."},null,512),[[P,s.search]]),ct])],32)])])])]),t("div",lt,[t("div",ut,[t("div",ht,[t("div",_t,[t("div",mt,[t("table",ft,[t("thead",bt,[t("tr",pt,[t("th",gt,[s.allApprovedOrRejected?l("",!0):y((n(),i("input",{key:0,type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=e=>s.form.allSelected=e),onChange:a[4]||(a[4]=(...e)=>s.selectAll&&s.selectAll(...e))},null,544)),[[B,s.form.allSelected]])]),vt,kt,wt,yt,xt,Ct,At,Bt,St])]),jt,t("tbody",null,[(n(!0),i(S,null,T(r.registers.data,(e,p)=>(n(),i("tr",{key:p},[t("td",It,[e.status!=="approved"&&e.status!=="rejected"?y((n(),i("input",{key:0,type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=g=>s.form.registration_ids=g),id:e.id,value:e.id,number:"",checked:s.form.allSelected},null,8,Nt)),[[B,s.form.registration_ids]]):l("",!0)]),t("td",Rt,d(++p+(r.registers.current_page-1)*r.registers.per_page),1),t("td",null,d(e.nip),1),t("td",null,d(e.name),1),t("td",null,d(e.agency),1),t("td",Ut,d(e.position)+" "+d(e.level),1),t("td",null,[b(d(e.email)+" ",1),t("span",Vt,d(e.emailstatus),1)]),t("td",Dt,[t("a",{href:s.getDocumentUrl(e.document_jab),target:"_blank",class:"badge bg-primary"},"View",8,Lt)]),t("td",Et,[e.status==="approved"?(n(),i("span",Pt,d(e.status),1)):e.status==="confirm"?(n(),i("span",{key:1,href:s.getImageUrl(e.paid),target:"_blank",class:"badge bg-warning"},d(e.status),9,Tt)):e.status==="rejected"?(n(),i("span",Gt,d(e.status),1)):l("",!0),e.paid?(n(),i("a",{key:3,href:s.getImageUrl(e.paid),target:"_blank",class:"badge bg-primary"},"paid",8,Ht)):e.status==="submission"?(n(),i("span",Ot,d(e.status),1)):l("",!0),e.admin?(n(),i("span",Yt,d(e.admin),1)):l("",!0)]),t("td",qt,[h(u,{href:`/admin/registration/${e.id}`,class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:f(()=>[Mt]),_:2},1032,["href"]),e.status!=="approved"?(n(),i("button",{key:0,onClick:g=>s.handleConfirm(e.id),class:"btn btn-sm btn-warning border-0 shadow me-2"},zt,8,Ft)):l("",!0),e.status!=="approved"&&e.status!=="rejected"?(n(),i("button",{key:1,onClick:g=>s.handleReject(e.id),class:"btn btn-sm btn-danger border-0 shadow me-2"},Wt,8,Kt)):l("",!0)])]))),128))])])]),h(k,{links:r.registers.links,align:"end"},null,8,["links"])])])])])])],64)}const ne=H(O,[["render",Xt]]);export{ne as default};
