import{L as b}from"./User.a213ea94.js";import{H as w,L as x,f as I,M as D,r as V,o as l,c as i,b as U,w as C,a as e,h as r,v as m,t as d,i as c,F as h,B as f,E as v,g as P,j as k,G as p}from"./app.9310a94a.js";import{S}from"./sweetalert2.all.993698b3.js";import{_ as K}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Footer.c6c01291.js";const L={data(){return{searchInstansi:"",showDropdown:!1,cities:[]}},computed:{filteredInstansis(){return this.instansis.filter(a=>a.title.toLowerCase().includes(this.searchInstansi.toLowerCase()))}},methods:{toggleSearch(){this.showDropdown=!this.showDropdown,this.showDropdown?document.body.addEventListener("click",this.closeDropdownOutside):document.body.removeEventListener("click",this.closeDropdownOutside)},closeDropdownOutside(a){this.$refs.dropdownWrapper.contains(a.target)||(this.showDropdown=!1,document.body.removeEventListener("click",this.closeDropdownOutside))},selectInstansi(a){this.form.agency=a.title,this.searchInstansi="",this.showDropdown=!1},openFileInput(){this.$refs.fileInput.click()},updateImage(a){this.form.image=a.target.files[0]}},layout:b,components:{Head:w,Link:x},props:{errors:Object,session:Object,data:Object,instansis:Array,provinces:Array,cities:Array},setup(a){const t=I({nip:a.data.main.nip,name:a.data.main.name,email:a.data.main.email,contact:a.data.main.contact,fname:a.data.main.fname,lname:a.data.main.lname,leveledu:a.data.main.leveledu,lastedu:a.data.main.lastedu,place:a.data.main.place,dob:a.data.main.dob,docid:a.data.main.docid,nodocid:a.data.main.nodocid,gender:a.data.main.gender,religion:a.data.main.religion,address:a.data.main.address,villages:a.data.main.villages,district:a.data.main.district,regency:a.data.main.regency,province:a.data.main.province,agency:a.data.agency,image:a.data.main.image}),n=D(()=>t.province?a.cities.filter(_=>_.province_id===t.province.id):[]);return{form:t,submit:()=>{k.Inertia.post("/user/profile/edit",{nip:t.nip,name:t.name,fname:t.fname,lname:t.lname,leveledu:t.leveledu,lastedu:t.lastedu,place:t.place,dob:t.dob,docid:t.docid,nodocid:t.nodocid,email:t.email,contact:t.contact,gender:t.gender,religion:t.religion,address:t.address,villages:t.villages,district:t.district,regency:t.regency,province:t.province,agency:t.agency},{onSuccess:()=>{S.fire({title:"Success!",text:"Data Anggota Berhasil Diupdate.",icon:"success",showConfirmButton:!1,timer:2e3})}})},getImageUrl:_=>_?`/storage/${_}`:"/assets/images/team-grey-1.jpg",updateImage:_=>{const s=new FormData;s.append("image",_.target.files[0]),k.Inertia.post("/user/profile/image",s)},filteredCities:n}}},A=e("title",null,"Profile Anggota",-1),B={id:"profile",class:"container mt-4"},j={class:"container-fluid px-5"},E={class:"row d-flex justify-content-center"},F={class:"col-sm-12 card shadow"},M=p('<div class="row"><h3 class="text-center mt-4 text-black"> Update Profile Anggota </h3></div><div class="row mt-4"><ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" href="/user/profile">Profile</a></li></ul></div>',2),O={class:"container py-4"},T={class:"row"},H={class:"col-lg-2 col-md-2"},N={class:"text-center"},G=["src"],J=e("div",{class:"col-lg-1"},null,-1),W={class:"col-lg-9"},q={class:"row"},z=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," NIP ")],-1),Q={class:"col-lg-8"},R={key:0,class:"alert-danger mt-1 rounded"},X={class:"row mt-2"},Y=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Nama ")],-1),Z={class:"col-lg-8"},$={key:0,class:"rounded alert-danger mt-1"},ee={class:"row mt-2"},te=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Gelar Depan ")],-1),se={class:"col-lg-8"},oe={key:0,class:"rounded alert-danger mt-1"},ne={class:"row mt-2"},ae=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Gelar Belakang ")],-1),le={class:"col-lg-8"},ie={key:0,class:"rounded alert-danger mt-1"},de={class:"row mt-2"},re=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Instansi")],-1),ce={class:"col-lg-8"},me={class:"position-relative",ref:"dropdownWrapper"},ue={class:"form-group mt-1"},_e={key:0,class:"dropdown-menu position-absolute w-100"},ve={key:0,class:"dropdown-item-list"},he=["onClick"],ge={key:1,class:"dropdown-item disabled"},fe={key:0,class:"rounded alert-danger mt-2"},ye={class:"col-sm-12 card shadow mt-4"},pe=e("div",{class:"py-4"},[e("span",null," Data Pribadi ")],-1),ke={class:"row ms-2 mb-3"},be={class:"col-md-6 col-sm-6"},we=e("span",{class:"text-black"}," Tempat Lahir ",-1),xe={class:"form-group mt-1"},Ie={key:0,class:"rounded alert-danger mt-2"},De={class:"col-md-6 col-sm-6"},Ve=e("span",{class:"text-black"}," Tanggal Lahir ",-1),Ue={class:"form-group mt-1"},Ce={key:0,class:"rounded alert-danger mt-2"},Pe={class:"row ms-2 mb-3"},Se={class:"col-md-6 col-sm-6"},Ke=e("span",{class:"text-black"}," Jenis Dokumen Identitas ",-1),Le={class:"form-group mt-1"},Ae=e("option",{value:"",disabled:"",selected:""},"Pilih salah satu opsi",-1),Be=e("option",{value:"KTP"},"KTP",-1),je=e("option",{value:"Passport"},"Passport",-1),Ee=[Ae,Be,je],Fe={key:0,class:"rounded alert-danger mt-2"},Me={class:"col-md-6 col-sm-6"},Oe=e("span",{class:"text-black"}," Nomor Dokumen Identitas ",-1),Te={class:"form-group mt-1"},He={key:0,class:"rounded alert-danger mt-2"},Ne={class:"row ms-2 mb-3"},Ge={class:"col-md-6 col-sm-6"},Je=e("span",{class:"text-black"}," Kontak ",-1),We={class:"form-group mt-1"},qe={key:0,class:"rounded alert-danger mt-2"},ze={class:"col-md-6 col-sm-6"},Qe=e("span",{class:"text-black"}," Email ",-1),Re={class:"form-group mt-1"},Xe={key:0,class:"rounded alert-danger mt-2"},Ye={class:"row ms-2 mb-3"},Ze={class:"col-md-6 col-sm-6"},$e=e("span",{class:"text-black"}," Jenis Kelamin ",-1),et={class:"form-group mt-1"},tt=e("option",{value:"",disabled:"",selected:""},"Pilih salah satu opsi",-1),st=e("option",{value:"L"},"Laki-laki",-1),ot=e("option",{value:"P"},"Perempuan",-1),nt=[tt,st,ot],at={key:0,class:"rounded alert-danger mt-2"},lt={class:"col-md-6 col-sm-6"},it=e("span",{class:"text-black"}," Agama ",-1),dt={class:"form-group mt-1"},rt=p('<option value="" disabled selected>Pilih salah satu opsi</option><option value="Islam">Islam</option><option value="Kristen">Kristen</option><option value="Khatolik">Khatolik</option><option value="Budha">Budha</option><option value="Hindu">Hindu</option>',6),ct=[rt],mt={key:0,class:"rounded alert-danger mt-2"},ut={class:"row ms-2 mb-3"},_t={class:"col-md-12 col-sm-12"},vt=e("span",{class:"text-black"}," Alamat ",-1),ht={class:"form-group mt-1"},gt={key:0,class:"rounded alert-danger mt-2"},ft={class:"row ms-2 mb-3"},yt={class:"col-md-6 col-sm-6"},pt=e("span",{class:"text-black"}," Provinsi ",-1),kt={class:"form-group mt-1"},bt=e("option",{value:"",disabled:"",selected:""},"Pilih salah satu opsi",-1),wt=["value"],xt={key:0,class:"rounded alert-danger mt-2"},It={class:"col-md-6 col-sm-6"},Dt=e("span",{class:"text-black"}," Kota/Kabupaten ",-1),Vt={class:"form-group mt-1"},Ut=e("option",{value:"",disabled:"",selected:""},"Pilih salah satu opsi",-1),Ct=["value"],Pt={key:0,class:"rounded alert-danger mt-2"},St={class:"col-md-6 col-sm-6"},Kt=e("span",{class:"text-black"}," Kecamatan ",-1),Lt={class:"form-group mt-1"},At=e("option",{value:""},"Pilih Kecamatan",-1),Bt=["value"],jt={key:0,class:"rounded alert-danger mt-2"},Et={class:"col-md-6 col-sm-6"},Ft=e("span",{class:"text-black"}," Kelurahan ",-1),Mt={class:"form-group mt-1"},Ot=e("option",{value:""},"Pilih Kelurahan/Desa",-1),Tt=["value"],Ht={key:0,class:"rounded alert-danger mt-2"},Nt=e("div",{class:"row ms-2 mb-3"},null,-1),Gt={class:"col-sm-12 card shadow mt-4"},Jt=e("div",{class:"py-4"},[e("span",null," Data Pendidikan ")],-1),Wt={class:"row ms-2 mb-3"},qt={class:"col-md-6 col-sm-6"},zt=e("span",{class:"text-black"}," Tingkat Pendidikan ",-1),Qt={class:"form-group mt-1"},Rt=p('<option value="" disabled selected>Pilih salah satu opsi</option><option value="SMA/SMK">SMA/SMK</option><option value="D-3">D-3</option><option value="D-4">D-4</option><option value="S-1">S-1</option><option value="S-2">S-2</option><option value="S-3">S-3</option>',7),Xt=[Rt],Yt={key:0,class:"rounded alert-danger mt-2"},Zt={class:"col-md-6 col-sm-6"},$t=e("span",{class:"text-black"}," Pendidikan Terakhir ",-1),es={class:"form-group mt-1"},ts={key:0,class:"rounded alert-danger mt-2"},ss=e("div",{class:"row d-flex justify-content-center py-5"},[e("button",{type:"submit",class:"button btnprimary",style:{width:"300px"}},"Simpan"),e("a",{href:"/user/profile",class:"button btnsecondary",style:{width:"300px"}},"Batal")],-1);function os(a,t,n,o,y,u){const _=V("Head");return l(),i(h,null,[U(_,null,{default:C(()=>[A]),_:1}),e("form",{onSubmit:t[25]||(t[25]=P((...s)=>o.submit&&o.submit(...s),["prevent"])),class:"getin_form border-form padding",id:"data"},[e("section",B,[e("div",j,[e("div",E,[e("div",F,[M,e("div",O,[e("div",T,[e("div",H,[e("div",N,[e("img",{src:o.getImageUrl(o.form.image),alt:"Foto Profil",class:"img-fluid rounded-circle",title:"Ubah foto profil",style:{width:"100%",height:"200px"}},null,8,G),e("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:t[0]||(t[0]=(...s)=>o.updateImage&&o.updateImage(...s)),accept:".jpg, .jpeg, .png"},null,544),e("button",{onClick:t[1]||(t[1]=(...s)=>u.openFileInput&&u.openFileInput(...s)),type:"button",class:"btn btn-secondary mt-2"},"Ubah Foto")])]),J,e("div",W,[e("div",q,[z,e("div",Q,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>o.form.nip=s),maxlength:"18",readonly:"",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[m,o.form.nip]]),n.errors.nip?(l(),i("div",R,d(n.errors.nip),1)):c("",!0)])]),e("div",X,[Y,e("div",Z,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=s=>o.form.name=s)},null,512),[[m,o.form.name]]),n.errors.name?(l(),i("div",$,d(n.errors.name),1)):c("",!0)])]),e("div",ee,[te,e("div",se,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>o.form.fname=s),onkeypress:"return event.charCode < 48 || event.charCode > 57"},null,512),[[m,o.form.fname]]),n.errors.fname?(l(),i("div",oe,d(n.errors.fname),1)):c("",!0)])]),e("div",ne,[ae,e("div",le,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>o.form.lname=s),onkeypress:"return event.charCode < 48 || event.charCode > 57"},null,512),[[m,o.form.lname]]),n.errors.lname?(l(),i("div",ie,d(n.errors.lname),1)):c("",!0)])]),e("div",de,[re,e("div",ce,[e("div",me,[e("div",ue,[r(e("input",{type:"text",class:"form-control",placeholder:"Pilih Instansi","onUpdate:modelValue":t[6]||(t[6]=s=>o.form.agency=s),onClick:t[7]||(t[7]=(...s)=>u.toggleSearch&&u.toggleSearch(...s)),readonly:""},null,512),[[m,o.form.agency]])]),y.showDropdown?(l(),i("div",_e,[r(e("input",{type:"text",class:"form-control mb-2",placeholder:"Cari Instansi","onUpdate:modelValue":t[8]||(t[8]=s=>y.searchInstansi=s)},null,512),[[m,y.searchInstansi]]),u.filteredInstansis.length>0?(l(),i("div",ve,[(l(!0),i(h,null,f(u.filteredInstansis,(s,g)=>(l(),i("button",{key:g,class:"dropdown-item",onClick:ns=>u.selectInstansi(s)},d(s.title),9,he))),128))])):(l(),i("div",ge,"Instansi tidak ditemukan "))])):c("",!0)],512)]),n.errors.agency?(l(),i("div",fe,d(n.errors.agency),1)):c("",!0)])])])])]),e("div",ye,[pe,e("div",ke,[e("div",be,[we,e("div",xe,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=s=>o.form.place=s)},null,512),[[m,o.form.place]])]),n.errors.place?(l(),i("div",Ie,d(n.errors.place),1)):c("",!0)]),e("div",De,[Ve,e("div",Ue,[r(e("input",{type:"date",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=s=>o.form.dob=s)},null,512),[[m,o.form.dob]])]),n.errors.dob?(l(),i("div",Ce,d(n.errors.dob),1)):c("",!0)])]),e("div",Pe,[e("div",Se,[Ke,e("div",Le,[r(e("select",{class:"form-select","onUpdate:modelValue":t[11]||(t[11]=s=>o.form.docid=s)},Ee,512),[[v,o.form.docid]])]),n.errors.docid?(l(),i("div",Fe,d(n.errors.docid),1)):c("",!0)]),e("div",Me,[Oe,e("div",Te,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=s=>o.form.nodocid=s),maxlength:"25",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[m,o.form.nodocid]])]),n.errors.nodocid?(l(),i("div",He,d(n.errors.nodocid),1)):c("",!0)])]),e("div",Ne,[e("div",Ge,[Je,e("div",We,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=s=>o.form.contact=s),onkeypress:"return event.charCode >= 48 && event.charCode <= 57",maxlength:"13"},null,512),[[m,o.form.contact]])]),n.errors.contact?(l(),i("div",qe,d(n.errors.contact),1)):c("",!0)]),e("div",ze,[Qe,e("div",Re,[r(e("input",{type:"email",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=s=>o.form.email=s)},null,512),[[m,o.form.email]])]),n.errors.email?(l(),i("div",Xe,d(n.errors.email),1)):c("",!0)])]),e("div",Ye,[e("div",Ze,[$e,e("div",et,[r(e("select",{class:"form-select","onUpdate:modelValue":t[15]||(t[15]=s=>o.form.gender=s)},nt,512),[[v,o.form.gender]])]),n.errors.gender?(l(),i("div",at,d(n.errors.gender),1)):c("",!0)]),e("div",lt,[it,e("div",dt,[r(e("select",{class:"form-select","onUpdate:modelValue":t[16]||(t[16]=s=>o.form.religion=s)},ct,512),[[v,o.form.religion]])]),n.errors.religion?(l(),i("div",mt,d(n.errors.religion),1)):c("",!0)])]),e("div",ut,[e("div",_t,[vt,e("div",ht,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[17]||(t[17]=s=>o.form.address=s),style:{height:"80px"}},null,512),[[m,o.form.address]])]),n.errors.address?(l(),i("div",gt,d(n.errors.address),1)):c("",!0)])]),e("div",ft,[e("div",yt,[pt,e("div",kt,[r(e("select",{class:"form-select","onUpdate:modelValue":t[18]||(t[18]=s=>o.form.province=s)},[bt,(l(!0),i(h,null,f(n.provinces,(s,g)=>(l(),i("option",{key:g,value:s.name},d(s.name),9,wt))),128))],512),[[v,o.form.province]])]),n.errors.province?(l(),i("div",xt,d(n.errors.province),1)):c("",!0)]),e("div",It,[Dt,e("div",Vt,[r(e("select",{class:"form-select","onUpdate:modelValue":t[19]||(t[19]=s=>o.form.regency=s)},[Ut,(l(!0),i(h,null,f(o.filteredCities,(s,g)=>(l(),i("option",{key:g,value:s.name},d(s.name),9,Ct))),128))],512),[[v,o.form.regency]])]),n.errors.regency?(l(),i("div",Pt,d(n.errors.regency),1)):c("",!0)]),e("div",St,[Kt,e("div",Lt,[r(e("select",{class:"form-control",id:"district","onUpdate:modelValue":t[20]||(t[20]=s=>a.selectedDistrict=s),onChange:t[21]||(t[21]=(...s)=>a.getVillages&&a.getVillages(...s))},[At,(l(!0),i(h,null,f(a.districts,s=>(l(),i("option",{key:s.id,value:s.name},d(s.name),9,Bt))),128))],544),[[v,a.selectedDistrict]])]),n.errors.district?(l(),i("div",jt,d(n.errors.district),1)):c("",!0)]),e("div",Et,[Ft,e("div",Mt,[r(e("select",{class:"form-control",id:"village","onUpdate:modelValue":t[22]||(t[22]=s=>a.selectedVillage=s)},[Ot,(l(!0),i(h,null,f(a.villages,s=>(l(),i("option",{key:s.id,value:s.name},d(s.name),9,Tt))),128))],512),[[v,a.selectedVillage]])]),n.errors.villages?(l(),i("div",Ht,d(n.errors.villages),1)):c("",!0)])]),Nt]),e("div",Gt,[Jt,e("div",Wt,[e("div",qt,[zt,e("div",Qt,[r(e("select",{class:"form-select","onUpdate:modelValue":t[23]||(t[23]=s=>o.form.leveledu=s)},Xt,512),[[v,o.form.leveledu]])]),n.errors.leveledu?(l(),i("div",Yt,d(n.errors.leveledu),1)):c("",!0)]),e("div",Zt,[$t,e("div",es,[r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[24]||(t[24]=s=>o.form.lastedu=s)},null,512),[[m,o.form.lastedu]])]),n.errors.lastedu?(l(),i("div",ts,d(n.errors.lastedu),1)):c("",!0)])])]),ss])])])],32)],64)}const cs=K(L,[["render",os]]);export{cs as default};
