import{L as N}from"./Admin.cd2f1065.js";import{P as V}from"./Pagination.88782e54.js";import{H as Y,L as K,r as O,A as H,a as S,o as l,c as r,b as m,w as f,d as t,e as j,f as w,v as q,n as C,K as A,F as _,j as x,l as B,g as y,k as h,i as L,t as i}from"./app.0f2c29db.js";import{S as c}from"./sweetalert2.all.8c8d2521.js";import{_ as D}from"./_plugin-vue_export-helper.cdc0426e.js";const E={layout:N,components:{Head:Y,Link:K,Pagination:V},props:{errors:Object,posts:Object,publishs:Object,categories:Object,limiteds:Object},data(){return{activeTab:"sub"}},methods:{setActiveTab(g){this.activeTab=g}},setup(g){const e=O(new URL(document.location).searchParams.get("q")),o=()=>{h.Inertia.get("/admin/posts",{q:e.value})},u=n=>{c.fire({title:"Apakah Anda yakin?",text:"Post akan dipublikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(a=>{a.isConfirmed&&(h.Inertia.get(`/admin/posts/${n}/approve`),c.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},d=n=>{c.fire({title:"Apakah Anda yakin?",text:"Post akan dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Return it!"}).then(a=>{a.isConfirmed&&(h.Inertia.get(`/admin/posts/${n}/return`),c.fire({title:"Success!",text:"Status Returned!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},k=n=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak pengajuan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(a=>{a.isConfirmed&&(h.Inertia.get(`/admin/posts/${n}/reject`),c.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},T=n=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan membatalkan publikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(a=>{a.isConfirmed&&(h.Inertia.get(`/admin/posts/${n}/cancel`),c.fire({title:"Success!",text:"Status Cancelled!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},b=n=>{c.fire({title:"Apakah Anda yakin?",text:"Publikasi akan bersifat terbatas!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Aprrove it!"}).then(a=>{a.isConfirmed&&(h.Inertia.get(`/admin/posts/${n}/limited`),c.fire({title:"Success!",text:"Status Limited!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},v=n=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan membatalkan publikasi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(a=>{a.isConfirmed&&(h.Inertia.get(`/admin/posts/${n}/cancelLimited`),c.fire({title:"Success!",text:"Status Cancelled!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},s=n=>{n.data.forEach(a=>{if(a.post&&Array.isArray(a.post.react)){const R=a.post.react.filter(p=>p.react_id==="1").length,P=a.post.react.filter(p=>p.react_id==="2").length,I=a.post.react.filter(p=>p.react_id==="3").length;a.post.react={love:R,like:P,view:I}}else a.post&&(a.post.react={love:0,like:0,view:0})})};return H(()=>g.publishs,n=>{s(n)},{immediate:!0}),{search:e,handleSearch:o,handleReject:k,handleApprove:u,handleReturn:d,handleCancel:T,handleLimited:b,countReactions:s,handleCancelLimited:v}}},F={class:"container-fluid padding px-5"},M={class:"row"},U={class:"col-md-12"},z={class:"row"},G={class:"col-md-1 col-12 mb-2"},J={class:"col-md-1 col-12 mb-2"},Q={class:"col-md-6 col-12 mb-2"},W={class:"input-group"},X={class:"row mt-1"},Z={class:"col-md-12"},$={class:"card border-0 shadow"},tt={class:"card-body"},et={class:"nav nav-tabs"},st={class:"nav-item"},nt={class:"nav-item"},at={class:"nav-item"},it={class:"nav-item"},lt={class:"table-responsive",id:"sub"},ot={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},rt={class:"fw-bold text-center"},dt={key:0,class:"badge bg-success",title:"disetujui untuk di publish"},ct={key:1,class:"badge bg-warning",title:"hanya untuk konsumsi pribadi"},ut={key:2,class:"badge bg-warning",title:"silakan dicek kembali"},bt={key:3,class:"badge bg-danger",title:"ditolak untuk publish"},mt={key:4,class:"badge bg-secondary"},ft={key:5,class:"badge bg-danger",title:"ditolak untuk publish"},ht={key:6,class:"badge bg-secondary"},kt={class:"text-center"},vt=["onClick"],gt=["onClick"],pt=["onClick"],wt={class:"table-responsive",id:"approved"},_t={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},yt={class:"fw-bold text-center"},Ct={class:"text-center"},At=["onClick"],xt={class:"table-responsive",id:"limited"},Bt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Tt={class:"fw-bold text-center"},St={class:"text-center"},jt=["onClick"],Lt={class:"table-responsive",id:"category"},Rt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Pt={class:"fw-bold text-center"},It={class:"text-center"},Nt=["onClick"];function Vt(g,e,o,u,d,k){const T=S("Head"),b=S("Link"),v=S("Pagination");return l(),r(_,null,[m(T,null,{default:f(()=>[...e[6]||(e[6]=[t("title",null,"Administrator",-1)])]),_:1}),t("div",F,[t("div",M,[t("div",U,[t("div",z,[t("div",G,[m(b,{href:"/admin/admin/posts",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:f(()=>[...e[7]||(e[7]=[t("i",{class:"fa fa-plus-circle"},null,-1),L(" Post ",-1)])]),_:1})]),t("div",J,[m(b,{href:"/admin/category/create",class:"btn btn-md btn-warning border-0 shadow w-100",type:"button"},{default:f(()=>[...e[8]||(e[8]=[t("i",{class:"fa fa-plus-circle"},null,-1),L(" Kategori ",-1)])]),_:1})]),t("div",Q,[t("form",{onSubmit:e[1]||(e[1]=j((...s)=>u.handleSearch&&u.handleSearch(...s),["prevent"]))},[t("div",W,[w(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":e[0]||(e[0]=s=>u.search=s),placeholder:"masukkan kata kunci dan enter..."},null,512),[[q,u.search]]),e[9]||(e[9]=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1))])],32)])])])]),t("div",X,[t("div",Z,[t("div",$,[t("div",tt,[t("ul",et,[t("li",st,[t("a",{class:C(["nav-link",{active:d.activeTab==="sub"}]),onClick:e[2]||(e[2]=s=>k.setActiveTab("sub"))},"Submission",2)]),t("li",nt,[t("a",{class:C(["nav-link",{active:d.activeTab==="approved"}]),onClick:e[3]||(e[3]=s=>k.setActiveTab("approved"))},"Publish",2)]),t("li",at,[t("a",{class:C(["nav-link",{active:d.activeTab==="limited"}]),onClick:e[4]||(e[4]=s=>k.setActiveTab("limited"))},"Limited",2)]),t("li",it,[t("a",{class:C(["nav-link",{active:d.activeTab==="category"}]),onClick:e[5]||(e[5]=s=>k.setActiveTab("category"))},"Category",2)])]),w(t("div",lt,[t("table",ot,[e[15]||(e[15]=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Status"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1)),e[16]||(e[16]=t("div",{class:"mt-2"},null,-1)),t("tbody",null,[(l(!0),r(_,null,x(o.posts.data,(s,n)=>(l(),r("tr",{key:n},[t("td",rt,i(++n+(o.posts.current_page-1)*o.posts.per_page),1),t("td",null,i(s.title),1),t("td",null,i(s.member_id!==1?s.member.name:"Administrator"),1),t("td",null,i(s.category.title),1),t("td",null,[s.status==="approved"?(l(),r("span",dt,i(s.status),1)):s.status==="private"?(l(),r("span",ct,i(s.status),1)):s.status==="perlu ada perbaikan"?(l(),r("span",ut,i(s.status),1)):s.status==="rejected"?(l(),r("span",bt,i(s.status),1)):s.status==="submission"?(l(),r("span",mt,i(s.status),1)):s.status==="return"?(l(),r("span",ft,i(s.status),1)):s.status==="limited"?(l(),r("span",ht,i(s.status),1)):y("",!0)]),t("td",kt,[m(b,{href:`/admin/posts/${s.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:f(()=>[...e[10]||(e[10]=[t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:a=>u.handleApprove(s.id),title:"setuju untuk publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},[...e[11]||(e[11]=[t("i",{class:"fa fa-check-circle fa-lg","aria-hidden":"true"},null,-1)])],8,vt),m(b,{href:`/admin/posts/${s.id}/edit`,title:"edit",class:"btn btn-sm btn-warning border-0 shadow me-2"},{default:f(()=>[...e[12]||(e[12]=[t("i",{class:"fa fa-pencil fa-lg","aria-hidden":"true"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:a=>u.handleLimited(s.id),title:"setuju untuk limited publish",class:"btn btn-sm btn-success border-0 shadow me-2",type:"button"},[...e[13]||(e[13]=[t("i",{class:"fa fa-user-circle fa-lg","aria-hidden":"true"},null,-1)])],8,gt),t("button",{onClick:a=>u.handleReject(s.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},[...e[14]||(e[14]=[t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1)])],8,pt)])]))),128))])])],512),[[A,d.activeTab==="sub"]]),w(t("div",wt,[t("table",_t,[e[19]||(e[19]=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0"},"Views"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1)),e[20]||(e[20]=t("div",{class:"mt-2"},null,-1)),t("tbody",null,[(l(!0),r(_,null,x(o.publishs.data,(s,n)=>(l(),r("tr",{key:n},[t("td",yt,i(++n+(o.publishs.current_page-1)*o.publishs.per_page),1),t("td",null,i(s.post.title),1),t("td",null,i(s.post.category.title),1),t("td",null,i(s.post.member.name!==1?s.post.member.name:"Administrator"),1),t("td",null,i(s.post.react.view),1),t("td",Ct,[m(b,{href:`/admin/posts/${s.post.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:f(()=>[...e[17]||(e[17]=[t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:a=>u.handleCancel(s.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},[...e[18]||(e[18]=[t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1)])],8,At)])]))),128))])])],512),[[A,d.activeTab==="approved"]]),w(t("div",xt,[t("table",Bt,[e[23]||(e[23]=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1)),e[24]||(e[24]=t("div",{class:"mt-2"},null,-1)),t("tbody",null,[(l(!0),r(_,null,x(o.limiteds.data,(s,n)=>(l(),r("tr",{key:n},[t("td",Tt,i(++n+(o.limiteds.current_page-1)*o.limiteds.per_page),1),t("td",null,i(s.title),1),t("td",null,i(s.category.title),1),t("td",null,i(s.member.name!==1?s.member.name:"Administrator"),1),t("td",St,[m(b,{href:`/admin/posts/${s.id}`,title:"view",class:"btn btn-sm btn-primary border-0 shadow me-2",type:"button"},{default:f(()=>[...e[21]||(e[21]=[t("i",{class:"fa fa-eye fa-lg","aria-hidden":"true"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:a=>u.handleCancelLimited(s.id),title:"tolak",class:"btn btn-sm btn-danger border-0 shadow me-2"},[...e[22]||(e[22]=[t("i",{class:"fa fa-times-circle fa-lg","aria-hidden":"true"},null,-1)])],8,jt)])]))),128))])])],512),[[A,d.activeTab==="limited"]]),w(t("div",Lt,[t("table",Rt,[e[26]||(e[26]=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1)),e[27]||(e[27]=t("div",{class:"mt-2"},null,-1)),t("tbody",null,[(l(!0),r(_,null,x(o.categories.data,(s,n)=>(l(),r("tr",{key:n},[t("td",Pt,i(++n+(o.categories.current_page-1)*o.categories.per_page),1),t("td",null,i(s.title),1),t("td",It,[t("button",{onClick:j(a=>g.destroy(s.id),["prevent"]),class:"btn btn-sm btn-danger border-0 me-2"},[...e[25]||(e[25]=[t("i",{class:"fa fa-trash",title:"hapus"},null,-1)])],8,Nt)])]))),128))])])],512),[[A,d.activeTab==="category"]]),d.activeTab==="sub"?(l(),B(v,{key:0,links:o.posts.links,align:"end"},null,8,["links"])):y("",!0),d.activeTab==="approved"?(l(),B(v,{key:1,links:o.publishs.links,align:"end"},null,8,["links"])):y("",!0),d.activeTab==="limited"?(l(),B(v,{key:2,links:o.limiteds.links,align:"end"},null,8,["links"])):y("",!0),d.activeTab==="category"?(l(),B(v,{key:3,links:o.categories.links,align:"end"},null,8,["links"])):y("",!0)])])])])])],64)}const Dt=D(E,[["render",Vt]]);export{Dt as default};
