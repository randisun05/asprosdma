import{L as j}from"./Admin.7b89b3b5.js";import{H as p,L as E,u as U,r as x,a as B,o as i,c as l,b as S,w as k,d as t,m as V,g as d,t as g,f as u,v as f,e as y,n as I,F as M,k as h,i as _}from"./app.c84045a2.js";import{S as c}from"./sweetalert2.all.a90211a8.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";const P={layout:j,components:{Head:p,Link:E},props:{errors:Object,register:Object},setup(a){const e=U({nip:a.register.nip,name:a.register.name,email:a.register.email,contact:a.register.contact,agency:a.register.agency,position:a.register.position,level:a.register.level,status:a.register.status,paid:a.register.paid,document_jab:a.register.document_jab,info:a.register.info,sendemail:a.register.email}),s=r=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan menyetujui usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Approve it!"}).then(m=>{m.isConfirmed&&(h.Inertia.get(`/admin/registration/${r}/approve`,{info:e.info}),c.fire({title:"Success!",text:"Status Approved!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},o=r=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan mengkonfirmasi ulang usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Confirm it!"}).then(m=>{m.isConfirmed&&(h.Inertia.get(`/admin/registration/${r}/confirm`,{info:e.info,email:e.sendemail}),c.fire({title:"Success!",text:"Status Conirmed!.",icon:"success",timer:2e3,showConfirmButton:!1}))}),x.showModalEmail=!1},w=r=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan menolak usulan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reject it!"}).then(m=>{m.isConfirmed&&(h.Inertia.get(`/admin/registration/${r}/reject`),c.fire({title:"Success!",text:"Status Rejected!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},C=r=>{c.fire({title:"Pastikan data sudah sesuai.!",text:"Anda akan mengirim email konfirmasi?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Send it!"}).then(m=>{m.isConfirmed&&(h.Inertia.get(`/admin/registration/${r}/email`),c.fire({title:"Success!",text:"Email Sent!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},v=r=>{c.fire({title:"Apakah Anda yakin?",text:"Anda akan kirim ulang email!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Send it!"}).then(m=>{m.isConfirmed&&(h.Inertia.get(`/admin/registration/${r}/email-approve`),c.fire({title:"Success!",text:"Status Sent!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},b=r=>`/storage/${r}`,n=r=>`/storage/${r}`,A=x(!1);return{form:e,getDocumentUrl:b,handleApprove:s,handleReject:w,handleConfirm:o,getImageUrl:n,sendEmail:C,handleemailApprove:v,showModalEmail:A}}},L=t("title",null,"Administrator",-1),N={class:"container-fluid padding px-5"},K={class:"row"},D={class:"col-md-12"},Y=t("i",{class:"fa fa-arrow-left","aria-hidden":"true"},null,-1),H=_(" Kembali"),R=t("i",{class:"fa fa-pencil","aria-hidden":"true"},null,-1),J=_(" Edit"),O={class:"card border-0 shadow"},F={class:"card-body"},q=t("h5",null,[t("i",{class:"fa fa-bookmark"}),_(" Data Pengusul")],-1),z={key:0,class:"alert alert-danger mt-2"},G=t("hr",null,null,-1),Q={class:"row"},W={class:"col-md-6 col-sm-6"},X=t("span",null," NIP ",-1),Z={class:"form-group bottom35 mt-1"},$={class:"col-md-6 col-sm-6"},tt=t("span",null," Nama ",-1),et={class:"form-group bottom35 mt-1"},st={class:"col-md-6 col-sm-6"},ot=t("span",null," Email ",-1),nt={class:"form-group bottom35 mt-1"},it={class:"col-md-6 col-sm-6"},at=t("span",null," Nomor Kontak ",-1),rt={class:"form-group bottom35 mt-1"},lt={class:"col-md-6 col-sm-6"},dt=t("span",null," Instansi ",-1),ct={class:"form-group bottom35 mt-1"},mt={class:"col-md-6 col-sm-6"},ut=t("span",null," Info ",-1),ft={class:"form-group bottom35 mt-1"},_t=["disabled"],gt={class:"col-md-3 col-sm-3"},ht=t("span",null," Jabatan ",-1),bt={class:"form-group bottom35 mt-1"},vt={class:"col-md-3 col-sm-3"},kt=t("span",null," Jenjang ",-1),yt={class:"form-group bottom35"},wt={class:"form-group bottom35 mt-1"},Ct={class:"col-md-6 col-sm-6 mt-4"},xt=["href"],Bt={key:0,class:"badge bg-success fs-5"},St={key:1,class:"badge bg-warning fs-5"},At={key:2,class:"badge bg-danger fs-5"},jt={key:3,class:"badge bg-secondary fs-5"},pt=["href"],Et={class:"badge bg-warning fs-5 ms-4"},Ut={class:"text-center"},Vt=t("i",{class:"fa fa-check-circle fa-lg me-1","aria-hidden":"true"},null,-1),It=_("Selesai"),Mt=[Vt,It],Tt=t("i",{class:"fa fa-question-circle fa-lg me-1","aria-hidden":"true"},null,-1),Pt=_("Perbaikan"),Lt=[Tt,Pt],Nt=t("i",{class:"fa fa-times-circle fa-lg me-1","aria-hidden":"true"},null,-1),Kt=_("Tolak"),Dt=[Nt,Kt],Yt=t("i",{class:"fa fa-envelope fa-lg me-1","aria-hidden":"true"},null,-1),Ht=_("Permintaan Pembayaran"),Rt=[Yt,Ht],Jt=t("i",{class:"fa fa-check-circle fa-lg me-1","aria-hidden":"true"},null,-1),Ot=_("Kirim Ulang Email Selesai"),Ft=[Jt,Ot],qt={class:"modal-dialog modal-dialog-centered"},zt={class:"modal-content"},Gt=t("div",{class:"modal-body"},[t("h5",{class:"modal-title"},"Mengirim Link Perbaikan Ke Email:")],-1),Qt={class:"modal-body"},Wt={class:"modal-footer"};function Xt(a,e,s,o,w,C){const v=B("Head"),b=B("Link");return i(),l(M,null,[S(v,null,{default:k(()=>[L]),_:1}),t("div",N,[t("div",K,[t("div",D,[S(b,{href:"/admin/registration",class:"btn btn-md btn-primary border-0 shadow mb-3",type:"button"},{default:k(()=>[Y,H]),_:1}),s.register.status!=="approved"&&s.register.status!=="rejected"?(i(),V(b,{key:0,href:`/registration/confirm/${s.register.id}/edit`,class:"btn btn-md btn-warning border-0 shadow mb-3 ms-3",type:"button"},{default:k(()=>[R,J]),_:1},8,["href"])):d("",!0),t("div",O,[t("div",F,[q,s.errors&&Object.keys(s.errors).length>0?(i(),l("div",z,g(s.errors),1)):d("",!0),G,t("div",Q,[t("div",W,[X,t("div",Z,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=n=>o.form.nip=n),disabled:""},null,512),[[f,o.form.nip]])])]),t("div",$,[tt,t("div",et,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=n=>o.form.name=n),disabled:""},null,512),[[f,o.form.name]])])]),t("div",st,[ot,t("div",nt,[u(t("input",{type:"email",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=n=>o.form.email=n),disabled:""},null,512),[[f,o.form.email]])])]),t("div",it,[at,t("div",rt,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=n=>o.form.contact=n),disabled:""},null,512),[[f,o.form.contact]])])]),t("div",lt,[dt,t("div",ct,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=n=>o.form.agency=n),disabled:""},null,512),[[f,o.form.agency]])])]),t("div",mt,[ut,t("div",ft,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=n=>o.form.info=n),disabled:s.register.status==="approved"||s.register.status==="rejected"},null,8,_t),[[f,o.form.info]])])]),t("div",gt,[ht,t("div",bt,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=n=>o.form.position=n),disabled:""},null,512),[[f,o.form.position]])])]),t("div",vt,[kt,t("div",yt,[t("div",wt,[u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=n=>o.form.level=n),disabled:""},null,512),[[f,o.form.level]])])])]),t("div",Ct,[t("a",{href:o.getDocumentUrl(o.form.document_jab),target:"_blank",class:"badge bg-primary fs-5 border-0 shadow me-4 fs-5",type:"button"}," View SK Jabatan ",8,xt),s.register.status==="approved"?(i(),l("span",Bt,"Status "+g(s.register.status),1)):s.register.status==="confirm"?(i(),l("span",St,"Status "+g(s.register.status),1)):s.register.status==="rejected"?(i(),l("span",At,"Status "+g(s.register.status),1)):s.register.status==="submission"?(i(),l("span",jt,"Status "+g(s.register.status),1)):d("",!0),s.register.paid?(i(),l("a",{key:4,href:o.getImageUrl(s.register.paid),target:"_blank",class:"badge bg-primary fs-5 ms-4"},"Paid",8,pt)):d("",!0),t("span",Et,g(s.register.from),1)])]),t("div",Ut,[s.register.status!=="rejected"&&s.register.status!=="approved"?(i(),l("button",{key:0,onClick:e[8]||(e[8]=n=>o.handleApprove(s.register.id)),class:"btn btn-sm btn-success border-0 shadow me-2"},Mt)):d("",!0),s.register.status!=="approved"?(i(),l("button",{key:1,onClick:e[9]||(e[9]=y(n=>o.showModalEmail=!0,["prevent"])),class:"btn btn-sm btn-warning border-0 shadow me-2"},Lt)):d("",!0),s.register.status!=="approved"&&s.register.status!=="rejected"?(i(),l("button",{key:2,onClick:e[10]||(e[10]=n=>o.handleReject(s.register.id)),class:"btn btn-sm btn-danger border-0 shadow me-2"},Dt)):d("",!0),s.register.status!=="approved"&&s.register.status!=="rejected"?(i(),l("button",{key:3,onClick:e[11]||(e[11]=n=>o.sendEmail(s.register.id)),class:"btn btn-sm btn-primary border-0 shadow me-2"},Rt)):d("",!0),s.register.status==="approved"?(i(),l("button",{key:4,onClick:e[12]||(e[12]=n=>o.handleemailApprove(s.register.id)),class:"btn btn-sm btn-success border-0 shadow me-2"},Ft)):d("",!0)])])])])])]),o.showModalEmail?(i(),l("div",{key:0,class:I(["modal fade",{show:o.showModalEmail}]),tabindex:"-1","aria-hidden":"true",style:{display:"block"},role:"dialog"},[t("div",qt,[t("div",zt,[Gt,t("div",Qt,[u(t("input",{type:"email",class:"form-control","onUpdate:modelValue":e[13]||(e[13]=n=>o.form.sendemail=n)},null,512),[[f,o.form.sendemail]])]),t("div",Wt,[t("button",{onClick:e[14]||(e[14]=y(n=>o.handleConfirm(s.register.id),["prevent"])),type:"button",class:"btn btn-primary"},"Kirim"),t("button",{onClick:e[15]||(e[15]=y(n=>o.showModalEmail=!1,["prevent"])),type:"button",class:"btn btn-secondary"},"Tutup")])])])],2)):d("",!0)],64)}const se=T(P,[["render",Xt]]);export{se as default};
