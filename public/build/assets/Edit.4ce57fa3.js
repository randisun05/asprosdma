import{L as k}from"./User.4eaea9fa.js";import{H as b,L as w,q as x,a as I,o as a,c as i,b as D,w as S,d as t,s as g,f as d,v as u,t as r,g as m,F as y,j as U,h as p,e as C,k as _}from"./app.56f58a85.js";import{S as V}from"./sweetalert2.all.15407acb.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Footer.4a36b5e6.js";const L={data(){return{searchInstansi:"",showDropdown:!1}},computed:{filteredInstansis(){return this.instansis.filter(l=>l.title.toLowerCase().includes(this.searchInstansi.toLowerCase()))}},methods:{toggleSearch(){this.showDropdown=!this.showDropdown,this.showDropdown?document.body.addEventListener("click",this.closeDropdownOutside):document.body.removeEventListener("click",this.closeDropdownOutside)},closeDropdownOutside(l){this.$refs.dropdownWrapper.contains(l.target)||(this.showDropdown=!1,document.body.removeEventListener("click",this.closeDropdownOutside))},selectInstansi(l){this.form.agency=l.title,this.searchInstansi="",this.showDropdown=!1},openFileInput(){this.$refs.fileInput.click()},updateImage(l){this.form.image=l.target.files[0]}},layout:k,components:{Head:b,Link:w},props:{errors:Object,session:Object,data:Object,instansis:Array,provinces:Array,cities:Array},setup(l){const e=x({nip:l.data.main.nip,name:l.data.main.name,email:l.data.main.email,contact:l.data.main.contact,fname:l.data.main.fname,lname:l.data.main.lname,leveledu:l.data.main.leveledu,lastedu:l.data.main.lastedu,place:l.data.main.place,dob:l.data.main.dob,gender:l.data.main.gender,religion:l.data.main.religion,agency:l.data.agency,image:l.data.main.image});return{form:e,submit:()=>{_.Inertia.post("/user/profile/edit",{nip:e.nip,name:e.name,fname:e.fname,lname:e.lname,leveledu:e.leveledu,lastedu:e.lastedu,place:e.place,dob:e.dob,email:e.email,contact:e.contact,gender:e.gender,religion:e.religion,agency:e.agency},{onSuccess:()=>{V.fire({title:"Success!",text:"Data Anggota Berhasil Diupdate.",icon:"success",showConfirmButton:!1,timer:2e3})}})},getImageUrl:c=>c?`/storage/${c}`:"/assets/images/team-grey-1.jpg",updateImage:c=>{const f=new FormData;f.append("image",c.target.files[0]),_.Inertia.post("/user/profile/image",f)}}}},j={id:"profile",class:"container mt-4"},A={class:"container-fluid px-5"},B={class:"row d-flex justify-content-center"},F={class:"col-sm-12 card shadow"},K={class:"container py-4"},E={class:"row"},M={class:"col-lg-2 col-md-2"},O={class:"text-center"},H=["src"],N={class:"col-lg-9"},T={class:"row"},G={class:"col-lg-8"},W={key:0,class:"alert-danger mt-1 rounded"},q={class:"row mt-2"},J={class:"col-lg-8"},z={key:0,class:"rounded alert-danger mt-1"},Q={class:"row mt-2"},R={class:"col-lg-8"},X={key:0,class:"rounded alert-danger mt-1"},Y={class:"row mt-2"},Z={class:"col-lg-8"},$={key:0,class:"rounded alert-danger mt-1"},ee={class:"row mt-2"},te={class:"col-lg-8"},oe={class:"position-relative",ref:"dropdownWrapper"},se={class:"form-group mt-1"},ne={key:0,class:"dropdown-menu position-absolute w-100"},le={key:0,class:"dropdown-item-list"},ae=["onClick"],ie={key:1,class:"dropdown-item disabled"},de={key:0,class:"rounded alert-danger mt-2"},re={class:"col-sm-12 card shadow mt-4"},me={class:"row ms-2 mb-3"},ce={class:"col-md-6 col-sm-6"},ue={class:"form-group mt-1"},ve={key:0,class:"rounded alert-danger mt-2"},fe={class:"col-md-6 col-sm-6"},ge={class:"form-group mt-1"},pe={key:0,class:"rounded alert-danger mt-2"},ye={class:"row ms-2 mb-3"},_e={class:"col-md-6 col-sm-6"},he={class:"form-group mt-1"},ke={key:0,class:"rounded alert-danger mt-2"},be={class:"col-md-6 col-sm-6"},we={class:"form-group mt-1"},xe={key:0,class:"rounded alert-danger mt-2"},Ie={class:"row ms-2 mb-3"},De={class:"col-md-6 col-sm-6"},Se={class:"form-group mt-1"},Ue={key:0,class:"rounded alert-danger mt-2"},Ce={class:"col-md-6 col-sm-6"},Ve={class:"form-group mt-1"},Pe={key:0,class:"rounded alert-danger mt-2"},Le={class:"col-sm-12 card shadow mt-4"},je={class:"row ms-2 mb-3"},Ae={class:"col-md-6 col-sm-6"},Be={class:"form-group mt-1"},Fe={key:0,class:"rounded alert-danger mt-2"},Ke={class:"col-md-6 col-sm-6"},Ee={class:"form-group mt-1"},Me={key:0,class:"rounded alert-danger mt-2"};function Oe(l,e,n,s,v,c){const f=I("Head");return a(),i(y,null,[D(f,null,{default:S(()=>[...e[18]||(e[18]=[t("title",null,"Profile Anggota",-1)])]),_:1}),t("form",{onSubmit:e[17]||(e[17]=C((...o)=>s.submit&&s.submit(...o),["prevent"])),class:"getin_form border-form padding",id:"data"},[t("section",j,[t("div",A,[t("div",B,[t("div",F,[e[25]||(e[25]=g('<div class="row"><h3 class="text-center mt-4 text-black"> Update Profile Anggota </h3></div><div class="row mt-4"><ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" href="/user/profile">Profile</a></li></ul></div>',2)),t("div",K,[t("div",E,[t("div",M,[t("div",O,[t("img",{src:s.getImageUrl(s.form.image),alt:"Foto Profil",class:"img-fluid rounded-circle",title:"Ubah foto profil",style:{width:"100%",height:"200px"}},null,8,H),t("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:e[0]||(e[0]=(...o)=>s.updateImage&&s.updateImage(...o)),accept:".jpg, .jpeg, .png"},null,544),t("button",{onClick:e[1]||(e[1]=(...o)=>c.openFileInput&&c.openFileInput(...o)),type:"button",class:"btn btn-secondary mt-2"},"Ubah Foto")])]),e[24]||(e[24]=t("div",{class:"col-lg-1"},null,-1)),t("div",N,[t("div",T,[e[19]||(e[19]=t("div",{class:"col-lg-3 ms-5 py-2"},[t("span",null," NIP ")],-1)),t("div",G,[d(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=o=>s.form.nip=o),maxlength:"18",readonly:"",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[u,s.form.nip]]),n.errors.nip?(a(),i("div",W,r(n.errors.nip),1)):m("",!0)])]),t("div",q,[e[20]||(e[20]=t("div",{class:"col-lg-3 ms-5 py-2"},[t("span",null," Nama ")],-1)),t("div",J,[d(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=o=>s.form.name=o)},null,512),[[u,s.form.name]]),n.errors.name?(a(),i("div",z,r(n.errors.name),1)):m("",!0)])]),t("div",Q,[e[21]||(e[21]=t("div",{class:"col-lg-3 ms-5 py-2"},[t("span",null," Gelar Depan ")],-1)),t("div",R,[d(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=o=>s.form.fname=o),onkeypress:"return event.charCode < 48 || event.charCode > 57"},null,512),[[u,s.form.fname]]),n.errors.fname?(a(),i("div",X,r(n.errors.fname),1)):m("",!0)])]),t("div",Y,[e[22]||(e[22]=t("div",{class:"col-lg-3 ms-5 py-2"},[t("span",null," Gelar Belakang ")],-1)),t("div",Z,[d(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=o=>s.form.lname=o),onkeypress:"return event.charCode < 48 || event.charCode > 57"},null,512),[[u,s.form.lname]]),n.errors.lname?(a(),i("div",$,r(n.errors.lname),1)):m("",!0)])]),t("div",ee,[e[23]||(e[23]=t("div",{class:"col-lg-3 ms-5 py-2"},[t("span",null," Instansi")],-1)),t("div",te,[t("div",oe,[t("div",se,[d(t("input",{type:"text",class:"form-control",placeholder:"Pilih Instansi","onUpdate:modelValue":e[6]||(e[6]=o=>s.form.agency=o),onClick:e[7]||(e[7]=(...o)=>c.toggleSearch&&c.toggleSearch(...o)),readonly:""},null,512),[[u,s.form.agency]])]),v.showDropdown?(a(),i("div",ne,[d(t("input",{type:"text",class:"form-control mb-2",placeholder:"Cari Instansi","onUpdate:modelValue":e[8]||(e[8]=o=>v.searchInstansi=o)},null,512),[[u,v.searchInstansi]]),c.filteredInstansis.length>0?(a(),i("div",le,[(a(!0),i(y,null,U(c.filteredInstansis,(o,h)=>(a(),i("button",{key:h,class:"dropdown-item",onClick:He=>c.selectInstansi(o)},r(o.title),9,ae))),128))])):(a(),i("div",ie,"Instansi tidak ditemukan"))])):m("",!0)],512)]),n.errors.agency?(a(),i("div",de,r(n.errors.agency),1)):m("",!0)])])])])]),t("div",re,[e[34]||(e[34]=t("div",{class:"py-4"},[t("span",null," Data Pribadi ")],-1)),t("div",me,[t("div",ce,[e[26]||(e[26]=t("span",{class:"text-black"}," Tempat Lahir ",-1)),t("div",ue,[d(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=o=>s.form.place=o)},null,512),[[u,s.form.place]])]),n.errors.place?(a(),i("div",ve,r(n.errors.place),1)):m("",!0)]),t("div",fe,[e[27]||(e[27]=t("span",{class:"text-black"}," Tanggal Lahir ",-1)),t("div",ge,[d(t("input",{type:"date",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=o=>s.form.dob=o)},null,512),[[u,s.form.dob]])]),n.errors.dob?(a(),i("div",pe,r(n.errors.dob),1)):m("",!0)])]),t("div",ye,[t("div",_e,[e[28]||(e[28]=t("span",{class:"text-black"}," Kontak ",-1)),t("div",he,[d(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=o=>s.form.contact=o),onkeypress:"return event.charCode >= 48 && event.charCode <= 57",maxlength:"13"},null,512),[[u,s.form.contact]])]),n.errors.contact?(a(),i("div",ke,r(n.errors.contact),1)):m("",!0)]),t("div",be,[e[29]||(e[29]=t("span",{class:"text-black"}," Email ",-1)),t("div",we,[d(t("input",{type:"email",class:"form-control","onUpdate:modelValue":e[12]||(e[12]=o=>s.form.email=o)},null,512),[[u,s.form.email]])]),n.errors.email?(a(),i("div",xe,r(n.errors.email),1)):m("",!0)])]),t("div",Ie,[t("div",De,[e[31]||(e[31]=t("span",{class:"text-black"}," Jenis Kelamin ",-1)),t("div",Se,[d(t("select",{class:"form-select","onUpdate:modelValue":e[13]||(e[13]=o=>s.form.gender=o)},[...e[30]||(e[30]=[t("option",{value:"",disabled:"",selected:""},"Pilih salah satu opsi",-1),t("option",{value:"L"},"Laki-laki",-1),t("option",{value:"P"},"Perempuan",-1)])],512),[[p,s.form.gender]])]),n.errors.gender?(a(),i("div",Ue,r(n.errors.gender),1)):m("",!0)]),t("div",Ce,[e[33]||(e[33]=t("span",{class:"text-black"}," Agama ",-1)),t("div",Ve,[d(t("select",{class:"form-select","onUpdate:modelValue":e[14]||(e[14]=o=>s.form.religion=o)},[...e[32]||(e[32]=[g('<option value="" disabled selected>Pilih salah satu opsi</option><option value="Islam">Islam</option><option value="Kristen">Kristen</option><option value="Khatolik">Khatolik</option><option value="Budha">Budha</option><option value="Hindu">Hindu</option>',6)])],512),[[p,s.form.religion]])]),n.errors.religion?(a(),i("div",Pe,r(n.errors.religion),1)):m("",!0)])])]),t("div",Le,[e[38]||(e[38]=t("div",{class:"py-4"},[t("span",null," Data Pendidikan ")],-1)),t("div",je,[t("div",Ae,[e[36]||(e[36]=t("span",{class:"text-black"}," Tingkat Pendidikan ",-1)),t("div",Be,[d(t("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=o=>s.form.leveledu=o)},[...e[35]||(e[35]=[g('<option value="" disabled selected>Pilih salah satu opsi</option><option value="SMA/SMK">SMA/SMK</option><option value="D-3">D-3</option><option value="D-4">D-4</option><option value="S-1">S-1</option><option value="S-2">S-2</option><option value="S-3">S-3</option>',7)])],512),[[p,s.form.leveledu]])]),n.errors.leveledu?(a(),i("div",Fe,r(n.errors.leveledu),1)):m("",!0)]),t("div",Ke,[e[37]||(e[37]=t("span",{class:"text-black"}," Pendidikan Terakhir ",-1)),t("div",Ee,[d(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[16]||(e[16]=o=>s.form.lastedu=o)},null,512),[[u,s.form.lastedu]])]),n.errors.lastedu?(a(),i("div",Me,r(n.errors.lastedu),1)):m("",!0)])])]),e[39]||(e[39]=t("div",{class:"row d-flex justify-content-center py-5"},[t("button",{type:"submit",class:"button btnprimary",style:{width:"300px"}},"Simpan"),t("a",{href:"/user/profile",class:"button btnsecondary",style:{width:"300px"}},"Batal")],-1))])])])],32)],64)}const Je=P(L,[["render",Oe]]);export{Je as default};
