import{L as B}from"./Admin.258a5e7f.js";import{P as S}from"./Pagination.1364fb52.js";import{H as A,L as j,r as L,C as R,a as k,o as a,c as n,b as c,w as u,d as t,e as g,f as P,v as T,F as x,j as I,k as p,t as o,g as w,m as N,i as y}from"./app.8cf303d7.js";import{S as b}from"./sweetalert2.all.1f1d4bfd.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";const V={layout:B,components:{Head:A,Link:j,Pagination:S},props:{errors:Object,posts:Object,publishs:Object,categories:Object,limiteds:Object},setup(v){const l=L(new URL(document.location).searchParams.get("q")),h=()=>{p.Inertia.get("/admin/admin/posts",{q:l.value})},d=i=>{b.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(s=>{s.isConfirmed&&(p.Inertia.delete(`/admin/posts/${i}`),b.fire({title:"Deleted!",text:"Peserta Berhasil Dihapus!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},C=i=>{b.fire({title:"Apakah Anda yakin?",text:"Post akan diajukan untuk publish!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Submit it!"}).then(s=>{s.isConfirmed&&(p.Inertia.get(`/admin/posts/${i}/submission`),b.fire({title:"Success!",text:"Status Returned!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},m=i=>{i.data.forEach(s=>{if(Array.isArray(s.react)){const f=s.react.filter(r=>r.react_id==="1").length,e=s.react.filter(r=>r.react_id==="2").length,_=s.react.filter(r=>r.react_id==="3").length;s.react={love:f,like:e,view:_}}else s.react={love:0,like:0,view:0}})};return R(()=>v.posts,i=>{m(i)},{immediate:!0}),{search:l,handleSearch:h,countReactions:m,handleSubmission:C,destroy:d}}},D=t("title",null,"Administrator",-1),H={class:"container-fluid padding px-5"},U={class:"row"},K={class:"col-md-12"},q={class:"row"},E={class:"col-md-1 col-12 mb-2"},F=t("i",{class:"fa fa-arrow-left"},null,-1),M=y(" Kembali"),Y={class:"col-md-1 col-12 mb-2"},z=t("i",{class:"fa fa-plus-circle"},null,-1),G=y(" Tambah"),J={class:"col-md-1 col-12 mb-2"},Q=t("i",{class:"fa fa-plus-circle"},null,-1),W=y(" Kategori "),X={class:"col-md-4 col-12 mb-2"},Z={class:"input-group"},$=t("span",{class:"input-group-text border-0 shadow"},[t("i",{class:"fa fa-search"})],-1),tt={class:"row mt-1"},et={class:"col-md-12"},st={class:"card border-0 shadow"},at={class:"card-body"},nt={class:"table-responsive",id:"sub"},ot={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},it=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Titleee"),t("th",{class:"border-0"},"Author"),t("th",{class:"border-0"},"Kategori"),t("th",{class:"border-0"},"Status"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),dt=t("div",{class:"mt-2"},null,-1),lt={class:"fw-bold text-center"},rt={key:0,class:"badge bg-success",title:"disetujui untuk di publish"},ct={key:1,class:"badge bg-warning",title:"hanya untuk konsumsi pribadi"},ut={key:2,class:"badge bg-warning",title:"silakan dicek kembali"},ht={key:3,class:"badge bg-danger",title:"ditolak untuk publish"},_t={key:4,class:"badge bg-secondary"},bt={key:5,class:"badge bg-danger",title:"ditolak untuk publish"},mt={key:6,class:"badge bg-secondary"},ft={class:"text-center"},kt=t("i",{class:"fa fa-pencil"},null,-1),gt=t("i",{class:"fa fa-eye",title:"lihat detail"},null,-1),pt=t("i",{class:"fa fa-envelope"},null,-1),wt=["onClick"],yt=t("i",{class:"fa fa-trash",title:"hapus"},null,-1),vt=[yt];function Ct(v,l,h,d,C,m){const i=k("Head"),s=k("Link"),f=k("Pagination");return a(),n(x,null,[c(i,null,{default:u(()=>[D]),_:1}),t("div",H,[t("div",U,[t("div",K,[t("div",q,[t("div",E,[c(s,{href:"/admin/posts",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:u(()=>[F,M]),_:1})]),t("div",Y,[c(s,{href:"/admin/posts/create",class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:u(()=>[z,G]),_:1})]),t("div",J,[c(s,{href:"/admin/category/create",class:"btn btn-md btn-warning border-0 shadow w-100",type:"button"},{default:u(()=>[Q,W]),_:1})]),t("div",X,[t("form",{onSubmit:l[1]||(l[1]=g((...e)=>d.handleSearch&&d.handleSearch(...e),["prevent"]))},[t("div",Z,[P(t("input",{type:"text",class:"form-control border-0 shadow","onUpdate:modelValue":l[0]||(l[0]=e=>d.search=e),placeholder:"masukkan kata kunci dan enter..."},null,512),[[T,d.search]]),$])],32)])])])]),t("div",tt,[t("div",et,[t("div",st,[t("div",at,[t("div",nt,[t("table",ot,[it,dt,t("tbody",null,[(a(!0),n(x,null,I(h.posts.data,(e,_)=>(a(),n("tr",{key:_},[t("td",lt,o(++_+(h.posts.current_page-1)*h.posts.per_page),1),t("td",null,o(e.title),1),t("td",null,o(e.member_id!==1?e.member.name:"Administrator"),1),t("td",null,o(e.category.title),1),t("td",null,[e.status==="approved"?(a(),n("span",rt,o(e.status),1)):e.status==="private"?(a(),n("span",ct,o(e.status),1)):e.status==="perlu ada perbaikan"?(a(),n("span",ut,o(e.status),1)):e.status==="rejected"?(a(),n("span",ht,o(e.status),1)):e.status==="submission"?(a(),n("span",_t,o(e.status),1)):e.status==="return"?(a(),n("span",bt,o(e.status),1)):e.status==="limited"?(a(),n("span",mt,o(e.status),1)):w("",!0)]),t("td",ft,[c(s,{href:`/admin/posts/${encodeURIComponent(e.slug)}/edit`,class:"btn btn-sm btn-warning border-0 shadow me-2",type:"button",title:"edit"},{default:u(()=>[kt]),_:2},1032,["href"]),c(s,{href:`/admin/posts/${encodeURIComponent(e.slug)}`,class:"btn btn-sm btn-info border-0 shadow me-2",type:"button"},{default:u(()=>[gt]),_:2},1032,["href"]),e.status!=="submission"&&e.status!=="approved"&&e.status!=="limited"?(a(),N(s,{key:0,onClick:g(r=>d.handleSubmission(e.id),["prevent"]),class:"btn btn-sm btn-success border-0 shadow me-2",type:"button",title:"pengajuan publish"},{default:u(()=>[pt]),_:2},1032,["onClick"])):w("",!0),e.status!=="rejected"&&e.status!=="approved"&&e.status!=="limited"?(a(),n("button",{key:1,onClick:g(r=>d.destroy(e.id),["prevent"]),class:"btn btn-sm btn-danger border-0 me-2"},vt,8,wt)):w("",!0)])]))),128))])])]),c(f,{links:h.posts.links,align:"end"},null,8,["links"])])])])])])],64)}const Lt=O(V,[["render",Ct]]);export{Lt as default};
