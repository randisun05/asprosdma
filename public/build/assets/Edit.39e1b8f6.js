import{L as k}from"./User.81098834.js";import{H as b,L as w,u as x,a as I,o as l,c as i,b as D,w as S,d as e,f as d,v as u,t as r,g as c,F as g,j as U,h as v,e as C,k as p,x as f}from"./app.3f111b3f.js";import{S as V}from"./sweetalert2.all.3c69dd19.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Footer.d12cfc53.js";const L={data(){return{searchInstansi:"",showDropdown:!1}},computed:{filteredInstansis(){return this.instansis.filter(a=>a.title.toLowerCase().includes(this.searchInstansi.toLowerCase()))}},methods:{toggleSearch(){this.showDropdown=!this.showDropdown,this.showDropdown?document.body.addEventListener("click",this.closeDropdownOutside):document.body.removeEventListener("click",this.closeDropdownOutside)},closeDropdownOutside(a){this.$refs.dropdownWrapper.contains(a.target)||(this.showDropdown=!1,document.body.removeEventListener("click",this.closeDropdownOutside))},selectInstansi(a){this.form.agency=a.title,this.searchInstansi="",this.showDropdown=!1},openFileInput(){this.$refs.fileInput.click()},updateImage(a){this.form.image=a.target.files[0]}},layout:k,components:{Head:b,Link:w},props:{errors:Object,session:Object,data:Object,instansis:Array,provinces:Array,cities:Array},setup(a){const t=x({nip:a.data.main.nip,name:a.data.main.name,email:a.data.main.email,contact:a.data.main.contact,fname:a.data.main.fname,lname:a.data.main.lname,leveledu:a.data.main.leveledu,lastedu:a.data.main.lastedu,place:a.data.main.place,dob:a.data.main.dob,gender:a.data.main.gender,religion:a.data.main.religion,agency:a.data.agency,image:a.data.main.image});return{form:t,submit:()=>{p.Inertia.post("/user/profile/edit",{nip:t.nip,name:t.name,fname:t.fname,lname:t.lname,leveledu:t.leveledu,lastedu:t.lastedu,place:t.place,dob:t.dob,email:t.email,contact:t.contact,gender:t.gender,religion:t.religion,agency:t.agency},{onSuccess:()=>{V.fire({title:"Success!",text:"Data Anggota Berhasil Diupdate.",icon:"success",showConfirmButton:!1,timer:2e3})}})},getImageUrl:m=>m?`/storage/${m}`:"/assets/images/team-grey-1.jpg",updateImage:m=>{const h=new FormData;h.append("image",m.target.files[0]),p.Inertia.post("/user/profile/image",h)}}}},j=e("title",null,"Profile Anggota",-1),A={id:"profile",class:"container mt-4"},B={class:"container-fluid px-5"},F={class:"row d-flex justify-content-center"},K={class:"col-sm-12 card shadow"},E=f('<div class="row"><h3 class="text-center mt-4 text-black"> Update Profile Anggota </h3></div><div class="row mt-4"><ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" href="/user/profile">Profile</a></li></ul></div>',2),M={class:"container py-4"},O={class:"row"},H={class:"col-lg-2 col-md-2"},N={class:"text-center"},T=["src"],G=e("div",{class:"col-lg-1"},null,-1),W={class:"col-lg-9"},J={class:"row"},q=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," NIP ")],-1),z={class:"col-lg-8"},Q={key:0,class:"alert-danger mt-1 rounded"},R={class:"row mt-2"},X=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Nama ")],-1),Y={class:"col-lg-8"},Z={key:0,class:"rounded alert-danger mt-1"},$={class:"row mt-2"},ee=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Gelar Depan ")],-1),te={class:"col-lg-8"},oe={key:0,class:"rounded alert-danger mt-1"},se={class:"row mt-2"},ne=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Gelar Belakang ")],-1),ae={class:"col-lg-8"},le={key:0,class:"rounded alert-danger mt-1"},ie={class:"row mt-2"},de=e("div",{class:"col-lg-3 ms-5 py-2"},[e("span",null," Instansi")],-1),re={class:"col-lg-8"},ce={class:"position-relative",ref:"dropdownWrapper"},me={class:"form-group mt-1"},ue={key:0,class:"dropdown-menu position-absolute w-100"},_e={key:0,class:"dropdown-item-list"},he=["onClick"],ve={key:1,class:"dropdown-item disabled"},fe={key:0,class:"rounded alert-danger mt-2"},ge={class:"col-sm-12 card shadow mt-4"},pe=e("div",{class:"py-4"},[e("span",null," Data Pribadi ")],-1),ye={class:"row ms-2 mb-3"},ke={class:"col-md-6 col-sm-6"},be=e("span",{class:"text-black"}," Tempat Lahir ",-1),we={class:"form-group mt-1"},xe={key:0,class:"rounded alert-danger mt-2"},Ie={class:"col-md-6 col-sm-6"},De=e("span",{class:"text-black"}," Tanggal Lahir ",-1),Se={class:"form-group mt-1"},Ue={key:0,class:"rounded alert-danger mt-2"},Ce={class:"row ms-2 mb-3"},Ve={class:"col-md-6 col-sm-6"},Pe=e("span",{class:"text-black"}," Kontak ",-1),Le={class:"form-group mt-1"},je={key:0,class:"rounded alert-danger mt-2"},Ae={class:"col-md-6 col-sm-6"},Be=e("span",{class:"text-black"}," Email ",-1),Fe={class:"form-group mt-1"},Ke={key:0,class:"rounded alert-danger mt-2"},Ee={class:"row ms-2 mb-3"},Me={class:"col-md-6 col-sm-6"},Oe=e("span",{class:"text-black"}," Jenis Kelamin ",-1),He={class:"form-group mt-1"},Ne=e("option",{value:"",disabled:"",selected:""},"Pilih salah satu opsi",-1),Te=e("option",{value:"L"},"Laki-laki",-1),Ge=e("option",{value:"P"},"Perempuan",-1),We=[Ne,Te,Ge],Je={key:0,class:"rounded alert-danger mt-2"},qe={class:"col-md-6 col-sm-6"},ze=e("span",{class:"text-black"}," Agama ",-1),Qe={class:"form-group mt-1"},Re=f('<option value="" disabled selected>Pilih salah satu opsi</option><option value="Islam">Islam</option><option value="Kristen">Kristen</option><option value="Khatolik">Khatolik</option><option value="Budha">Budha</option><option value="Hindu">Hindu</option>',6),Xe=[Re],Ye={key:0,class:"rounded alert-danger mt-2"},Ze={class:"col-sm-12 card shadow mt-4"},$e=e("div",{class:"py-4"},[e("span",null," Data Pendidikan ")],-1),et={class:"row ms-2 mb-3"},tt={class:"col-md-6 col-sm-6"},ot=e("span",{class:"text-black"}," Tingkat Pendidikan ",-1),st={class:"form-group mt-1"},nt=f('<option value="" disabled selected>Pilih salah satu opsi</option><option value="SMA/SMK">SMA/SMK</option><option value="D-3">D-3</option><option value="D-4">D-4</option><option value="S-1">S-1</option><option value="S-2">S-2</option><option value="S-3">S-3</option>',7),at=[nt],lt={key:0,class:"rounded alert-danger mt-2"},it={class:"col-md-6 col-sm-6"},dt=e("span",{class:"text-black"}," Pendidikan Terakhir ",-1),rt={class:"form-group mt-1"},ct={key:0,class:"rounded alert-danger mt-2"},mt=e("div",{class:"row d-flex justify-content-center py-5"},[e("button",{type:"submit",class:"button btnprimary",style:{width:"300px"}},"Simpan"),e("a",{href:"/user/profile",class:"button btnsecondary",style:{width:"300px"}},"Batal")],-1);function ut(a,t,n,s,_,m){const h=I("Head");return l(),i(g,null,[D(h,null,{default:S(()=>[j]),_:1}),e("form",{onSubmit:t[17]||(t[17]=C((...o)=>s.submit&&s.submit(...o),["prevent"])),class:"getin_form border-form padding",id:"data"},[e("section",A,[e("div",B,[e("div",F,[e("div",K,[E,e("div",M,[e("div",O,[e("div",H,[e("div",N,[e("img",{src:s.getImageUrl(s.form.image),alt:"Foto Profil",class:"img-fluid rounded-circle",title:"Ubah foto profil",style:{width:"100%",height:"200px"}},null,8,T),e("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:t[0]||(t[0]=(...o)=>s.updateImage&&s.updateImage(...o)),accept:".jpg, .jpeg, .png"},null,544),e("button",{onClick:t[1]||(t[1]=(...o)=>m.openFileInput&&m.openFileInput(...o)),type:"button",class:"btn btn-secondary mt-2"},"Ubah Foto")])]),G,e("div",W,[e("div",J,[q,e("div",z,[d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=o=>s.form.nip=o),maxlength:"18",readonly:"",onkeypress:"return event.charCode >= 48 && event.charCode <= 57"},null,512),[[u,s.form.nip]]),n.errors.nip?(l(),i("div",Q,r(n.errors.nip),1)):c("",!0)])]),e("div",R,[X,e("div",Y,[d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=o=>s.form.name=o)},null,512),[[u,s.form.name]]),n.errors.name?(l(),i("div",Z,r(n.errors.name),1)):c("",!0)])]),e("div",$,[ee,e("div",te,[d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=o=>s.form.fname=o),onkeypress:"return event.charCode < 48 || event.charCode > 57"},null,512),[[u,s.form.fname]]),n.errors.fname?(l(),i("div",oe,r(n.errors.fname),1)):c("",!0)])]),e("div",se,[ne,e("div",ae,[d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=o=>s.form.lname=o),onkeypress:"return event.charCode < 48 || event.charCode > 57"},null,512),[[u,s.form.lname]]),n.errors.lname?(l(),i("div",le,r(n.errors.lname),1)):c("",!0)])]),e("div",ie,[de,e("div",re,[e("div",ce,[e("div",me,[d(e("input",{type:"text",class:"form-control",placeholder:"Pilih Instansi","onUpdate:modelValue":t[6]||(t[6]=o=>s.form.agency=o),onClick:t[7]||(t[7]=(...o)=>m.toggleSearch&&m.toggleSearch(...o)),readonly:""},null,512),[[u,s.form.agency]])]),_.showDropdown?(l(),i("div",ue,[d(e("input",{type:"text",class:"form-control mb-2",placeholder:"Cari Instansi","onUpdate:modelValue":t[8]||(t[8]=o=>_.searchInstansi=o)},null,512),[[u,_.searchInstansi]]),m.filteredInstansis.length>0?(l(),i("div",_e,[(l(!0),i(g,null,U(m.filteredInstansis,(o,y)=>(l(),i("button",{key:y,class:"dropdown-item",onClick:_t=>m.selectInstansi(o)},r(o.title),9,he))),128))])):(l(),i("div",ve,"Instansi tidak ditemukan"))])):c("",!0)],512)]),n.errors.agency?(l(),i("div",fe,r(n.errors.agency),1)):c("",!0)])])])])]),e("div",ge,[pe,e("div",ye,[e("div",ke,[be,e("div",we,[d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=o=>s.form.place=o)},null,512),[[u,s.form.place]])]),n.errors.place?(l(),i("div",xe,r(n.errors.place),1)):c("",!0)]),e("div",Ie,[De,e("div",Se,[d(e("input",{type:"date",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=o=>s.form.dob=o)},null,512),[[u,s.form.dob]])]),n.errors.dob?(l(),i("div",Ue,r(n.errors.dob),1)):c("",!0)])]),e("div",Ce,[e("div",Ve,[Pe,e("div",Le,[d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=o=>s.form.contact=o),onkeypress:"return event.charCode >= 48 && event.charCode <= 57",maxlength:"13"},null,512),[[u,s.form.contact]])]),n.errors.contact?(l(),i("div",je,r(n.errors.contact),1)):c("",!0)]),e("div",Ae,[Be,e("div",Fe,[d(e("input",{type:"email",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=o=>s.form.email=o)},null,512),[[u,s.form.email]])]),n.errors.email?(l(),i("div",Ke,r(n.errors.email),1)):c("",!0)])]),e("div",Ee,[e("div",Me,[Oe,e("div",He,[d(e("select",{class:"form-select","onUpdate:modelValue":t[13]||(t[13]=o=>s.form.gender=o)},We,512),[[v,s.form.gender]])]),n.errors.gender?(l(),i("div",Je,r(n.errors.gender),1)):c("",!0)]),e("div",qe,[ze,e("div",Qe,[d(e("select",{class:"form-select","onUpdate:modelValue":t[14]||(t[14]=o=>s.form.religion=o)},Xe,512),[[v,s.form.religion]])]),n.errors.religion?(l(),i("div",Ye,r(n.errors.religion),1)):c("",!0)])])]),e("div",Ze,[$e,e("div",et,[e("div",tt,[ot,e("div",st,[d(e("select",{class:"form-select","onUpdate:modelValue":t[15]||(t[15]=o=>s.form.leveledu=o)},at,512),[[v,s.form.leveledu]])]),n.errors.leveledu?(l(),i("div",lt,r(n.errors.leveledu),1)):c("",!0)]),e("div",it,[dt,e("div",rt,[d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=o=>s.form.lastedu=o)},null,512),[[u,s.form.lastedu]])]),n.errors.lastedu?(l(),i("div",ct,r(n.errors.lastedu),1)):c("",!0)])])]),mt])])])],32)],64)}const yt=P(L,[["render",ut]]);export{yt as default};
