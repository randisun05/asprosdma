import{L as x}from"./Admin.5d8187ee.js";import{P as C}from"./Pagination.3e674621.js";import{H as I,L as B,r as T,a as m,o as r,c as d,b as _,w as f,d as t,e as b,f as L,v as D,t as l,g as u,F as p,j as N,k as g,i as S}from"./app.1cf3474e.js";import{S as v}from"./sweetalert2.all.cdfce74f.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";const V={layout:x,components:{Head:I,Link:B,Pagination:C},props:{errors:Object,event_id:Number,templates:Object},setup(){const i=T({title:"",image:"",status:""});return{destroy:s=>{v.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(c=>{c.isConfirmed&&(g.Inertia.delete(`/admin/events/certificates/templates/${s}`),v.fire({title:"Deleted!",text:"Media Berhasil Dihapus!.",icon:"success",timer:2e3,showConfirmButton:!1}))})},getImageUrl:s=>`/storage/${s}`,form:i,submit:()=>{const s=new FormData;s.append("title",i.value.title),s.append("image",i.value.image),s.append("status",i.value.status),g.Inertia.post("/admin/events/certificates/templates/store",s)},updateImage:s=>{i.value.image=s.target.files[0]}}}},H=t("title",null,"Template",-1),P={class:"px-5 shadow padding"},U={class:"row"},j={class:"col-md-12"},F={class:"col-md-1 col-12 mb-2"},M=t("i",{class:"fa fa-arrow-left"},null,-1),O=S(" Kembali"),E={class:"row"},K=t("h3",{class:"text-center"},"Template Sertifikat",-1),Y={class:"row py-4"},q={class:"col-md-4"},z=t("span",{class:"text-black"},"Title",-1),G={class:"form-group mt-1 mb-4"},J={key:0,class:"alert alert-danger mt-2"},Q={class:"col-md-3"},R=t("span",{class:"text-black"},"Image",-1),W={class:"form-group mt-1 mb-4"},X={key:0,class:"alert alert-danger mt-2"},Z={key:1,class:"alert alert-danger mt-2"},$=t("div",{class:"col-md-11 text-center"},[t("button",{type:"submit",class:"btn btn-primary"},"Simpan")],-1),tt={class:"row mt-1"},et={class:"col-md-12"},st={class:"card border-0 shadow"},at={class:"card-body"},ot={class:"table-responsive"},nt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},it=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0 text-center"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}},"No."),t("th",{class:"border-0"},"Title"),t("th",{class:"border-0"},"Image"),t("th",{class:"border-0 rounded-end",style:{width:"12%"}},"Aksi")])],-1),rt=t("div",{class:"mt-2"},null,-1),dt={class:"fw-bold text-center"},lt={style:{width:"80px"}},ct=["href"],mt=t("i",{class:"fa fa-eye"},null,-1),_t=[mt],ut={class:"text-center"},ht=["onClick"],ft=t("i",{class:"fa fa-trash",title:"hapus"},null,-1),bt=[ft];function pt(i,n,e,a,y,s){const c=m("Head"),k=m("Link"),w=m("Pagination");return r(),d(p,null,[_(c,null,{default:f(()=>[H]),_:1}),t("div",P,[t("div",U,[t("div",j,[t("div",F,[_(k,{href:`/admin/events/${e.event_id}/certificates`,class:"btn btn-md btn-primary border-0 shadow w-100",type:"button"},{default:f(()=>[M,O]),_:1},8,["href"])]),t("div",E,[K,t("form",{onSubmit:n[2]||(n[2]=b((...o)=>a.submit&&a.submit(...o),["prevent"])),enctype:"multipart/form-data"},[t("div",Y,[t("div",q,[z,t("div",G,[L(t("input",{type:"text",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=o=>a.form.title=o)},null,512),[[D,a.form.title]])]),e.errors.title?(r(),d("div",J,l(e.errors.title),1)):u("",!0)]),t("div",Q,[R,t("div",W,[t("input",{type:"file",class:"form-control",onChange:n[1]||(n[1]=(...o)=>a.updateImage&&a.updateImage(...o)),accept:".pdf"},null,32)]),e.errors.image?(r(),d("div",X,l(e.errors.image),1)):u("",!0),e.errors[0]?(r(),d("div",Z,l(e.errors[0]),1)):u("",!0)]),$])],32)])])]),t("div",tt,[t("div",et,[t("div",st,[t("div",at,[t("div",ot,[t("table",nt,[it,rt,t("tbody",null,[(r(!0),d(p,null,N(e.templates.data,(o,h)=>(r(),d("tr",{key:h},[t("td",dt,l(++h+(e.templates.current_page-1)*e.templates.per_page),1),t("td",null,l(o.title),1),t("td",lt,[t("a",{class:"btn btn-sm btn-primary border-0 me-1","data-fancybox":"",href:a.getImageUrl(o.image)},_t,8,ct)]),t("td",ut,[t("button",{onClick:b(gt=>a.destroy(o.id),["prevent"]),class:"btn btn-sm btn-danger border-0 me-2"},bt,8,ht)])]))),128))])])]),_(w,{links:e.templates.links,align:"end"},null,8,["links"])])])])])])],64)}const Ct=A(V,[["render",pt]]);export{Ct as default};
